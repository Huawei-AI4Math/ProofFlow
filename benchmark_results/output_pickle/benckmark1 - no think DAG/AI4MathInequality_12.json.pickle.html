
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any $a, b, c$ which are the lengths of the sides of a triangle, the following inequality holds:
$$ (a+b-c)^{a}(b+c-a)^{b}(c+a-b)^{c} \leq a^{a} b^{b} c^{c} $$

Proof: Let $x = a+b-c$, $y = b+c-a$, and $z = c+a-b$. Since $a, b, c$ are the side lengths of a triangle, we have $a+b>c$, $b+c>a$, and $c+a>b$, so $x, y, z > 0$. Consider the expression $$P = \left(rac{x}{a}ight)^a \left(rac{y}{b}ight)^b \left(rac{z}{c}ight)^c.$$. Taking logarithms, we obtain $\ln P = a \ln rac{x}{a} + b \ln rac{y}{b} + c \ln rac{z}{c}$. Using the inequality $\ln u \le u-1$ for $u>0$, we have $a \ln rac{x}{a} \le x-a = b-c$, $b \ln rac{y}{b} \le y-b = c-a$, and $c \ln rac{z}{c} \le z-c = a-b$. Summing these inequalities gives $\ln P \le (b-c) + (c-a) + (a-b) = 0$, so $P \le 1$. Multiplying both sides by $a^a b^b c^c > 0$ yields $(a+b-c)^a (b+c-a)^b (c+a-b)^c \le a^a b^b c^c$, which proves the desired inequality.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "for any $a, b, c$ which are the lengths of the sides of a triangle", "statement": "Premise:\n\u2022 $a, b, c$ are the lengths of the sides of a triangle, which implies $a > 0, b > 0, c > 0$, and the triangle inequalities $a+b>c$, $b+c>a$, and $c+a>b$ hold [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are real numbers (appropriate for side lengths) and the compound condition tc_1 contains exactly the triangle inequalities that define a valid triangle", "The condition a > 0 is explicitly stated in tc_1", "The condition b > 0 is explicitly stated in tc_1", "The condition c > 0 is explicitly stated in tc_1", "The triangle inequality a + b > c is explicitly stated in tc_1", "The triangle inequality b + c > a is explicitly stated in tc_1", "The triangle inequality c + a > b is explicitly stated in tc_1"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Let $x = a+b-c$, $y = b+c-a$, and $z = c+a-b$.", "statement": "Definition:\n\u2022 Let $x = a+b-c$, $y = b+c-a$, and $z = c+a-b$ [def_1], where $a, b, c$ are the lengths of the sides of a triangle [tc_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n(def_1_x : a + b - c = a + b - c)\n(def_1_y : b + c - a = b + c - a)\n(def_1_z : c + a - b = c + a - b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are side lengths of a triangle through the triangle inequality conditions and positivity constraints", "The Lean statement 'a + b - c = a + b - c' is a tautology that doesn't define x as requested. The natural language defines x = a+b-c, but Lean doesn't introduce variable x at all", "The Lean statement 'b + c - a = b + c - a' is a tautology that doesn't define y as requested. The natural language defines y = b+c-a, but Lean doesn't introduce variable y at all", "The Lean statement 'c + a - b = c + a - b' is a tautology that doesn't define z as requested. The natural language defines z = c+a-b, but Lean doesn't introduce variable z at all"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that a, b, c are side lengths of a triangle through the triangle inequality conditions and positivity constraints', \"The Lean statement 'a + b - c = a + b - c' is a tautology that doesn't define x as requested. The natural language defines x = a+b-c, but Lean doesn't introduce variable x at all\", \"The Lean statement 'b + c - a = b + c - a' is a tautology that doesn't define y as requested. The natural language defines y = b+c-a, but Lean doesn't introduce variable y at all\", \"The Lean statement 'c + a - b = c + a - b' is a tautology that doesn't define z as requested. The natural language defines z = c+a-b, but Lean doesn't introduce variable z at all\"]"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Since $a, b, c$ are the side lengths of a triangle, we have $a+b>c$, $b+c>a$, and $c+a>b$, so $x, y, z > 0$.", "statement": "We assume:\n\u2022 $a, b, c$ are the lengths of the sides of a triangle, with $a+b>c$, $b+c>a$, and $c+a>b$ [tc_1].\n\u2022 Let $x = a+b-c$, $y = b+c-a$, and $z = c+a-b$ [def_1].\nTherefore, we conclude:\n\u2022 $x, y, z$ are all positive, i.e., $x>0, y>0, z>0$ [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_x : a + b - c = a + b - c)\n  (def_1_y : b + c - a = b + c - a)\n  (def_1_z : c + a - b = c + a - b) :\n  a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) :\n  a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0 := by\n  have h1 := tc_1.right.right.right\n  have h2 := tc_1.right.right.right.right\n  have h3 := tc_1.right.right.right.right.right\n  constructor\n  \u00b7 linarith\n  \u00b7 constructor\n    \u00b7 linarith\n    \u00b7 linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0.67, "semantic_feedback": ["The triangle conditions are correctly captured. The Lean formalization includes additional positivity constraints (a > 0 \u2227 b > 0 \u2227 c > 0) which are logically consistent since side lengths must be positive.", "The variable definitions show a structural difference. The natural language introduces variables x, y, z with specific definitions, but the Lean formalization uses tautological statements and doesn't actually introduce these variables. However, the mathematical relationships are implicitly preserved.", "The conclusion correctly captures the mathematical meaning. Although the Lean formalization doesn't use the variable names x, y, z, it directly expresses their positivity through the equivalent expressions a + b - c > 0, etc."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Consider the expression $$P = \\left(\frac{x}{a}ight)^a \\left(\frac{y}{b}ight)^b \\left(\frac{z}{c}ight)^c.$$", "statement": "Definition:\n\u2022 Let $P = \\left(\frac{x}{a}\\right)^a \\left(\frac{y}{b}\\right)^b \\left(\frac{z}{c}\\right)^c$ [def_2], where $a,b,c$ are positive side lengths of a triangle [tc_1], and $x,y,z$ are the positive quantities defined in [def_1] and shown to be positive in [l1].", "dependencies": ["tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_x : a + b - c = a + b - c)\n  (def_1_y : b + c - a = b + c - a)\n  (def_1_z : c + a - b = c + a - b)\n  (l1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (def_2_P : ((a + b - c) / a) ^ a * ((b + c - a) / b) ^ b * ((c + a - b) / c) ^ c = ((a + b - c) / a) ^ a * ((b + c - a) / b) ^ b * ((c + a - b) / c) ^ c)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization `tc_1` correctly captures that a,b,c are positive side lengths of a triangle through the triangle inequality conditions (a + b > c \u2227 b + c > a \u2227 c + a > b) and positivity constraints (a > 0 \u2227 b > 0 \u2227 c > 0).", "The Lean code defines x, y, z explicitly as (a + b - c), (b + c - a), and (c + a - b) respectively, and includes the positivity condition l1. While the natural language refers to quantities 'defined in [def_1]' without showing the explicit definitions, the Lean formalization provides the actual definitions. This is a minor structural difference but captures the same mathematical meaning.", "The Lean formalization `def_2_P` is written as a tautology (expression = expression) rather than defining P as the given expression. The natural language clearly states 'Let P = ...' which should be a definition, but the Lean code doesn't actually define a variable P or establish the equality as a definition."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization `tc_1` correctly captures that a,b,c are positive side lengths of a triangle through the triangle inequality conditions (a + b > c \u2227 b + c > a \u2227 c + a > b) and positivity constraints (a > 0 \u2227 b > 0 \u2227 c > 0).', \"The Lean code defines x, y, z explicitly as (a + b - c), (b + c - a), and (c + a - b) respectively, and includes the positivity condition l1. While the natural language refers to quantities 'defined in [def_1]' without showing the explicit definitions, the Lean formalization provides the actual definitions. This is a minor structural difference but captures the same mathematical meaning.\", \"The Lean formalization `def_2_P` is written as a tautology (expression = expression) rather than defining P as the given expression. The natural language clearly states 'Let P = ...' which should be a definition, but the Lean code doesn't actually define a variable P or establish the equality as a definition.\"]"}, "type": "definition"}, "l2": {"id": "l2", "natural_language": "Taking logarithms, we obtain $\\ln P = a \\ln \frac{x}{a} + b \\ln \frac{y}{b} + c \\ln \frac{z}{c}$.", "statement": "We assume:\n\u2022 $P = \\left(\frac{x}{a}\\right)^a \\left(\frac{y}{b}\\right)^b \\left(\frac{z}{c}\\right)^c$ [def_2].\n\u2022 $a,b,c,x,y,z$ are all positive real numbers [tc_1, l1].\nTherefore, we conclude:\n\u2022 $\\ln P = a \\ln \\frac{x}{a} + b \\ln \\frac{y}{b} + c \\ln \\frac{z}{c}$ [l2].", "dependencies": ["def_2", "tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c x y z : \u211d)\n  (def_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (l1 : x > 0 \u2227 y > 0 \u2227 z > 0) :\n  Real.log P = a * Real.log (x / a) + b * Real.log (y / b) + c * Real.log (z / c) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c x y z : \u211d)\n  (def_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (l1 : x > 0 \u2227 y > 0 \u2227 z > 0) :\n  Real.log P = a * Real.log (x / a) + b * Real.log (y / b) + c * Real.log (z / c) := by\n  have hx : x / a > 0 := by rw [div_pos_iff]; exact \u27e8l1.1, tc_1.1\u27e9\n  have hy : y / b > 0 := by rw [div_pos_iff]; exact \u27e8l1.2.1, tc_1.2.1\u27e9\n  have hz : z / c > 0 := by rw [div_pos_iff]; exact \u27e8l1.2.2, tc_1.2.2\u27e9\n  rw [def_2]\n  rw [Real.log_mul (by positivity) (by positivity)]\n  rw [Real.log_mul (by positivity) (by positivity)]\n  rw [Real.log_pow (x / a) a]\n  rw [Real.log_pow (y / b) b]\n  rw [Real.log_pow (z / c) c]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 32, "endLine": 11, "endColumn": 43, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  0 < ?m.773 / ?m.774\nP a b c x y z : \u211d\ndef_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\nl1 : x > 0 \u2227 y > 0 \u2227 z > 0\n\u22a2 x / a > 0"}, {"line": 12, "column": 32, "endLine": 12, "endColumn": 43, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  0 < ?m.884 / ?m.885\nP a b c x y z : \u211d\ndef_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\nl1 : x > 0 \u2227 y > 0 \u2227 z > 0\nhx : x / a > 0\n\u22a2 y / b > 0"}, {"line": 13, "column": 32, "endLine": 13, "endColumn": 43, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  0 < ?m.995 / ?m.996\nP a b c x y z : \u211d\ndef_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\nl1 : x > 0 \u2227 y > 0 \u2227 z > 0\nhx : x / a > 0\nhy : y / b > 0\n\u22a2 z / c > 0"}, {"line": 17, "column": 27, "endLine": 17, "endColumn": 28, "data": "application type mismatch\n  Real.log_pow (x / a) a\nargument\n  a\nhas type\n  \u211d : Type\nbut is expected to have type\n  \u2115 : Type"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all components of the natural language statement. The variable declarations, definition of P, positivity constraints, and the logarithmic identity are all properly represented. The use of Real.log instead of ln and explicit multiplication operators are standard Lean conventions that don't change the mathematical meaning. The logical structure from assumptions to conclusion is preserved through the lemma format.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  (a b c x y z : \u211d)\n  (def_2 : P = (x / a) ^ a * (y / b) ^ b * (z / c) ^ c)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (l1 : x > 0 \u2227 y > 0 \u2227 z > 0) :\n  \u00ac (Real.log P = a * Real.log (x / a) + b * Real.log (y / b) + c * Real.log (z / c)) := by\n  intro h\n  rw [def_2, Real.log_mul (pow_pos (div_pos l1.1 tc_1.1) a) (pow_pos (div_pos l1.2.1 tc_1.2.1) b * pow_pos (div_pos l1.2.2 tc_1.2.2) c),\n      Real.log_mul (pow_pos (div_pos l1.2.1 tc_1.2.1) b) (pow_pos (div_pos l1.2.2 tc_1.2.2) c),\n      Real.log_pow (div_pos l1.1 tc_1.1) a, Real.log_pow (div_pos l1.2.1 tc_1.2.1) b, Real.log_pow (div_pos l1.2.2 tc_1.2.2) c] at h\n  simp only [mul_add, mul_one] at h\n  contradiction"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Using the inequality $\\ln u \\le u-1$ for $u>0$", "statement": "We assume:\n\u2022 (general knowledge of real analysis)\nTherefore, we conclude:\n\u2022 For any $u > 0$, the inequality $\\ln u \\le u-1$ holds [l3].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (u : \u211d) (hu : u > 0) :\n  log u \u2264 u - 1 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (u : \u211d) (hu : u > 0) :\n  log u \u2264 u - 1 := by\n  have h\u2081 : DifferentiableOn \u211d log (Ioi 0) := differentiableOn_log.mono (subset_univ _)\n  have h\u2082 : \u2200 x \u2208 Ioi (0:\u211d), deriv log x = 1 / x := by\n    intro x hx\n    exact deriv_log x (mem_Ioi.mp hx).ne'\n  have h\u2083 : ConvexOn \u211d (Ioi 0) log := by\n    refine convexOn_log ?_\n    exact convex_Ioi 0\n  have h\u2084 : IsLocalMinOn (fun x => log x - (x - 1)) (Ioi 0) 1 := by\n    apply isLocalMinOn_of_isMinOn_of_isLocalMinOn\n    \u00b7 intro x hx\n      have := h\u2083.le_left_deriv (mem_Ioi.mpr zero_lt_one) hx\n      simp [h\u2082 x hx, h\u2082 1 (by linarith)] at this\n      linarith [this]\n    \u00b7 apply IsLocalMinOn.mono (fun x hx => ?_) (subset_univ _)\n      exact (hasDerivAt_log (mem_Ioi.mp hx).ne').hasDerivWithinAt.isLocalMinOn (by simp)\n  have h\u2085 : \u2200 x \u2208 Ioi (0:\u211d), log x - (x - 1) \u2264 0 := by\n    intro x hx\n    refine le_trans ?_ (h\u2084.2 hx)\n    exact le_refl _\n  linarith [h\u2085 u hu]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 8, "column": 31, "endLine": 8, "endColumn": 34, "data": "ambiguous, possible interpretations \n  Nat.log : \u2115 \u2192 \u2115 \u2192 \u2115\n  \n  Real.log : \u211d \u2192 \u211d"}, {"line": 8, "column": 36, "endLine": 8, "endColumn": 39, "data": "unknown identifier 'Ioi'"}, {"line": 8, "column": 73, "endLine": 8, "endColumn": 84, "data": "unknown identifier 'subset_univ'"}, {"line": 9, "column": 18, "endLine": 9, "endColumn": 21, "data": "unknown identifier 'Ioi'"}, {"line": 9, "column": 35, "endLine": 9, "endColumn": 38, "data": "ambiguous, possible interpretations \n  Nat.log : \u2115 \u2192 \u2115 \u2192 \u2115\n  \n  Real.log : \u211d \u2192 \u211d"}, {"line": 7, "column": 19, "endLine": 27, "endColumn": 20, "data": "unsolved goals\nu : \u211d\nhu : u > 0\nh\u2081 : DifferentiableOn \u211d sorry sorry\n\u22a2 Real.log u \u2264 u - 1"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the natural language statement. The use of 'log' for natural logarithm is standard in Mathlib, the variable constraint 'u > 0' is properly encoded as a hypothesis, and the inequality 'log u \u2264 u - 1' directly translates the mathematical content. The explicit real number type declaration adds helpful precision without changing the logical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l3 :\n    \u2203 (u : \u211d), u > 0 \u2227 log u > u - 1 := by\n  use 1 / 2\n  constructor\n  \u00b7 norm_num\n  \u00b7 compute\n    norm_num"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "we have $a \\ln \frac{x}{a} \\le x-a = b-c$,", "statement": "We assume:\n\u2022 For any $u > 0$, $\\ln u \\le u-1$ [l3].\n\u2022 $a, b, c$ are the lengths of the sides of a triangle, with $a>0$ [tc_1].\n\u2022 $x = a+b-c$ [def_1].\n\u2022 $x > 0$ [l1].\nTherefore, we conclude:\n\u2022 $a \\ln \\frac{x}{a} \\le b-c$ [l4].", "dependencies": ["l3", "tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1 : a + b - c = a + b - c)\n  (l1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0) :\n  a * log ((a + b - c) / a) \u2264 b - c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1 : a + b - c = a + b - c)\n  (l1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0) :\n  a * log ((a + b - c) / a) \u2264 b - c := by\n  have ha := tc_1.1\n  have hx := l1.1\n  have hxa : (a + b - c) / a > 0 := by positivity\n  specialize l3 ((a + b - c) / a) hxa\n  rw [div_eq_mul_inv (a + b - c) a] at l3\n  have := mul_le_mul_of_nonneg_left l3 ha.le\n  rw [mul_sub, mul_one, \u2190 mul_assoc, inv_mul_cancel ha.ne.symm, one_mul] at this\n  exact this", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 37, "endLine": 18, "endColumn": 62, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.8297\u207b\u00b9 * ?m.8297\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\ndef_1 : a + b - c = a + b - c\nl1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nha : a > 0\nhx : a + b - c > 0\nhxa : (a + b - c) / a > 0\nl3 : Real.log ((a + b - c) * a\u207b\u00b9) \u2264 (a + b - c) * a\u207b\u00b9 - 1\nthis : a * Real.log ((a + b - c) * a\u207b\u00b9) \u2264 a * (a + b - c) * a\u207b\u00b9 - a\n\u22a2 a * Real.log ((a + b - c) / a) \u2264 b - c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The logarithm inequality assumption l3 is correctly formalized with identical logical meaning.", "The triangle conditions tc_1 are appropriately formalized with complete triangle inequalities, which is consistent with the concept of triangle sides.", "The definition def_1 is formalized as a tautology 'a + b - c = a + b - c' instead of properly defining variable x, which fails to capture the intended meaning.", "Condition l1 includes additional positivity constraints for all three triangle side differences, whereas the natural language only mentions x > 0.", "The conclusion l4 correctly captures the mathematical relationship, with direct substitution of (a + b - c) for x being semantically equivalent.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The logarithm inequality assumption l3 is correctly formalized with identical logical meaning.', 'The triangle conditions tc_1 are appropriately formalized with complete triangle inequalities, which is consistent with the concept of triangle sides.', \"The definition def_1 is formalized as a tautology 'a + b - c = a + b - c' instead of properly defining variable x, which fails to capture the intended meaning.\", 'Condition l1 includes additional positivity constraints for all three triangle side differences, whereas the natural language only mentions x > 0.', 'The conclusion l4 correctly captures the mathematical relationship, with direct substitution of (a + b - c) for x being semantically equivalent.']"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "$b \\ln \frac{y}{b} \\le y-b = c-a$,", "statement": "We assume:\n\u2022 For any $u > 0$, $\\ln u \\le u-1$ [l3].\n\u2022 $a, b, c$ are the lengths of the sides of a triangle, with $b>0$ [tc_1].\n\u2022 $y = b+c-a$ [def_1].\n\u2022 $y > 0$ [l1].\nTherefore, we conclude:\n\u2022 $b \\ln \\frac{y}{b} \\le c-a$ [l5].", "dependencies": ["l3", "tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_y : b + c - a = b + c - a)\n  (l1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) :\n  b * log ( (b + c - a) / b) \u2264 c - a := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_y : b + c - a = b + c - a)\n  (l1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) :\n  b * log ( (b + c - a) / b) \u2264 c - a := by\n  have hb : b > 0 := tc_1.2.1\n  have hy : (b + c - a) / b > 0 := by\n    rw [div_pos_iff]\n    exact \u27e8l1.2, hb\u27e9\n  have := l3 ((b + c - a) / b) hy\n  rw [mul_comm] at this\n  rw [\u2190 mul_div_assoc, div_eq_mul_inv, mul_comm _ b, mul_assoc, \u2190 mul_sub] at this\n  simp only [mul_one] at this\n  rw [mul_div_cancel' _ hb.ne'] at this\n  exact this", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 14, "column": 8, "endLine": 14, "endColumn": 19, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  0 < ?m.2998 / ?m.2999\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\ndef_1_y : b + c - a = b + c - a\nl1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl3 : \u2200 u > 0, Real.log u \u2264 u - 1\nhb : b > 0\n\u22a2 (b + c - a) / b > 0"}, {"line": 17, "column": 6, "endLine": 17, "endColumn": 14, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a * ?b\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\ndef_1_y : b + c - a = b + c - a\nl1 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl3 : \u2200 u > 0, Real.log u \u2264 u - 1\nhb : b > 0\nhy : (b + c - a) / b > 0\nthis : Real.log ((b + c - a) / b) \u2264 (b + c - a) / b - 1\n\u22a2 b * Real.log ((b + c - a) / b) \u2264 c - a"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Triangle conditions are correctly formalized with all necessary inequalities and positivity constraints.", "The definition def_1_y is tautological (b + c - a = b + c - a) and doesn't introduce the variable y as intended in the natural language. However, y is correctly substituted in the conclusion.", "The logarithm inequality l3 is perfectly captured with correct quantification and inequality.", "The positivity condition l1 includes additional triangle-related positivity constraints beyond just y > 0, but this is mathematically consistent and doesn't contradict the natural language.", "The conclusion correctly captures the inequality, substituting y = b + c - a directly rather than using a separate variable, which is mathematically equivalent.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.8 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l5 :\n  \u2203 (a b c : \u211d),\n    (a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) \u2227\n    (a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0) \u2227\n    (\u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) \u2227\n    \u00ac b * log ( (b + c - a) / b) \u2264 c - a := by\n  use 3, 2, 2\n  constructor\n  \u00b7 norm_num\n  constructor\n  \u00b7 norm_num\n  constructor\n  \u00b7 intro u hu; exact Real.log_le_sub_one_of_pos hu\n  \u00b7 simp [log_div]\n    have : Real.log (1/2) \u2248 -0.693147 := by rw [log_div]; norm_num; ring\n    linarith [this]"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "and $c \\ln \frac{z}{c} \\le z-c = a-b$.", "statement": "We assume:\n\u2022 For any $u > 0$, $\\ln u \\le u-1$ [l3].\n\u2022 $a, b, c$ are the lengths of the sides of a triangle, with $c>0$ [tc_1].\n\u2022 $z = c+a-b$ [def_1].\n\u2022 $z > 0$ [l1].\nTherefore, we conclude:\n\u2022 $c \\ln \\frac{z}{c} \\le a-b$ [l6].", "dependencies": ["l3", "tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1 : c + a - b = c + a - b)\n  (l1 : c + a - b > 0)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) :\n  c * log ((c + a - b) / c) \u2264 a - b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1 : c + a - b = c + a - b)\n  (l1 : c + a - b > 0)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) :\n  c * log ((c + a - b) / c) \u2264 a - b := by\n  have hc : c > 0 := tc_1.right.right.left\n  have hz : (c + a - b) / c > 0 := by positivity\n  specialize l3 ((c + a - b) / c) hz\n  rw [div_eq_mul_inv] at l3\n  rw [mul_comm] at l3\n  rw [\u2190 mul_assoc] at l3\n  rw [mul_sub, mul_one] at l3\n  rw [mul_div_cancel' _ hc.ne'] at l3\n  exact l3", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 6, "endLine": 17, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a * (?b * ?c)\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\ndef_1 : c + a - b = c + a - b\nl1 : c + a - b > 0\nhc : c > 0\nhz : (c + a - b) / c > 0\nl3 : Real.log (c\u207b\u00b9 * (c + a - b)) \u2264 c\u207b\u00b9 * (c + a - b) - 1\n\u22a2 c * Real.log ((c + a - b) / c) \u2264 a - b"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The logarithm inequality assumption l3 is correctly formalized with proper universal quantification over positive reals.", "The triangle condition is appropriately expanded to include all necessary triangle inequalities and positivity constraints, which is mathematically consistent with the natural language description.", "The definition def_1 is problematic - it's formalized as a tautology 'c + a - b = c + a - b' rather than properly defining the variable z. However, the semantic meaning is preserved since z is consistently replaced with 'c + a - b' throughout.", "Condition l1 correctly captures z > 0 by directly stating c + a - b > 0, which is semantically equivalent given the intended definition of z.", "The conclusion correctly formalizes the inequality by substituting the expression for z, maintaining the mathematical meaning despite the missing explicit definition of z.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.8 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1 : c + a - b = c + a - b)\n  (l1 : c + a - b > 0)\n  (l3 : \u2200 (u : \u211d), u > 0 \u2192 log u \u2264 u - 1) :\n  \u00ac (c * log ((c + a - b) / c) \u2264 a - b) := by\n  let z := c + a - b\n  have h : z / c > 0 := div_pos l1 tc_1.2.2.1\n  specialize l3 (z / c) h\n  intro h'\n  have := mul_le_mul_of_nonneg_left l3 (le_of_lt tc_1.2.2.1)\n  rw [mul_sub, mul_div_cancel' _ tc_1.2.2.1.ne'] at this\n  have h1 : c * (z / c - 1) = z - c := by\n    field_simp [tc_1.2.2.1.ne']\n    ring\n  rw [h1] at this\n  linarith [this, h']"}, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "Summing these inequalities gives $\\ln P \\le (b-c) + (c-a) + (a-b) = 0$", "statement": "We assume:\n\u2022 $\\ln P = a \\ln \\frac{x}{a} + b \\ln \\frac{y}{b} + c \\ln \\frac{z}{c}$ [l2].\n\u2022 $a \\ln \\frac{x}{a} \\le b-c$ [l4].\n\u2022 $b \\ln \\frac{y}{b} \\le c-a$ [l5].\n\u2022 $c \\ln \\frac{z}{c} \\le a-b$ [l6].\nTherefore, we conclude:\n\u2022 $\\ln P \\le 0$ [l7].", "dependencies": ["l2", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b c x y z : \u211d)\n  (l2 : Real.log P = a * Real.log (x / a) + b * Real.log (y / b) + c * Real.log (z / c))\n  (l4 : a * Real.log (x / a) \u2264 b - c)\n  (l5 : b * Real.log (y / b) \u2264 c - a)\n  (l6 : c * Real.log (z / c) \u2264 a - b) :\n  Real.log P \u2264 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b c x y z P : \u211d)\n  (l2 : Real.log P = a * Real.log (x / a) + b * Real.log (y / b) + c * Real.log (z / c))\n  (l4 : a * Real.log (x / a) \u2264 b - c)\n  (l5 : b * Real.log (y / b) \u2264 c - a)\n  (l6 : c * Real.log (z / c) \u2264 a - b) :\n  Real.log P \u2264 0 := by\n  rw [l2]\n  linarith [l4, l5, l6]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The variable P is used in both the premise l2 and the conclusion but is not declared as a parameter in the Lean function signature. This creates a logical gap where P appears as a free variable, making the formalization incomplete. All other mathematical relationships and constraints are correctly translated from natural language to Lean."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The variable P is used in both the premise l2 and the conclusion but is not declared as a parameter in the Lean function signature. This creates a logical gap where P appears as a free variable, making the formalization incomplete. All other mathematical relationships and constraints are correctly translated from natural language to Lean.']"}, "solved_negation": null, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "so $P \\le 1$.", "statement": "We assume:\n\u2022 $\\ln P \\le 0$ [l7].\nTherefore, we conclude:\n\u2022 $P \\le 1$ [l8].", "dependencies": ["l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (P : \u211d)\n  (l7 : Real.log P \u2264 0) :\n  P \u2264 1 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (P : \u211d)\n  (l7 : Real.log P \u2264 0) :\n  P \u2264 1 := by\n  by_contra h\n  push_neg at h\n  have := log_le_log (by linarith) h\n  linarith [this, l7]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 35, "endLine": 11, "endColumn": 36, "data": "application type mismatch\n  log_le_log\n    (lt_of_not_ge fun a =>\n      Linarith.lt_irrefl\n        (Eq.mp\n          (congrArg (fun _a => _a < 0)\n            (Mathlib.Tactic.Ring.of_eq\n              (Mathlib.Tactic.Ring.add_congr\n                (Mathlib.Tactic.Ring.add_congr\n                  (Mathlib.Tactic.Ring.neg_congr\n                    (Mathlib.Tactic.Ring.cast_pos (Mathlib.Meta.NormNum.isNat_ofNat \u211d Nat.cast_one))\n                    (Mathlib.Tactic.Ring.neg_add\n                      (Mathlib.Tactic.Ring.neg_one_mul\n                        (Mathlib.Meta.NormNum.IsInt.to_raw_eq\n                          (Mathlib.Meta.NormNum.isInt_mul (Eq.refl HMul.hMul)\n                            (Mathlib.Meta.NormNum.IsInt.of_raw \u211d (Int.negOfNat 1))\n                            (Mathlib.Meta.NormNum.IsNat.to_isInt (Mathlib.Meta.NormNum.IsNat.of_raw \u211d 1))\n                            (Eq.refl (Int.negOfNat 1)))))\n                      Mathlib.Tactic.Ring.neg_zero))\n                  (Mathlib.Tactic.Ring.sub_congr\n                    (Mathlib.Tactic.Ring.cast_pos (Mathlib.Meta.NormNum.isNat_ofNat \u211d Nat.cast_one))\n                    (Mathlib.Tactic.Ring.atom_pf P)\n                    (Mathlib.Tactic.Ring.sub_pf\n                      (Mathlib.Tactic.Ring.neg_add\n                        (Mathlib.Tactic.Ring.neg_mul P (Nat.rawCast 1)\n                          (Mathlib.Tactic.Ring.neg_one_mul\n                            (Mathlib.Meta.NormNum.IsInt.to_raw_eq\n                              (Mathlib.Meta.NormNum.isInt_mul (Eq.refl HMul.hMul)\n                                (Mathlib.Meta.NormNum.IsInt.of_raw \u211d (Int.negOfNat 1))\n                                (Mathlib.Meta.NormNum.IsNat.to_isInt (Mathlib.Meta.NormNum.IsNat.of_raw \u211d 1))\n                                (Eq.refl (Int.negOfNat 1))))))\n                        Mathlib.Tactic.Ring.neg_zero)\n                      (Mathlib.Tactic.Ring.add_pf_add_lt (Nat.rawCast 1)\n                        (Mathlib.Tactic.Ring.add_pf_zero_add (P ^ Nat.rawCast 1 * (Int.negOfNat 1).rawCast + 0)))))\n                  (Mathlib.Tactic.Ring.add_pf_add_overlap_zero\n                    (Mathlib.Meta.NormNum.IsInt.to_isNat\n                      (Mathlib.Meta.NormNum.isInt_add (Eq.refl HAdd.hAdd)\n                        (Mathlib.Meta.NormNum.IsInt.of_raw \u211d (Int.negOfNat 1))\n                        (Mathlib.Meta.NormNum.IsNat.to_isInt (Mathlib.Meta.NormNum.IsNat.of_raw \u211d 1))\n                        (Eq.refl (Int.ofNat 0))))\n                    (Mathlib.Tactic.Ring.add_pf_zero_add (P ^ Nat.rawCast 1 * (Int.negOfNat 1).rawCast + 0))))\n                (Mathlib.Tactic.Ring.sub_congr (Mathlib.Tactic.Ring.atom_pf P)\n                  (Mathlib.Tactic.Ring.cast_zero (Mathlib.Meta.NormNum.isNat_ofNat \u211d Nat.cast_zero))\n                  (Mathlib.Tactic.Ring.sub_pf Mathlib.Tactic.Ring.neg_zero\n                    (Mathlib.Tactic.Ring.add_pf_add_zero (P ^ Nat.rawCast 1 * Nat.rawCast 1 + 0))))\n                (Mathlib.Tactic.Ring.add_pf_add_overlap_zero\n                  (Mathlib.Tactic.Ring.add_overlap_pf_zero P (Nat.rawCast 1)\n                    (Mathlib.Meta.NormNum.IsInt.to_isNat\n                      (Mathlib.Meta.NormNum.isInt_add (Eq.refl HAdd.hAdd)\n                        (Mathlib.Meta.NormNum.IsInt.of_raw \u211d (Int.negOfNat 1))\n                        (Mathlib.Meta.NormNum.IsNat.to_isInt (Mathlib.Meta.NormNum.IsNat.of_raw \u211d 1))\n                        (Eq.refl (Int.ofNat 0)))))\n                  (Mathlib.Tactic.Ring.add_pf_zero_add 0)))\n              (Mathlib.Tactic.Ring.cast_zero (Mathlib.Meta.NormNum.isNat_ofNat \u211d Nat.cast_zero))))\n          (Linarith.add_lt_of_neg_of_le\n            (Linarith.add_neg (neg_neg_of_pos Linarith.zero_lt_one) (Linarith.sub_neg_of_lt h))\n            (Linarith.sub_nonpos_of_le a))))\n    h\nargument\n  h\nhas type\n  1 < P : Prop\nbut is expected to have type\n  P \u2264 ?m.740 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical implication from ln P \u2264 0 to P \u2264 1. The addition of the real number type declaration for P is a necessary and logically consistent detail that doesn't alter the semantic meaning. The premise l7 and conclusion l8 are properly represented, and the overall logical structure is preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l8\n  (P : \u211d)\n  (l7 : Real.log P \u2264 0) :\n  \u00ac P \u2264 1 := by\n  simp [not_le]\n  intro h\n  have : Real.log P \u2264 0 := l7\n  have : P \u2264 1 := h\n  have : P > 0 := by\n    apply Real.log_pos_iff.mp\n    rw [Real.log_one]\n    exact lt_of_le_of_ne (le_trans this h) (by intro h'; simp [h'] at l7)\n  linarith"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Multiplying both sides by $a^a b^b c^c > 0$ yields $(a+b-c)^a (b+c-a)^b (c+a-b)^c \\le a^a b^b c^c$, which proves the desired inequality.", "statement": "We assume:\n\u2022 $P \\le 1$ [l8].\n\u2022 $P = \\left(\frac{x}{a}\\right)^a \\left(\frac{y}{b}\\right)^b \\left(\frac{z}{c}\\right)^c$ [def_2].\n\u2022 $x = a+b-c, y = b+c-a, z = c+a-b$ [def_1].\n\u2022 $a,b,c$ are positive lengths of the sides of a triangle [tc_1].\nTherefore, we conclude:\n\u2022 $(a+b-c)^{a}(b+c-a)^{b}(c+a-b)^{c} \\le a^{a} b^{b} c^{c}$ [ts_1].", "dependencies": ["l8", "def_2", "def_1", "tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_x : a + b - c = a + b - c) -- This is literally `x = a + b - c`\n  (def_1_y : b + c - a = b + c - a) -- This is literally `y = b + c - a`\n  (def_1_z : c + a - b = c + a - b) -- This is literally `z = c + a - b`\n  (def_2 : (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c) = (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c))\n  (l8 : (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c) \u2264 1) :\n  (a + b - c) ^ a * (b + c - a) ^ b * (c + a - b) ^ c \u2264 a ^ a * b ^ b * c ^ c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (def_1_x : a + b - c = a + b - c)\n  (def_1_y : b + c - a = b + c - a)\n  (def_1_z : c + a - b = c + a - b)\n  (def_2 : (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c) = (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c))\n  (l8 : (((a + b - c) / a) ^ a) * (((b + c - a) / b) ^ b) * (((c + a - b) / c) ^ c) \u2264 1) :\n  (a + b - c) ^ a * (b + c - a) ^ b * (c + a - b) ^ c \u2264 a ^ a * b ^ b * c ^ c := by\n  have ha := tc_1.1\n  have hb := tc_1.2.1\n  have hc := tc_1.2.2.1\n  rw [\u2190mul_le_one_iff (pow_pos (div_pos (by linarith [tc_1.2.2.2.2]) ha) a) \n      (mul_pos (pow_pos (div_pos (by linarith [tc_1.2.2.2.1]) hb) b) \n      (pow_pos (div_pos (by linarith [tc_1.2.2.2]) hc) c))]\n  simp only [div_pow, mul_div_assoc, \u2190mul_pow, \u2190mul_assoc, mul_div_mul_left, mul_div_mul_right]\n  exact l8", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 7, "endLine": 17, "endColumn": 21, "data": "unknown identifier 'mul_le_one_iff'"}, {"line": 17, "column": 6, "endLine": 19, "endColumn": 58, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.2107\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\ndef_1_x : a + b - c = a + b - c\ndef_1_y : b + c - a = b + c - a\ndef_1_z : c + a - b = c + a - b\ndef_2 :\n  ((a + b - c) / a) ^ a * ((b + c - a) / b) ^ b * ((c + a - b) / c) ^ c =\n    ((a + b - c) / a) ^ a * ((b + c - a) / b) ^ b * ((c + a - b) / c) ^ c\nl8 : ((a + b - c) / a) ^ a * ((b + c - a) / b) ^ b * ((c + a - b) / c) ^ c \u2264 1\nha : a > 0\nhb : b > 0\nhc : c > 0\n\u22a2 (a + b - c) ^ a * (b + c - a) ^ b * (c + a - b) ^ c \u2264 a ^ a * b ^ b * c ^ c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Triangle condition tc_1 correctly captures both positivity and triangle inequality requirements.", "Variable definitions def_1_x, def_1_y, def_1_z are written as tautologies rather than proper variable definitions, though the mathematical content is preserved through substitution.", "Expression P definition def_2 is also a tautology rather than a proper variable definition, but the mathematical meaning is maintained.", "Constraint l8 correctly captures P \u2264 1 with appropriate substitution of the expression for P.", "Conclusion ts_1 perfectly matches the target inequality statement.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.6, below threshold 0.6.\nScorer feedback: ['Triangle condition tc_1 correctly captures both positivity and triangle inequality requirements.', 'Variable definitions def_1_x, def_1_y, def_1_z are written as tautologies rather than proper variable definitions, though the mathematical content is preserved through substitution.', 'Expression P definition def_2 is also a tautology rather than a proper variable definition, but the mathematical meaning is maintained.', 'Constraint l8 correctly captures P \u2264 1 with appropriate substitution of the expression for P.', 'Conclusion ts_1 perfectly matches the target inequality statement.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    