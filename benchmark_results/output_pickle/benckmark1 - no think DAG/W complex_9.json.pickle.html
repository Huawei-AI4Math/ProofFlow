
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $C$ be the upper semi-circular path in the complex plane from $z=1$ to $z=-1$, and let the function to be integrated be $f(z) = z^2$. Then the contour integral $\int_C f(z) dz$ is equal to $-2/3$.

Proof: The path $C$ can be parameterized by $z(t) = e^{it}$ for $t \in [0, \pi]$. The derivative of the parameterization is $z'(t) = ie^{it}$. The function $f(z) = z^2$ becomes $f(z(t)) = (e^{it})^2 = e^{2it}$ along the path. Substituting these into the definition of the contour integral, $\int_C f(z) dz = \int_0^{\pi} f(z(t)) z'(t) dt$, we get the expression $\int_0^{\pi} e^{2it} (ie^{it}) dt$. Evaluating this integral gives $\int_0^{\pi} ie^{3it} dt = [\frac{e^{3it}}{3}]_0^{\pi} = \frac{1}{3}(e^{3i\pi} - e^0) = \frac{1}{3}(-1 - 1) = -2/3$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $C$ be the upper semi-circular path in the complex plane from $z=1$ to $z=-1$", "statement": "Premise:\n\u2022 C is the upper semi-circular path in the complex plane from z=1 to z=-1 [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (C : Path (Complex \u211d))\n  (tc_1 : C.start = 1 \u2227 C.end_pt = -1 \u2227 \u2200 t : I, (C t).im \u2265 0)", "lean_pass": false, "error_msg": [{"line": 6, "column": 13, "endLine": 6, "endColumn": 22, "data": "function expected at\n  \u2102\nterm has type\n  Type"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "let the function to be integrated be $f(z) = z^2$.", "statement": "Premise:\n\u2022 f(z) = z\u00b2 is a function on the complex plane [tc_2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u2102 \u2192 \u2102)\n(tc_2 : f = fun z => z^2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical statement. The variable declaration (f : \u2102 \u2192 \u2102) establishes f as a function on the complex plane, and the constraint (tc_2 : f = fun z => z^2) specifies that f(z) = z\u00b2. The Lean formalization is a complete and accurate representation of the given premise."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "The path $C$ can be parameterized by $z(t) = e^{it}$ for $t \\in [0, \\pi]$.", "statement": "Definition:\n\u2022 The path C [tc_1] is parameterized by z(t) = e^(it) for t in [0, \u03c0] [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (C : Path (\u2102))\n  (tc_1 : C.start = (1 : \u2102) \u2227 C.end = (-1 : \u2102))\n  (def_1 : C = Path.mk (fun t : Icc 0 \u03c0 => Complex.exp (t * Complex.i)) (by simp) (by simp))", "lean_pass": false, "error_msg": [{"line": 6, "column": 7, "endLine": 6, "endColumn": 15, "data": "failed to synthesize\n  TopologicalSpace Type\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 8, "column": 60, "endLine": 8, "endColumn": 69, "data": "unknown constant 'Complex.i'"}, {"line": 8, "column": 32, "endLine": 8, "endColumn": 39, "data": "function expected at\n  Icc\nterm has type\n  ?m.716"}, {"line": 8, "column": 73, "endLine": 8, "endColumn": 80, "data": "unsolved goals\nIcc : ?m.716\nC : sorry\ntc_1 : sorry = 1 \u2227 sorry = -1\n\u22a2 ?m.1584 0 = ?m.961"}, {"line": 8, "column": 83, "endLine": 8, "endColumn": 90, "data": "unsolved goals\nIcc : ?m.716\nC : sorry\ntc_1 : sorry = 1 \u2227 sorry = -1\n\u22a2 ?m.1584 1 = ?m.962"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "The derivative of the parameterization is $z'(t) = ie^{it}$.", "statement": "We assume:\n\u2022 The path C is parameterized by z(t) = e^(it) for t in [0, \u03c0] [def_1].\nTherefore, we conclude:\n\u2022 The derivative of the parameterization is z'(t) = i * e^(it) [l1].", "dependencies": ["def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (t : \u211d) (ht : t \u2208 [0, \u03c0])\n  (def_1 : (fun t => Complex.exp (t * Complex.i)) t = Complex.exp (t * Complex.i)) :\n  Complex.deriv (fun t => Complex.exp (t * Complex.i)) t = Complex.i * Complex.exp (t * Complex.i) := by\nsorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 38, "endLine": 7, "endColumn": 47, "data": "unknown constant 'Complex.i'"}, {"line": 7, "column": 71, "endLine": 7, "endColumn": 80, "data": "unknown constant 'Complex.i'"}, {"line": 8, "column": 2, "endLine": 8, "endColumn": 56, "data": "unknown constant 'Complex.deriv'"}, {"line": 8, "column": 59, "endLine": 8, "endColumn": 68, "data": "unknown constant 'Complex.i'"}, {"line": 8, "column": 88, "endLine": 8, "endColumn": 97, "data": "unknown constant 'Complex.i'"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter Complex\n\nlemma l1\n  (t : \u211d) (ht : t \u2208 [0, \u03c0]) :\n  deriv (fun t => exp (t * I)) t = I * exp (t * I) := by\n  simp only [deriv_exp_mul_const, mul_one]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 8, "column": 13, "endLine": 8, "endColumn": 32, "data": "unknown identifier 'deriv_exp_mul_const'"}, {"line": 8, "column": 2, "endLine": 8, "endColumn": 42, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "The function $f(z) = z^2$ becomes $f(z(t)) = (e^{it})^2 = e^{2it}$ along the path.", "statement": "We assume:\n\u2022 f(z) = z\u00b2 [tc_2]\n\u2022 The path is parameterized by z(t) = e^(it) [def_1].\nTherefore, we conclude:\n\u2022 Along the path, the function is f(z(t)) = e^(2it) [l2].", "dependencies": ["tc_2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (f : \u2102 \u2192 \u2102)\n  (t : \u211d)\n  (tc_2 : f = fun z => z ^ 2)\n  (def_1 : \u2191(Complex.exp (t * Complex.I)) = Complex.exp (t * Complex.I)) :\n  f (Complex.exp (t * Complex.I)) = Complex.exp (2 * t * Complex.I) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (f : \u2102 \u2192 \u2102)\n  (t : \u211d)\n  (tc_2 : f = fun z => z ^ 2)\n  (def_1 : \u2191(Complex.exp (t * Complex.I)) = Complex.exp (t * Complex.I)) :\n  f (Complex.exp (t * Complex.I)) = Complex.exp (2 * t * Complex.I) := by\n  rw [tc_2]\n  simp only [pow_two]\n  rw [\u2190 Complex.exp_add]\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The function definition f(z) = z\u00b2 is correctly formalized as 'f = fun z => z ^ 2' in Lean.", "The path parameterization z(t) = e^(it) is not properly captured. The Lean formalization 'def_1' is a tautological statement rather than defining the parameterization relationship.", "The conclusion f(z(t)) = e^(2it) is correctly represented, with mathematically equivalent expressions for the exponent (2*t*I vs t*2*I).", "The overall logical structure is preserved but the path parameterization component introduces a significant gap between the natural language intent and the Lean formalization."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The function definition f(z) = z\u00b2 is correctly formalized as 'f = fun z => z ^ 2' in Lean.\", \"The path parameterization z(t) = e^(it) is not properly captured. The Lean formalization 'def_1' is a tautological statement rather than defining the parameterization relationship.\", 'The conclusion f(z(t)) = e^(2it) is correctly represented, with mathematically equivalent expressions for the exponent (2*t*I vs t*2*I).', 'The overall logical structure is preserved but the path parameterization component introduces a significant gap between the natural language intent and the Lean formalization.']"}, "solved_negation": null, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Substituting these into the definition of the contour integral, $\\int_C f(z) dz = \\int_0^{\\pi} f(z(t)) z'(t) dt$", "statement": "Definition:\n\u2022 Given a path C parameterized by z(t) for t in [a, b] and a function f(z), the contour integral is defined as \u222b_C f(z) dz = \u222b_a^b f(z(t)) * z'(t) dt. For our specific path, this becomes \u222b_C f(z) dz = \u222b_0^\u03c0 f(z(t)) * z'(t) dt [def_2].", "dependencies": ["def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {\u03b1 : Type*} [TopologicalSpace \u03b1]\n  (C : Set \u2102)\n  (z : \u211d \u2192 \u2102)\n  (f : \u2102 \u2192 \u2102)\n  (a b : \u211d)\n  (def_1 : \u2200 t : \u211d, t \u2208 [0, \u03c0] \u2192 z t = Complex.exp (t * Complex.i))\n  (def_2 : \u222b z in C, f z \u2202MeasureTheory.Measure.dirac := \u222b t in Set.Icc a b, f (z t) * (deriv z t) \u2202MeasureTheory.Measure.restrict MeasureTheory.volume (Set.Icc 0 \u03c0))", "lean_pass": false, "error_msg": [{"line": 11, "column": 56, "endLine": 11, "endColumn": 65, "data": "unknown constant 'Complex.i'"}, {"line": 12, "column": 11, "endLine": 12, "endColumn": 53, "data": "type mismatch\n  f z\nhas type\n  \u2102 : Type\nbut is expected to have type\n  Sort ?u.336 : Type ?u.336"}, {"line": 12, "column": 11, "endLine": 12, "endColumn": 53, "data": "failed to synthesize\n  NormedAddCommGroup (Sort ?u.336)\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 12, "column": 26, "endLine": 12, "endColumn": 53, "data": "application type mismatch\n  MeasureTheory.Measure.restrict MeasureTheory.Measure.dirac\nargument\n  MeasureTheory.Measure.dirac\nhas type\n  ?m.530 \u2192 MeasureTheory.Measure ?m.530 : Type ?u.529\nbut is expected to have type\n  MeasureTheory.Measure \u2102 : Type"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "l3": {"id": "l3", "natural_language": "we get the expression $\\int_0^{\\pi} e^{2it} (ie^{it}) dt$.", "statement": "We assume:\n\u2022 The contour integral is defined as \u222b_C f(z) dz = \u222b_0^\u03c0 f(z(t)) * z'(t) dt [def_2].\n\u2022 The derivative is z'(t) = i * e^(it) [l1].\n\u2022 The function on the path is f(z(t)) = e^(2it) [l2].\nTherefore, we conclude:\n\u2022 \u222b_C f(z) dz = \u222b_0^\u03c0 e^(2it) * (i * e^(it)) dt [l3].", "dependencies": ["def_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (def_2 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t))\n  (l1 : deriv z t = Complex.I * Complex.exp (t * Complex.I))\n  (l2 : f (z t) = Complex.exp (2 * t * Complex.I)) :\n  \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (def_2 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t))\n  (l1 : \u2200 t, deriv z t = Complex.I * Complex.exp (t * Complex.I))\n  (l2 : \u2200 t, f (z t) = Complex.exp (2 * t * Complex.I)) :\n  \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) := by\n  simp_rw [l1, l2]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 5}, "score": {"semantic_score": 0.0, "semantic_feedback": ["def_2 is formalized as a tautology (A = A) rather than defining the relationship between the contour integral \u222b_C f(z) dz and the parametric integral \u222b_0^\u03c0 f(z(t)) * z'(t) dt as stated in the natural language.", "l1 correctly formalizes the derivative z'(t) = i * e^(it) using appropriate Lean complex number notation.", "l2 correctly formalizes the function f(z(t)) = e^(2it) using appropriate Lean complex number notation.", "The conclusion l3 correctly formalizes the right-hand side of the equation, but uses the parametric integral form on the left side instead of the contour integral \u222b_C f(z) dz as stated in the natural language."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"def_2 is formalized as a tautology (A = A) rather than defining the relationship between the contour integral \u222b_C f(z) dz and the parametric integral \u222b_0^\u03c0 f(z(t)) * z'(t) dt as stated in the natural language.\", \"l1 correctly formalizes the derivative z'(t) = i * e^(it) using appropriate Lean complex number notation.\", 'l2 correctly formalizes the function f(z(t)) = e^(2it) using appropriate Lean complex number notation.', 'The conclusion l3 correctly formalizes the right-hand side of the equation, but uses the parametric integral form on the left side instead of the contour integral \u222b_C f(z) dz as stated in the natural language.']"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Evaluating this integral gives $\\int_0^{\\pi} ie^{3it} dt$", "statement": "We assume:\n\u2022 The integral is expressed as \u222b_0^\u03c0 e^(2it) * (i * e^(it)) dt [l3].\nTherefore, we conclude:\n\u2022 \u222b_0^\u03c0 e^(2it) * (i * e^(it)) dt = \u222b_0^\u03c0 i * e^(3it) dt [l4].", "dependencies": ["l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (l3 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I))) :\n  \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) = \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (l3 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I))) :\n  \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) = \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I) := by\n  simp_rw [\u2190 mul_assoc, Complex.exp_add, \u2190 Complex.exp_nat_mul]\n  congr; ext t\n  ring_nf", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 9, "column": 24, "endLine": 9, "endColumn": 39, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the main mathematical equality stated in the natural language conclusion. However, there's a structural difference in how the premise l3 is presented. The natural language simply states what the integral expression is, while the Lean formalization introduces l3 as an equality involving a more general line integral form \u222b f(z(t)) * (deriv z t). This additional generalization, while mathematically consistent, represents a slight structural difference from the direct statement in natural language. The core mathematical content and the conclusion are perfectly aligned.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly captures the main mathematical equality stated in the natural language conclusion. However, there's a structural difference in how the premise l3 is presented. The natural language simply states what the integral expression is, while the Lean formalization introduces l3 as an equality involving a more general line integral form \u222b f(z(t)) * (deriv z t). This additional generalization, while mathematically consistent, represents a slight structural difference from the direct statement in natural language. The core mathematical content and the conclusion are perfectly aligned.\"]"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "$\\int_0^{\\pi} ie^{3it} dt = [\frac{e^{3it}}{3}]_0^{\\pi} = \frac{1}{3}(e^{3i\\pi} - e^0) = \frac{1}{3}(-1 - 1) = -2/3$.", "statement": "We assume:\n\u2022 The expression for the integral has been simplified to \u222b_0^\u03c0 i * e^(3it) dt [l4].\nTherefore, we conclude:\n\u2022 The value of the definite integral is \u222b_0^\u03c0 i * e^(3it) dt = -2/3 [l5].", "dependencies": ["l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (l4 : \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) = \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I)) :\n  \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I) = -2/3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter Complex\n\nlemma l5\n  (l4 : \u222b (t : \u211d) in (0)..\u03c0, exp (2 * t * I) * (I * exp (t * I)) = \u222b (t : \u211d) in (0)..\u03c0, I * exp (3 * t * I)) :\n  \u222b (t : \u211d) in (0)..\u03c0, I * exp (3 * t * I) = -2/3 := by\n  simp_rw [\u2190 mul_assoc] at l4\n  rw [\u2190 l4]\n  simp only [exp_mul_I]\n  simp only [mul_assoc, mul_one, mul_add, mul_neg, neg_mul]\n  simp only [cos_ofReal_mul_I, sin_ofReal_mul_I]\n  simp only [ofReal_mul, ofReal_ofNat]\n  simp only [integral_mul_left, integral_add]\n  simp only [integral_cos_mul_const, integral_sin_mul_const]\n  simp only [cos_zero, sin_zero, cos_pi, sin_pi]\n  simp only [ofReal_zero, ofReal_one, ofReal_neg]\n  simp only [zero_mul, mul_zero, add_zero, neg_zero]\n  simp only [div_eq_mul_inv]\n  norm_num", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 12, "column": 13, "endLine": 12, "endColumn": 29, "data": "unknown identifier 'cos_ofReal_mul_I'"}, {"line": 12, "column": 31, "endLine": 12, "endColumn": 47, "data": "unknown identifier 'sin_ofReal_mul_I'"}, {"line": 12, "column": 2, "endLine": 12, "endColumn": 48, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption l4 is correctly represented as an equality showing the simplified form of the integral, matching the natural language description of simplification to the given expression.", "The conclusion l5 correctly states that the definite integral equals -2/3, exactly as described in the natural language.", "The mathematical expressions are equivalent - Complex.I corresponds to i, Complex.exp to e^, and the argument 3 * t * Complex.I corresponds to 3it.", "The integration bounds from 0 to \u03c0 are correctly represented in Lean's interval notation syntax.", "The numerical result -2/3 is identical in both representations.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter Complex\n\nlemma not_l5\n  (l4 : \u222b (t : \u211d) in (0)..\u03c0, exp (2 * t * I) * (I * exp (t * I)) = \u222b (t : \u211d) in (0)..\u03c0, I * exp (3 * t * I)) :\n  \u00ac(\u222b (t : \u211d) in (0)..\u03c0, I * exp (3 * t * I) = -2/3) := by\n  have h : \u222b (t : \u211d) in (0)..\u03c0, I * exp (3 * t * I) = I * (exp (3 * \u03c0 * I) - 1) / (3 * I) := by\n    rw [mul_comm _ I]\n    simp_rw [mul_assoc]\n    have : \u2200 t, 3 * t * I = t * (3 * I) := by intro t; ring\n    simp_rw [this]\n    rw [integral_exp]\n    simp [mul_assoc]\n  rw [h]\n  simp [exp_pi_mul_I]\n  norm_num\n  field_simp\n  ring_nf\n  norm_cast\n  simp only [neg_div, ne_eq, Rat.cast_neg, Rat.cast_div, Rat.cast_ofNat]\n  norm_num"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Then the contour integral $\\int_C f(z) dz$ is equal to $-2/3$.", "statement": "We assume:\n\u2022 \u222b_C f(z) dz = \u222b_0^\u03c0 e^(2it) * (i * e^(it)) dt [l3]\n\u2022 \u222b_0^\u03c0 e^(2it) * (i * e^(it)) dt = \u222b_0^\u03c0 i * e^(3it) dt [l4]\n\u2022 \u222b_0^\u03c0 i * e^(3it) dt = -2/3 [l5]\nTherefore, we conclude:\n\u2022 The contour integral \u222b_C z\u00b2 dz is equal to -2/3 [ts_1].", "dependencies": ["l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (l3 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)))\n  (l4 : \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) = \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I))\n  (l5 : \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I) = -2/3) :\n  \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = -2/3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u2102 \u2192 \u2102) (z : \u211d \u2192 \u2102) (t : \u211d)\n  (l3 : \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)))\n  (l4 : \u222b (t : \u211d) in (0)..\u03c0, Complex.exp (2 * t * Complex.I) * (Complex.I * Complex.exp (t * Complex.I)) = \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I))\n  (l5 : \u222b (t : \u211d) in (0)..\u03c0, Complex.I * Complex.exp (3 * t * Complex.I) = -2/3) :\n  \u222b (t : \u211d) in (0)..\u03c0, f (z t) * (deriv z t) = -2/3 := by\n  rw [l3, l4, l5]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization uses an arbitrary function f : \u2102 \u2192 \u2102 instead of specifying f(z) = z\u00b2 as indicated in the natural language statement about \u222b_C z\u00b2 dz", "The three equations l3, l4, and l5 are correctly formalized with matching mathematical expressions and proper complex number notation", "The conclusion in Lean is about an arbitrary function f rather than specifically about z\u00b2, making it inconsistent with the natural language conclusion about \u222b_C z\u00b2 dz = -2/3", "The logical structure correctly uses the three equations as hypotheses to derive the final conclusion, matching the 'therefore' reasoning in the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization uses an arbitrary function f : \u2102 \u2192 \u2102 instead of specifying f(z) = z\u00b2 as indicated in the natural language statement about \u222b_C z\u00b2 dz', 'The three equations l3, l4, and l5 are correctly formalized with matching mathematical expressions and proper complex number notation', 'The conclusion in Lean is about an arbitrary function f rather than specifically about z\u00b2, making it inconsistent with the natural language conclusion about \u222b_C z\u00b2 dz = -2/3', \"The logical structure correctly uses the three equations as hypotheses to derive the final conclusion, matching the 'therefore' reasoning in the natural language\"]"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    