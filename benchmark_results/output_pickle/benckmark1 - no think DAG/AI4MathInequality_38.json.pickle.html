
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any triangle with semi-perimeter $s$ and inradius $r$, the inequality $s \\geq 3\\sqrt{3}r$ holds.

Proof: Let $a, b, c$ be the sides of a triangle with semi-perimeter $s = (a+b+c)/2$ and inradius $r$. The area can be expressed as $P = rs = \sqrt{s(s-a)(s-b)(s-c)}$, so $r^2 s = (s-a)(s-b)(s-c)$. To prove $s \ge 3\sqrt{3}\,r$, observe that this is equivalent to $s^3 \ge 27(s-a)(s-b)(s-c)$. Setting $x = s-a$, $y = s-b$, $z = s-c$, we have $x+y+z = s$, and by AMâ€“GM, $(x+y+z)^3 \ge 27xyz$, giving $s^3 \ge 27(s-a)(s-b)(s-c) = 27 r^2 s$, hence $s^2 \ge 27 r^2$ and $s \ge 3\sqrt{3}\,r$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $a, b, c$ be the sides of a triangle with semi-perimeter $s = (a+b+c)/2$ and inradius $r$.", "statement": "Premise:\n\u2022 Let $a, b, c$ be the side lengths of a triangle, $s$ be the semi-perimeter defined as $s = (a+b+c)/2$, and $r$ be the inradius. We assume $a, b, c, s, r$ are positive real numbers and that $a, b, c$ satisfy the triangle inequalities (e.g., $a+b>c$, ensuring $s-a, s-b, s-c$ are positive) [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c s r : \u211d)\n  (tc_1 :\n    0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227\n    a + b > c \u2227 b + c > a \u2227 c + a > b \u2227\n    s = (a + b + c) / 2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean declares variables a, b, c as real numbers, which corresponds to side lengths of a triangle", "The Lean includes s = (a + b + c) / 2 which exactly matches the semi-perimeter definition", "The Lean declares variable r as a real number corresponding to the inradius", "The Lean includes 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r which exactly matches the positivity requirements", "The Lean includes a + b > c \u2227 b + c > a \u2227 c + a > b which exactly matches the triangle inequalities", "The conclusions s-a > 0, s-b > 0, s-c > 0 are not present in the Lean formalization. The Lean only contains premises/conditions in tc_1, but does not include these conclusions as separate propositions or theorems to be proven", "The conclusion s-b > 0 is missing from the Lean formalization", "The conclusion s-c > 0 is missing from the Lean formalization"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean declares variables a, b, c as real numbers, which corresponds to side lengths of a triangle', 'The Lean includes s = (a + b + c) / 2 which exactly matches the semi-perimeter definition', 'The Lean declares variable r as a real number corresponding to the inradius', 'The Lean includes 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r which exactly matches the positivity requirements', 'The Lean includes a + b > c \u2227 b + c > a \u2227 c + a > b which exactly matches the triangle inequalities', 'The conclusions s-a > 0, s-b > 0, s-c > 0 are not present in the Lean formalization. The Lean only contains premises/conditions in tc_1, but does not include these conclusions as separate propositions or theorems to be proven', 'The conclusion s-b > 0 is missing from the Lean formalization', 'The conclusion s-c > 0 is missing from the Lean formalization']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "The area can be expressed as $P = rs = \\sqrt{s(s-a)(s-b)(s-c)}$", "statement": "We assume:\n\u2022 All the context from the triangle setup [tc_1].\nTherefore, we conclude:\n\u2022 The area $P$ of the triangle can be expressed both as $P=rs$ and by Heron's formula as $P=\\sqrt{s(s-a)(s-b)(s-c)}$, which implies $rs = \\sqrt{s(s-a)(s-b)(s-c)}$ [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2) :\n  r * s = sqrt (s * (s - a) * (s - b) * (s - c)) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2) :\n  r * s = sqrt (s * (s - a) * (s - b) * (s - c)) := by\n  have h : s * r = sqrt (s * (s - a) * (s - b) * (s - c)) := by\n    rw [mul_comm]\n  exact h", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 9, "column": 61, "endLine": 10, "endColumn": 17, "data": "unsolved goals\na b c s r : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2\n\u22a2 r * s = \u221a(s * (s - a) * (s - b) * (s - c))"}, {"line": 11, "column": 2, "endLine": 11, "endColumn": 9, "data": "type mismatch\n  h\nhas type\n  s * r = \u221a(s * (s - a) * (s - b) * (s - c)) : Prop\nbut is expected to have type\n  r * s = \u221a(s * (s - a) * (s - b) * (s - c)) : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization accurately captures the mathematical content. The triangle setup conditions in tc_1 are appropriate and comprehensive for a triangle context. The main conclusion correctly formalizes the equivalence between the inradius formula (rs) and Heron's formula for triangle area. The absence of explicit variable P is not problematic since the equivalence is directly stated between the two expressions.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2) :\n  \u00ac (r * s = sqrt (s * (s - a) * (s - b) * (s - c))) := by\n  intro h\n  have h_sq : (r * s)^2 = (sqrt (s * (s - a) * (s - b) * (s - c)))^2 := by rw [h]\n  rw [sq_sqrt] at h_sq\n  \u00b7 have s_def : s = (a + b + c) / 2 := tc_1.right.right.right.right.right.right.right.right\n    have : s * (s - a) * (s - b) * (s - c) = (a + b + c) * (a + b - c) * (a - b + c) * (-a + b + c) / 16 := by\n      rw [s_def]\n      ring\n    rw [this] at h_sq\n    have : (r * s)^2 = (a + b + c) * (a + b - c) * (a - b + c) * (-a + b + c) / 16 := h_sq\n    have : (a + b + c) * (a + b - c) * (a - b + c) * (-a + b + c) = 16 * (r * s)^2 := by linarith\n    have : 0 < r * s := mul_pos tc_1.right.right.right.right.right.left tc_1.right.right.right.left\n    have := ne_of_gt this\n    contradiction\n  \u00b7 apply mul_nonneg (le_of_lt tc_1.right.right.right.left)\n    apply mul_nonneg (sub_nonneg_of_le (by linarith [tc_1.left, tc_1.right.left, tc_1.right.right.left]))\n    apply mul_nonneg (sub_nonneg_of_le (by linarith [tc_1.left, tc_1.right.left, tc_1.right.right.left]))\n    apply sub_nonneg_of_le (by linarith [tc_1.left, tc_1.right.left, tc_1.right.right.left])"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "so $r^2 s = (s-a)(s-b)(s-c)$.", "statement": "We assume:\n\u2022 $s > 0$ [tc_1].\n\u2022 $rs = \\sqrt{s(s-a)(s-b)(s-c)}$ [l1].\nTherefore, we conclude:\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l1 : r * s = sqrt (s * (s - a) * (s - b) * (s - c))) :\n  r^2 * s = (s - a) * (s - b) * (s - c) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l1 : r * s = sqrt (s * (s - a) * (s - b) * (s - c))) :\n  r^2 * s = (s - a) * (s - b) * (s - c) := by\n  have h : 0 \u2264 s * (s - a) * (s - b) * (s - c) := by\n    refine mul_nonneg (mul_nonneg (mul_nonneg (le_of_lt tc_1.4) ?_) ?_) ?_\n    \u00b7 linarith [tc_1.1, tc_1.8]\n    \u00b7 linarith [tc_1.2, tc_1.8]\n    \u00b7 linarith [tc_1.3, tc_1.8]\n  rw [\u2190 mul_self_sqrt h, \u2190 mul_pow, l1, pow_two]\n  field_simp [tc_1.4.ne']\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 56, "endLine": 11, "endColumn": 62, "data": "invalid projection, structure has only 2 field(s)\n  tc_1\nhas type\n  0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2"}, {"line": 12, "column": 24, "endLine": 12, "endColumn": 30, "data": "invalid projection, structure has only 2 field(s)\n  tc_1\nhas type\n  0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2"}, {"line": 13, "column": 24, "endLine": 13, "endColumn": 30, "data": "invalid projection, structure has only 2 field(s)\n  tc_1\nhas type\n  0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2"}, {"line": 14, "column": 16, "endLine": 14, "endColumn": 22, "data": "invalid projection, structure has only 2 field(s)\n  tc_1\nhas type\n  0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2"}, {"line": 15, "column": 6, "endLine": 15, "endColumn": 23, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  s * (s - a) * (s - b) * (s - c)\na b c s r : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2\nl1 : r * s = \u221a(s * (s - a) * (s - b) * (s - c))\nh : 0 \u2264 s * (s - a) * (s - b) * (s - c)\n\u22a2 r ^ 2 * s = (s - a) * (s - b) * (s - c)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization includes additional mathematically consistent constraints that provide proper geometric context for the problem. The core constraint s > 0 is preserved, and the extra conditions don't contradict the natural language.", "The equation rs = \u221a(s(s-a)(s-b)(s-c)) is correctly formalized with identical mathematical meaning.", "The conclusion r\u00b2s = (s-a)(s-b)(s-c) is correctly formalized with identical mathematical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l1 : r * s = sqrt (s * (s - a) * (s - b) * (s - c))) :\n  \u00ac (r^2 * s = (s - a) * (s - b) * (s - c)) := by\n  intro h\n  have hpos : 0 \u2264 s * (s - a) * (s - b) * (s - c) := by\n    have ha : s - a > 0 := by linarith [tc_1.1, tc_1.2.2.2.2.2.1]\n    have hb : s - b > 0 := by linarith [tc_1.2.1, tc_1.2.2.2.2.2.1]\n    have hc : s - c > 0 := by linarith [tc_1.2.2.1, tc_1.2.2.2.2.2.1]\n    positivity\n  rw [\u2190 pow_two, \u2190 mul_pow, h] at l1\n  rw [\u2190 mul_self_eq_mul_self_iff (sqrt_nonneg _) (by positivity), mul_self_sqrt hpos] at l1\n  simp only [mul_assoc, pow_two] at l1\n  have := mul_left_cancel\u2080 (ne_of_gt tc_1.2.2.2.1) l1\n  rw [mul_comm _ s, \u2190 mul_assoc, mul_right_inj' (ne_of_gt tc_1.2.2.2.1)] at this\n  exact (ne_of_gt tc_1.2.2.2.1) this"}, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "Setting $x = s-a$, $y = s-b$, $z = s-c$,", "statement": "Definition:\n\u2022 Let $x = s-a$, $y = s-b$, and $z = s-c$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c s r : \u211d)\n  (tc_1 :\n    0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227\n    a + b > c \u2227 b + c > a \u2227 c + a > b \u2227\n    s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization declares the variables as real numbers and includes additional constraints not mentioned in the natural language (positivity conditions, triangle inequalities, and a specific formula for s). However, these are extra logically consistent details that don't contradict the natural language statement of having given values.", "The Lean formalization exactly captures x = s - a as part of def_1.", "The Lean formalization exactly captures y = s - b as part of def_1.", "The Lean formalization exactly captures z = s - c as part of def_1."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l3": {"id": "l3", "natural_language": "we have $x+y+z = s$,", "statement": "We assume:\n\u2022 $s = (a+b+c)/2$ [tc_1].\n\u2022 $x = s-a$, $y = s-b$, $z = s-c$ [def_1].\nTherefore, we conclude:\n\u2022 $x+y+z = s$ [l3].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (x y z : \u211d)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  x + y + z = s := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (x y z : \u211d)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  x + y + z = s := by\n  rw [def_1.1, def_1.2.1, def_1.2.2]\n  rw [tc_1.2.2.2.2.2.2.2.2]\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical content from the natural language: the definition of s as the semi-perimeter, the definitions of x, y, z, and the conclusion. The additional geometric constraints (positivity and triangle inequalities) are reasonable auxiliary conditions for this context. However, there is an unexplained extra variable 'r' that appears in the type declarations and constraints but is never used in the mathematical relationships and is not mentioned in the natural language. This represents a minor structural inconsistency, though it doesn't affect the core mathematical logic."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly captures all the mathematical content from the natural language: the definition of s as the semi-perimeter, the definitions of x, y, z, and the conclusion. The additional geometric constraints (positivity and triangle inequalities) are reasonable auxiliary conditions for this context. However, there is an unexplained extra variable 'r' that appears in the type declarations and constraints but is never used in the mathematical relationships and is not mentioned in the natural language. This represents a minor structural inconsistency, though it doesn't affect the core mathematical logic.\"]"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "and by AM\u2013GM, $(x+y+z)^3 \\ge 27xyz$,", "statement": "We assume:\n\u2022 $a,b,c$ form a triangle, ensuring $s-a, s-b, s-c$ are positive [tc_1].\n\u2022 $x=s-a, y=s-b, z=s-c$ are positive real numbers [def_1].\nTherefore, we conclude:\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l4].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  (x + y + z) ^ 3 \u2265 27 * x * y * z := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  (x + y + z) ^ 3 \u2265 27 * x * y * z := by\n  have hx : 0 < x := by\n    rw [def_1.1]\n    have := tc_1.1\n    have := tc_1.2.2.2.1\n    linarith\n  have hy : 0 < y := by\n    rw [def_1.2.1]\n    have := tc_1.2.1\n    have := tc_1.2.2.2.1\n    linarith\n  have hz : 0 < z := by\n    rw [def_1.2.2]\n    have := tc_1.2.2.1\n    have := tc_1.2.2.2.1\n    linarith\n  have hxyz : x + y + z = 3 * ((x + y + z) / 3) := by ring\n  rw [hxyz]\n  have h := geom_mean_le_arith_mean3 hx hy hz\n  simp at h\n  rw [\u2190 mul_pow]\n  ring_nf\n  nlinarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 27, "column": 12, "endLine": 27, "endColumn": 36, "data": "unknown identifier 'geom_mean_le_arith_mean3'"}, {"line": 9, "column": 38, "endLine": 31, "endColumn": 11, "data": "unsolved goals\na b c s r x y z : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2\ndef_1 : x = s - a \u2227 y = s - b \u2227 z = s - c\nhx : 0 < x\nhy : 0 < y\nhz : 0 < z\nhxyz : x + y + z = 3 * ((x + y + z) / 3)\n\u22a2 (3 * ((x + y + z) / 3)) ^ 3 \u2265 27 * x * y * z"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The triangle conditions are correctly formalized with proper triangle inequalities and semiperimeter definition. The positivity of s-a, s-b, s-c follows logically from these conditions.", "The variable definitions x=s-a, y=s-b, z=s-c are exactly as stated in the natural language.", "The inequality (x+y+z)\u00b3 \u2265 27xyz is perfectly captured in Lean syntax.", "The Lean formalization includes some extra variables (r) and explicit positivity conditions not mentioned in the natural language, but these are additional constraints that don't contradict the natural language statement.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  \u00ac (x + y + z) ^ 3 \u2265 27 * x * y * z := by\n  rw [not_le]\n  have h : x + y + z = s\n  \u00b7 rw [def_1.1, def_1.2.1, def_1.2.2]\n    rw [tc_1.2.2.2.2.2.2.2.2]\n    field_simp\n    ring\n  rw [h]\n  have hxyz : x * y * z = (s - a) * (s - b) * (s - c) := by\n    rw [def_1.1, def_1.2.1, def_1.2.2]\n  rw [hxyz]\n  have hs : s > 0 := tc_1.2.2.2.1\n  have ha : a < s := by\n    rw [tc_1.2.2.2.2.2.2.2.2]\n    field_simp\n    linarith [tc_1.2.2.2.2.2.1]\n  have hb : b < s := by\n    rw [tc_1.2.2.2.2.2.2.2.2]\n    field_simp\n    linarith [tc_1.2.2.2.2.2.2.1]\n  have hc : c < s := by\n    rw [tc_1.2.2.2.2.2.2.2.2]\n    field_simp\n    linarith [tc_1.2.2.2.2.2.2.2.1]\n  have hpos : 0 < (s - a) * (s - b) * (s - c) := by\n    apply mul_pos (mul_pos (sub_pos.mpr ha) (sub_pos.mpr hb)) (sub_pos.mpr hc)\n  rw [\u2190 sub_neg]\n  apply sub_neg_of_lt\n  rw [mul_assoc]\n  refine lt_of_lt_of_le ?_ (le_mul_of_one_le_right (mul_nonneg (by positivity) (by positivity)) (by linarith))\n  refine lt_of_lt_of_le ?_ (le_mul_of_one_le_right (by positivity) (by linarith))\n  exact lt_of_lt_of_le (by linarith) (by norm_num)"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "giving $s^3 \\ge 27(s-a)(s-b)(s-c)$.", "statement": "We assume:\n\u2022 $x = s-a$, $y = s-b$, $z = s-c$ [def_1].\n\u2022 $x+y+z = s$ [l3].\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l4].\nTherefore, we conclude:\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l5].", "dependencies": ["def_1", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l3 : x + y + z = s)\n  (l4 : (x + y + z) ^ 3 \u2265 27 * x * y * z) :\n  s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l3 : x + y + z = s)\n  (l4 : (x + y + z) ^ 3 \u2265 27 * x * y * z) :\n  s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c) := by\n  rw [\u2190 def_1.1, \u2190 def_1.2.1, \u2190 def_1.2.2]\n  rw [\u2190 l3] at l4\n  exact l4", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 6, "endLine": 13, "endColumn": 10, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  s\na b c s r x y z : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2\ndef_1 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl3 : x + y + z = s\nl4 : (x + y + z) ^ 3 \u2265 27 * x * y * z\n\u22a2 s ^ 3 \u2265 27 * x * y * z"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations are correct with appropriate types. Extra variable 'r' doesn't affect the core logic.", "Definition def_1 is perfectly captured with correct logical conjunction of the three equations.", "Assumption l3 is exactly translated with identical mathematical meaning.", "Assumption l4 is correctly formalized with proper operator precedence and notation.", "Conclusion l5 is perfectly equivalent, with the goal statement matching exactly. Additional geometric context (triangle inequalities, semiperimeter) provides helpful mathematical background without contradicting the stated premise.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5_neg\n  (a b c s r : \u211d) (x y z : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (def_1 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l3 : x + y + z = s)\n  (l4 : (x + y + z) ^ 3 \u2265 27 * x * y * z) :\n  \u00ac (s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)) := by\n  rw [not_le]\n  have h : s ^ 3 = (x + y + z) ^ 3 := by rw [l3]\n  rw [h]\n  rw [l3] at l4\n  simp [def_1]\n  sorry"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "$s^3 \\ge 27(s-a)(s-b)(s-c) = 27 r^2 s$,", "statement": "We assume:\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l2].\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l5].\nTherefore, we conclude:\n\u2022 $s^3 \\ge 27 r^2 s$ [l6].", "dependencies": ["l2", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l2 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (l5 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  s ^ 3 \u2265 27 * r^2 * s := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l2 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (l5 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  s ^ 3 \u2265 27 * r^2 * s := by\n  rw [\u2190 l2]\n  exact l5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 6, "endLine": 11, "endColumn": 10, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (s - a) * (s - b) * (s - c)\na b c s r : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2\nl2 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nl5 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)\n\u22a2 s ^ 3 \u2265 27 * r ^ 2 * s"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations match with appropriate additional context constraints that are logically consistent", "Premise l2 is correctly formalized with equivalent mathematical expression", "Premise l5 is correctly formalized with equivalent mathematical expression", "Conclusion l6 is correctly formalized with equivalent mathematical expression", "The logical structure perfectly captures the substitution-based reasoning from natural language", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l6\n  (a b c s r : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 0 < s \u2227 0 < r \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b \u2227 s = (a + b + c) / 2)\n  (l2 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (l5 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  \u00ac (s ^ 3 \u2265 27 * r^2 * s) := by\n  intro h\n  have h' : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c) := by rwa [\u2190 l2] at h\n  have : s ^ 3 \u2265 s ^ 3 := by nlinarith [tc_1.2.2.2.1, l5, h']\n  exact lt_irrefl _ (lt_of_lt_of_le (by nlinarith [tc_1.2.2.2.1]) (le_trans l5 h'))"}, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "hence $s^2 \\ge 27 r^2$", "statement": "We assume:\n\u2022 $s > 0$ [tc_1].\n\u2022 $s^3 \\ge 27 r^2 s$ [l6].\nTherefore, we conclude:\n\u2022 $s^2 \\ge 27 r^2$ [l7].", "dependencies": ["tc_1", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (s r : \u211d)\n  (tc_1 : 0 < s)\n  (l6 : s ^ 3 \u2265 27 * r ^ 2 * s) :\n  s ^ 2 \u2265 27 * r ^ 2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (s r : \u211d)\n  (tc_1 : 0 < s)\n  (l6 : s ^ 3 \u2265 27 * r ^ 2 * s) :\n  s ^ 2 \u2265 27 * r ^ 2 := by\n  have : s ^ 3 = s ^ 2 * s := by ring\n  rw [this] at l6\n  exact le_of_mul_le_mul_right l6 tc_1", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations (s r : \u211d) appropriately specify the mathematical context that was implicit in natural language", "Assumption tc_1 correctly translates 's > 0' to '0 < s' with equivalent mathematical meaning", "Assumption l6 accurately captures 's\u00b3 \u2265 27r\u00b2s' using Lean's exponentiation and multiplication notation", "The conclusion correctly represents 's\u00b2 \u2265 27r\u00b2' in Lean syntax", "The overall logical structure perfectly preserves the mathematical reasoning from assumptions to conclusion"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "and $s \\ge 3\\sqrt{3}\\,r$.", "statement": "We assume:\n\u2022 $s > 0$ and $r \\ge 0$ [tc_1].\n\u2022 $s^2 \\ge 27 r^2$ [l7].\nTherefore, we conclude:\n\u2022 $s \\ge 3\\sqrt{3}r$ [ts_1].", "dependencies": ["tc_1", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (s r : \u211d)\n  (tc_1 : 0 < s \u2227 0 < r)\n  (l7 : s ^ 2 \u2265 27 * r ^ 2) :\n  s \u2265 3 * (Real.sqrt 3) * r := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (s r : \u211d)\n  (tc_1 : 0 < s \u2227 0 \u2264 r)\n  (l7 : s ^ 2 \u2265 27 * r ^ 2) :\n  s \u2265 3 * (Real.sqrt 3) * r := by\n  have h : 0 \u2264 3 * r := by nlinarith [tc_1.2]\n  rw [\u2190 mul_assoc, \u2190 Real.sqrt_mul (by norm_num) (r^2), \u2190 Real.sqrt_mul (by norm_num) (9 * r^2)]\n  rw [\u2190 Real.sqrt_mul (by norm_num) (3 * r^2), \u2190 Real.sqrt_mul (by norm_num) (27 * r^2)]\n  simp only [mul_pow, Real.sqrt_sq h]\n  exact Real.sqrt_le_sqrt l7", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 6, "endLine": 11, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a * (?b * ?c)\ns r : \u211d\ntc_1 : 0 < s \u2227 0 \u2264 r\nl7 : s ^ 2 \u2265 27 * r ^ 2\nh : 0 \u2264 3 * r\n\u22a2 s \u2265 3 * \u221a3 * r"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The constraint on r differs: natural language states r \u2265 0 while Lean requires 0 < r. This changes the domain from allowing r = 0 to excluding it, but doesn't fundamentally alter the mathematical relationship being established.", "The condition s\u00b2 \u2265 27r\u00b2 is perfectly captured in both representations.", "The conclusion s \u2265 3\u221a3r is correctly formalized using Real.sqrt 3 and appropriate multiplication.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.67 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  (s r : \u211d)\n  (tc_1 : 0 < s \u2227 0 < r)\n  (l7 : s ^ 2 \u2265 27 * r ^ 2) :\n  \u00ac(s \u2265 3 * (Real.sqrt 3) * r) := by\n  intro h\n  have h1 : (3 * (Real.sqrt 3) * r)^2 \u2264 s^2 := by\n    refine pow_le_pow_left (by positivity) h 2\n  simp at h1\n  rw [mul_pow, mul_pow, Real.sq_sqrt (by positivity)] at h1\n  ring_nf at h1\n  have h2 : 27 * r^2 \u2264 27 * r^2 := by rfl\n  have h3 : 27 * r^2 < 27 * r^2 := by\n    apply lt_of_le_of_lt h1\n    exact lt_of_le_of_lt l7 (by linarith)\n  linarith"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    