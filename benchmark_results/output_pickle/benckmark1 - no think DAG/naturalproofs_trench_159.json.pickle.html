
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $f$ is differentiable at $\mathbf{X}_0,$ then $f$
is continuous at $\mathbf{X}_0$.

Proof: From \eqref{eq:5.3.19} and Schwarz's inequality,
$$
|L(\mathbf{X}-\mathbf{X}_0)|\le M|\mathbf{X}-\mathbf{X}_0|,
$$
where
$$
M=(m^2_1+m^2_2+\cdots+m^2_n)^{1/2}.
$$
This and \eqref{eq:5.3.20} imply that
$$
|f(\mathbf{X})-f(\mathbf{X}_0)|\le(M+|E(\mathbf{X})|)
|\mathbf{X}-\mathbf{X}_0|,
$$
which, with \eqref{eq:5.3.21}, implies that $f$ is continuous at $\mathbf{X}_0$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $f$ is differentiable at $\\mathbf{X}_0,$", "statement": "Premise:\n\u2022 Let f be a function from a domain D \u2286 \u211d\u207f to \u211d, and let X\u2080 be an interior point of D. f is differentiable at X\u2080. [tc_1]", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable {n : \u2115} (f : \u211d\u207f \u2192 \u211d) (D : Set \u211d\u207f) (X\u2080 : \u211d\u207f)\n(tc_1 : X\u2080 \u2208 D.interior \u2227 DifferentiableAt f X\u2080)", "lean_pass": false, "error_msg": [{"line": 5, "column": 23, "endLine": 5, "endColumn": 24, "data": "unexpected token '\u207f'; expected ')'"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "From \\eqref{eq:5.3.19}", "statement": "Definition (inferred context for (5.3.19)):\n\u2022 The premise that f is differentiable at X\u2080 [tc_1] implies the existence of a linear map L. This map is represented by a constant vector m = (m\u2081, ..., m\u2099) (the gradient of f at X\u2080) such that L(H) = m \u22c5 H. For H = X - X\u2080, we have L(X - X\u2080) = \u03a3\u1d62 m\u1d62(x\u1d62 - x\u2080\u1d62). [def_1]", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115} {D : Set (\u211d^n)} (f : (\u211d^n) \u2192 \u211d) (X\u2080 : \u211d^n)\n  (tc_1 : D.interior.Nonempty \u2227 X\u2080 \u2208 D.interior \u2227 DifferentiableAt \u211d f X\u2080)\n  (m : \u211d^n)\n  (def_1 : \u2200 H : \u211d^n, (DifferentiableAt \u211d f X\u2080 \u2192 (\u2203 L : (\u211d^n) \u2192 \u211d, IsLinearMap \u211d L \u2227 (\u2200 H_val : \u211d^n, L H_val = m \u2b1d H_val))) \u2227 (\u2200 H_val : \u211d^n, (\u2203 L : (\u211d^n) \u2192 \u211d, IsLinearMap \u211d L \u2227 (\u2200 H_val_inner : \u211d^n, L H_val_inner = m \u2b1d H_val_inner)) \u2192 L H = m \u2b1d H))", "lean_pass": false, "error_msg": [], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "and \\eqref{eq:5.3.20}", "statement": "Definition (inferred context for (5.3.20)):\n\u2022 The premise that f is differentiable at X\u2080 [tc_1] means that f(X) - f(X\u2080) can be written as f(X) - f(X\u2080) = L(X - X\u2080) + E(X)|X - X\u2080|, where L is the linear map from [def_1] and E(X) is an error function. [def_2]", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115}\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D : Set (Fin n \u2192 \u211d))\n  (X X\u2080 : Fin n \u2192 \u211d)\n  (tc_1 : X\u2080 \u2208 D.interior \u2227 DifferentiableAt \u211d f X\u2080)\n  (def_1 : \u2203 m : Fin n \u2192 \u211d, L = fun H : Fin n \u2192 \u211d => (m \u2b1d H))\n  (L : (Fin n \u2192 \u211d) \u2192L[\u211d] \u211d)\n  (E : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (def_2 : f X - f X\u2080 = L (X - X\u2080) + E X * dist X X\u2080)", "lean_pass": false, "error_msg": [], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "def_3": {"id": "def_3", "natural_language": "with \\eqref{eq:5.3.21}", "statement": "Definition (inferred context for (5.3.21)):\n\u2022 The error function E(X) from the definition of differentiability [def_2] satisfies the condition lim_{X \u2192 X\u2080} E(X) = 0. [def_3]", "dependencies": ["def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable {n : \u2115} {E : (Fin n \u2192 \u211d) \u2192 \u211d} {X X\u2080 : Fin n \u2192 \u211d}\n(def_3 : Tendsto E (nhds X\u2080) (nhds 0))", "lean_pass": true, "error_msg": [], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization completely omits the condition that E(X) comes from the definition of differentiability [def_2]. The Lean code only declares E as a general function without any connection to differentiability.", "The Lean formalization correctly captures the limit condition using Tendsto with neighborhoods, which is the proper topological formulation of lim_{X \u2192 X\u2080} E(X) = 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization completely omits the condition that E(X) comes from the definition of differentiability [def_2]. The Lean code only declares E as a general function without any connection to differentiability.', 'The Lean formalization correctly captures the limit condition using Tendsto with neighborhoods, which is the proper topological formulation of lim_{X \u2192 X\u2080} E(X) = 0.']"}, "type": "definition"}, "def_4": {"id": "def_4", "natural_language": "where\n$$\nM=(m^2_1+m^2_2+\\cdots+m^2_n)^{1/2}.\n$$", "statement": "Definition:\n\u2022 Given the vector m = (m\u2081, ..., m\u2099) from the definition of the linear map L [def_1], we define the scalar M as its Euclidean norm: M = (\u03a3\u1d62 m\u1d62\u00b2)^{1/2}. [def_4]", "dependencies": ["def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable {n : \u2115} (m : Fin n \u2192 \u211d)\n(def_4 : (\u2211 i : Fin n, (m i) ^ 2) ^ (1 / 2 : \u211d) = M)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean representation of vector m as 'Fin n \u2192 \u211d' correctly captures the mathematical concept of an n-dimensional vector with components (m\u2081, ..., m\u2099). The reference to 'definition of linear map L [def_1]' is contextual and doesn't affect the formalization.", "The Lean formalization correctly captures the Euclidean norm definition. The equation is written as '(\u2211 i : Fin n, (m i) ^ 2) ^ (1 / 2 : \u211d) = M' instead of 'M = (\u03a3\u1d62 m\u1d62\u00b2)^{1/2}', but this is mathematically equivalent. The sum notation and exponentiation are properly formalized."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "From \\eqref{eq:5.3.19} and Schwarz's inequality,\n$$\n|L(\\mathbf{X}-\\mathbf{X}_0)|\\le M|\\mathbf{X}-\\mathbf{X}_0|,\n$$", "statement": "We assume:\n\u2022 The linear map L is given by L(X - X\u2080) = m \u22c5 (X - X\u2080) [def_1].\n\u2022 M is the Euclidean norm of the vector m [def_4].\nTherefore, we conclude:\n\u2022 |L(X - X\u2080)| \u2264 M |X - X\u2080| [l1].", "dependencies": ["def_1", "def_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n : \u2115} {E : Type*} [NormedAddCommGroup E] [InnerProductSpace \u211d E]\n  (L : E \u2192L[\u211d] \u211d) (X X\u2080 H : E) (m : E) (M : \u211d)\n  (def_1 : L H = m \u2097\u1d62 H)\n  (def_4 : M = (inner m m).sqrt) :\n  |L (X - X\u2080)| \u2264 M * |X - X\u2080| := by\nsorry", "lean_pass": false, "error_msg": [{"line": 8, "column": 17, "endLine": 8, "endColumn": 23, "data": "function expected at\n  m\nterm has type\n  E"}, {"line": 10, "column": 21, "endLine": 10, "endColumn": 29, "data": "failed to synthesize\n  Lattice E\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 9, "column": 15, "endLine": 9, "endColumn": 31, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  inner m m\nhas type\n  ?m.3104"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n : \u2115} {E : Type*} [NormedAddCommGroup E] [InnerProductSpace \u211d E]\n  (L : E \u2192L[\u211d] \u211d) (X X\u2080 : E) (m : E) (M : \u211d)\n  (def_1 : \u2200 H, L H = inner m H)\n  (def_4 : M = \u2016m\u2016) :\n  |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n  simp [def_1, def_4]\n  exact abs_real_inner_le_norm m (X - X\u2080)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "This and \\eqref{eq:5.3.20} imply that\n$$\n|f(\\mathbf{X})-f(\\mathbf{X}_0)|\\le(M+|E(\\mathbf{X})|)\n|\\mathbf{X}-\\mathbf{X}_0|,\n$$", "statement": "We assume:\n\u2022 The definition of differentiability states f(X) - f(X\u2080) = L(X - X\u2080) + E(X)|X - X\u2080| [def_2].\n\u2022 The term |L(X - X\u2080)| is bounded by M |X - X\u2080| [l1].\nTherefore, we conclude:\n\u2022 |f(X) - f(X\u2080)| \u2264 (M + |E(X)|) |X - X\u2080| [l2].", "dependencies": ["def_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {V : Type*} [NormedAddCommGroup V] [NormedSpace \u211d V]\n  (f : V \u2192 \u211d) (X X\u2080 : V) (L : V \u2192 \u211d) (E : V \u2192 \u211d) (M : \u211d)\n  (def_2 : f X - f X\u2080 = L (X - X\u2080) + E X * norm (X - X\u2080))\n  (l1 : norm (L (X - X\u2080)) \u2264 M * norm (X - X\u2080)) :\n  norm (f X - f X\u2080) \u2264 (M + norm (E X)) * norm (X - X\u2080) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {V : Type*} [NormedAddCommGroup V] [NormedSpace \u211d V]\n  (f : V \u2192 \u211d) (X X\u2080 : V) (L : V \u2192 \u211d) (E : V \u2192 \u211d) (M : \u211d)\n  (def_2 : f X - f X\u2080 = L (X - X\u2080) + E X * norm (X - X\u2080))\n  (l1 : norm (L (X - X\u2080)) \u2264 M * norm (X - X\u2080)) :\n  norm (f X - f X\u2080) \u2264 (M + norm (E X)) * norm (X - X\u2080) := by\n  rw [def_2]\n  simp only [norm_add, norm_mul, norm_norm]\n  gcongr\n  \u00b7 exact l1\n  \u00b7 rfl", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 12, "column": 13, "endLine": 12, "endColumn": 21, "data": "unknown identifier 'norm_add'"}, {"line": 12, "column": 2, "endLine": 12, "endColumn": 43, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The mathematical context is properly formalized with appropriate normed vector space structure that supports the differentiability concepts discussed.", "The differentiability definition is correctly translated with norm replacing absolute value notation, maintaining the exact mathematical relationship.", "The boundedness condition l1 is faithfully represented with proper norm notation and inequality structure.", "The conclusion l2 correctly captures the final inequality with all terms and relationships preserved from the natural language.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  {V : Type*} [NormedAddCommGroup V] [NormedSpace \u211d V]\n  (f : V \u2192 \u211d) (X X\u2080 : V) (L : V \u2192 \u211d) (E : V \u2192 \u211d) (M : \u211d)\n  (def_2 : f X - f X\u2080 = L (X - X\u2080) + E X * norm (X - X\u2080))\n  (l1 : norm (L (X - X\u2080)) \u2264 M * norm (X - X\u2080)) :\n  \u00ac norm (f X - f X\u2080) \u2264 (M + norm (E X)) * norm (X - X\u2080) := by\n  intro h\n  have h1 := norm_add_le (L (X - X\u2080)) (E X * norm (X - X\u2080))\n  rw [\u2190def_2] at h1\n  have h2 : norm (E X * norm (X - X\u2080)) = norm (E X) * norm (norm (X - X\u2080)) := norm_mul (E X) (norm (X - X\u2080))\n  have h3 : norm (norm (X - X\u2080)) = norm (X - X\u2080) := norm_norm (X - X\u2080)\n  rw [h2, h3] at h1\n  have h4 := add_le_add l1 (le_refl (norm (E X) * norm (X - X\u2080)))\n  rw [\u2190add_mul] at h4\n  exact not_le_of_lt (lt_of_lt_of_le (lt_add_of_pos_right _ (mul_pos (norm_pos_iff.mpr (sub_ne_zero.mpr (by sorry))) \n    (norm_pos_iff.mpr (by sorry))))) (le_trans h1 h4)"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "which, with \\eqref{eq:5.3.21}, implies that $f$ is continuous at $\\mathbf{X}_0$.", "statement": "We assume:\n\u2022 For all X in a neighborhood of X\u2080, the inequality |f(X) - f(X\u2080)| \u2264 (M + |E(X)|) |X - X\u2080| holds [l2].\n\u2022 The error function satisfies lim_{X \u2192 X\u2080} E(X) = 0 [def_3].\nTherefore, we conclude:\n\u2022 f is continuous at X\u2080 (which is defined as lim_{X \u2192 X\u2080} f(X) = f(X\u2080)). [ts_1]", "dependencies": ["l2", "def_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {V : Type*} [NormedAddCommGroup V] [NormedSpace \u211d V]\n  (f : V \u2192 \u211d) (X\u2080 : V) (M : \u211d) (E : V \u2192 \u211d)\n  (l2 : \u2200 X : V, (M + norm (E X)) * norm (X - X\u2080) \u2265 norm (f X - f X\u2080))\n  (def_3 : Tendsto E (nhds X\u2080) (nhds 0)) :\n  ContinuousAt f X\u2080 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {V : Type*} [NormedAddCommGroup V] [NormedSpace \u211d V]\n  (f : V \u2192 \u211d) (X\u2080 : V) (M : \u211d) (E : V \u2192 \u211d)\n  (l2 : \u2200 X : V, (M + \u2016E X\u2016) * \u2016X - X\u2080\u2016 \u2265 \u2016f X - f X\u2080\u2016)\n  (def_3 : Tendsto E (nhds X\u2080) (nhds 0)) :\n  ContinuousAt f X\u2080 := by\n  have h1 : Tendsto (fun X => \u2016E X\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd 0) := by\n    simp only [norm_eq_abs]\n    exact Tendsto.comp (Continuous.tendsto continuous_norm 0) def_3\n  have h2 : Tendsto (fun X => M + \u2016E X\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd (M + 0)) := Tendsto.add tendsto_const_nhds h1\n  have h3 : Tendsto (fun X => \u2016X - X\u2080\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd 0) := by\n    simp only [sub_self, norm_zero]\n    exact tendsto_id.norm.sub tendsto_const_nhds\n  have h4 : Tendsto (fun X => (M + \u2016E X\u2016) * \u2016X - X\u2080\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd (M * 0)) := by\n    rw [add_zero, mul_zero]\n    exact Tendsto.mul h2 h3\n  have h5 : Tendsto (fun X => \u2016f X - f X\u2080\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd 0) := by\n    apply tendsto_of_tendsto_of_le' tendsto_const_nhds h4 (fun X => l2 X)\n    simp\n  exact continuousAt_iff_norm_tendsto_zero.2 h5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 4, "endLine": 13, "endColumn": 67, "data": "type mismatch\n  Tendsto.comp (Continuous.tendsto continuous_norm 0) def_3\nhas type\n  Tendsto ((fun a => \u2016a\u2016) \u2218 E) (\ud835\udcdd X\u2080) (\ud835\udcdd \u20160\u2016) : Prop\nbut is expected to have type\n  Tendsto (fun X => |E X|) (\ud835\udcdd X\u2080) (\ud835\udcdd 0) : Prop"}, {"line": 16, "column": 4, "endLine": 16, "endColumn": 35, "data": "simp made no progress"}, {"line": 19, "column": 8, "endLine": 19, "endColumn": 16, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a + 0\nV : Type u_1\ninst\u271d\u00b9 : NormedAddCommGroup V\ninst\u271d : NormedSpace \u211d V\nf : V \u2192 \u211d\nX\u2080 : V\nM : \u211d\nE : V \u2192 \u211d\nl2 : \u2200 (X : V), (M + \u2016E X\u2016) * \u2016X - X\u2080\u2016 \u2265 \u2016f X - f X\u2080\u2016\ndef_3 : Tendsto E (\ud835\udcdd X\u2080) (\ud835\udcdd 0)\nh1 : Tendsto (fun X => \u2016E X\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd 0)\nh2 : Tendsto (fun X => M + \u2016E X\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd (M + 0))\nh3 : Tendsto (fun X => \u2016X - X\u2080\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd 0)\n\u22a2 Tendsto (fun X => (M + \u2016E X\u2016) * \u2016X - X\u2080\u2016) (\ud835\udcdd X\u2080) (\ud835\udcdd (M * 0))"}, {"line": 22, "column": 10, "endLine": 22, "endColumn": 35, "data": "unknown identifier 'tendsto_of_tendsto_of_le''"}, {"line": 23, "column": 4, "endLine": 23, "endColumn": 8, "data": "no goals to be solved"}, {"line": 24, "column": 8, "endLine": 24, "endColumn": 42, "data": "unknown identifier 'continuousAt_iff_norm_tendsto_zero'"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The mathematical context using normed vector spaces appropriately captures the setting for discussing continuity and limits.", "The inequality assumption l2 has a major logical difference: the natural language restricts it to 'a neighborhood of X\u2080' while Lean applies it globally to 'all X : V'. This makes the Lean assumption significantly stronger than stated in natural language.", "The limit condition def_3 perfectly translates the error function limit using Lean's standard Tendsto notation.", "The conclusion correctly captures continuity at X\u2080 using Lean's ContinuousAt predicate.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The mathematical context using normed vector spaces appropriately captures the setting for discussing continuity and limits.', \"The inequality assumption l2 has a major logical difference: the natural language restricts it to 'a neighborhood of X\u2080' while Lean applies it globally to 'all X : V'. This makes the Lean assumption significantly stronger than stated in natural language.\", \"The limit condition def_3 perfectly translates the error function limit using Lean's standard Tendsto notation.\", \"The conclusion correctly captures continuity at X\u2080 using Lean's ContinuousAt predicate.\"]"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_3", "label": "def_3", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_4", "label": "def_4", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    