
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $f$ be defined on $[a,b].$ Then $f$ is continuous at $x_0$ in
$[a,b]$ if and only if $w_f(x_0)=0.$ $($Continuity at $a$ or
$b$ means continuity from the right or left, respectively.$)$

Proof: Suppose that $a<x_0<b$.
First, suppose that $w_f(x_0)=0$
and $\epsilon>0$. Then
$$
W_f[x_0-h,x_0+h]<\epsilon
$$
for some $h>0$, so
$$
|f(x)-f(x')|<\epsilon\mbox{\quad if\quad} x_0-h\le x,x'\le x_0+h.
$$
 Letting $x'=x_0$, we conclude that
$$
|f(x)-f(x_0)|<\epsilon\mbox{\quad if\quad} |x-x_0|<h.
$$
Therefore, $f$ is continuous at $x_0$.
Conversely, if $f$ is continuous at $x_0$ and $\epsilon>0$, there is a
$\delta>0$ such that
$$
|f(x)-f(x_0)|<\frac{\epsilon}{2}\mbox{\quad and\quad} |f(x')-f(x_0)|<
\frac{\epsilon}{2}
$$
if $x_0-\delta\le x$, $x'\le x_0+\delta$.  From the triangle
inequality,
$$
|f(x)-f(x')|\le|f(x)-f(x_0)|+|f(x')-f(x_0)|<\epsilon,
$$
so
$$
W_f[x_0-h,x_0+h]\le\epsilon\mbox{\quad if\quad} h<\delta;
$$
 therefore, $w_f(x_0)=0$.
Similar arguments apply if
$x_0=a$ or $x_0=b$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $f$ be defined on $[a,b].$ Then $f$ is continuous at $x_0$ in $[a,b]$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on the closed interval $[a,b]$ and $x_0 \\in [a,b]$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (a b x\u2080 : \u211d)\n(tc_1 : x\u2080 \u2208 Set.Icc a b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language specifies that f is defined on the closed interval [a,b], but the Lean formalization declares f as a function from all reals to reals (f : \u211d \u2192 \u211d). This is a significant difference in the domain specification of the function.", "The Lean formalization correctly captures that x\u2080 is in the closed interval [a,b] using Set.Icc a b, which perfectly matches the mathematical notation."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language specifies that f is defined on the closed interval [a,b], but the Lean formalization declares f as a function from all reals to reals (f : \u211d \u2192 \u211d). This is a significant difference in the domain specification of the function.', 'The Lean formalization correctly captures that x\u2080 is in the closed interval [a,b] using Set.Icc a b, which perfectly matches the mathematical notation.']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "$f$ is continuous at $x_0$", "statement": "Definition:\n\u2022 A function $f$ is continuous at $x_0 \\in [a,b]$ if for every $\\epsilon > 0$, there exists a $\\delta > 0$ such that for all $x \\in [a,b]$, if $|x - x_0| < \\delta$, then $|f(x) - f(x_0)| < \\epsilon$ [def_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 [a, b])\n  (def_1 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 x \u2208 [a, b], |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that f is a function, with the additional specification that it maps from reals to reals, which is consistent with the mathematical context", "The Lean formalization correctly captures that x0 is in the interval [a,b]. The additional constraint (hab : a \u2264 b) is a reasonable mathematical assumption not contradicting the natural language", "The Lean formalization perfectly captures the epsilon-delta condition for continuity with the same logical structure", "The natural language concludes that 'f is continuous at x0', but the Lean code only provides the definition/condition (def_1) without stating the conclusion that f is actually continuous at x0. The Lean code is missing the key conclusion"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that f is a function, with the additional specification that it maps from reals to reals, which is consistent with the mathematical context', 'The Lean formalization correctly captures that x0 is in the interval [a,b]. The additional constraint (hab : a \u2264 b) is a reasonable mathematical assumption not contradicting the natural language', 'The Lean formalization perfectly captures the epsilon-delta condition for continuity with the same logical structure', \"The natural language concludes that 'f is continuous at x0', but the Lean code only provides the definition/condition (def_1) without stating the conclusion that f is actually continuous at x0. The Lean code is missing the key conclusion\"]"}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "W_f[x_0-h,x_0+h]", "statement": "Definition:\n\u2022 For an interval $I$, the oscillation of $f$ over $I$ is $W_f(I) = \\sup \\{ |f(x) - f(x')| : x, x' \\in I \\}$ [def_2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (f : \u211d \u2192 \u211d)\n  (I : Set \u211d)\n  (def_2 : Wf f I = \u2a06 (x : I) (x' : I), |f x - f x'|)", "lean_pass": false, "error_msg": [{"line": 8, "column": 11, "endLine": 8, "endColumn": 17, "data": "function expected at\n  Wf\nterm has type\n  ?m.11"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "def_3": {"id": "def_3", "natural_language": "$w_f(x_0)=0.$", "statement": "Definition:\n\u2022 The oscillation of $f$ at a point $x_0 \\in [a,b]$ is $w_f(x_0) = \\inf_{h>0} W_f([x_0-h, x_0+h] \\cap [a,b])$ [def_3].", "dependencies": ["def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (f : \u211d \u2192 \u211d)\n  (a b : \u211d)\n  (hf_cont : ContinuousOn f (Icc a b))\n  (h_ab : a < b)\n  (x0 : \u211d)\n  (h_x0_mem : x0 \u2208 Icc a b)\n  (def_2 : \u2200 (I : Set \u211d),\n    (\u2203 (x x' : \u211d), x \u2208 I \u2227 x' \u2208 I) \u2192\n    (Wf : I \u2192 \u211d), Wf I = sSup (Set.image (fun p : \u211d \u00d7 \u211d => |f p.1 - f p.2|) (I \u00d7\u02e2 I)))\n  (def_3 : Wf x0 = \u2a05 (h : {h : \u211d // h > 0}), (Wf (Icc (x0 - h) (x0 + h) \u2229 (Icc a b))))", "lean_pass": false, "error_msg": [{"line": 14, "column": 16, "endLine": 14, "endColumn": 17, "data": "unexpected token ','; expected ')'"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "tc_2": {"id": "tc_2", "natural_language": "Suppose that $a<x_0<b$.", "statement": "Premise:\n\u2022 Let $f$ be defined on $[a,b]$ and $x_0 \\in [a,b]$ [tc_1].\n\u2022 We consider the case where $x_0$ is in the open interval $(a,b)$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (a b x\u2080 : \u211d)\n(tc_1 : x\u2080 \u2208 Set.Icc a b)\n(tc_2 : x\u2080 \u2208 Set.Ioo a b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language specifies that f is defined on the interval [a,b], but the Lean formalization declares f as a function from all reals to reals (\u211d \u2192 \u211d). This misses the key constraint that f's domain is restricted to [a,b].", "Set.Icc a b correctly represents the closed interval [a,b], matching the natural language condition exactly.", "Set.Ioo a b correctly represents the open interval (a,b), matching the natural language condition exactly."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The natural language specifies that f is defined on the interval [a,b], but the Lean formalization declares f as a function from all reals to reals (\u211d \u2192 \u211d). This misses the key constraint that f's domain is restricted to [a,b].\", 'Set.Icc a b correctly represents the closed interval [a,b], matching the natural language condition exactly.', 'Set.Ioo a b correctly represents the open interval (a,b), matching the natural language condition exactly.']"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "First, suppose that $w_f(x_0)=0$", "statement": "Premise for the first implication:\n\u2022 Let $f$ be defined on $[a,b]$ and $x_0 \\in (a,b)$ [tc_2].\n\u2022 The oscillation of $f$ at $x_0$ is $w_f(x_0) = 0$ [tc_3].", "dependencies": ["tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (a b x\u2080 : \u211d)\n(tc_2 : x\u2080 \u2208 Set.Ioo a b)\n(tc_3 : Function.oscillation f x\u2080 = 0)", "lean_pass": false, "error_msg": [{"line": 7, "column": 8, "endLine": 7, "endColumn": 28, "data": "unknown identifier 'Function.oscillation'"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Then W_f[x_0-h,x_0+h] < epsilon for some h>0", "statement": "We assume:\n\u2022 For $x_0 \\in (a,b)$, the oscillation $w_f(x_0) = \\inf_{h>0} W_f([x_0-h, x_0+h] \\cap [a,b]) = 0$ [tc_3, def_3].\n\u2022 $\\epsilon > 0$ is a positive real number.\nTherefore, we conclude:\n\u2022 There exists an $h > 0$ such that $[x_0-h, x_0+h] \\subset [a,b]$ and $W_f([x_0-h, x_0+h]) < \\epsilon$ [l1].", "dependencies": ["tc_3", "def_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (f : \u211d \u2192 \u211d) (a b : \u211d) (x0 : \u211d)\n  (hab : a < b) (hx0 : x0 \u2208 Ioo a b)\n  (def_3 : Metric.oscillationOn f (Set.Icc a b) x0 = inf\u1d62 (fun h : {h : \u211d // h > 0} => Metric.diam (f '' (Set.Icc (x0 - h) (x0 + h) \u2229 Set.Icc a b))))\n  (tc_3 : Metric.oscillationOn f (Set.Icc a b) x0 = 0) (\u03b5 : \u211d) (h\u03b5 : \u03b5 > 0) :\n  \u2203 h : {h : \u211d // h > 0}, Set.Icc (x0 - h) (x0 + h) \u2286 Set.Icc a b \u2227 Metric.diam (f '' (Set.Icc (x0 - h) (x0 + h))) < \u03b5 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 8, "column": 11, "endLine": 8, "endColumn": 31, "data": "unknown identifier 'Metric.oscillationOn'"}, {"line": 9, "column": 10, "endLine": 9, "endColumn": 30, "data": "unknown identifier 'Metric.oscillationOn'"}, {"line": 7, "column": 28, "endLine": 7, "endColumn": 35, "data": "function expected at\n  Ioo\nterm has type\n  ?m.101"}, {"line": 8, "column": 53, "endLine": 8, "endColumn": 148, "data": "function expected at\n  inf\u1d62\nterm has type\n  ?m.354"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib.Analysis.SpecialFunctions.Pow.Real\nimport Mathlib.Topology.MetricSpace.Basic\nimport Mathlib.Topology.MetricSpace.Diameter\n\nopen Set Metric\n\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (f : \u211d \u2192 \u211d) (a b : \u211d) (x0 : \u211d)\n  (hab : a < b) (hx0 : x0 \u2208 Ioo a b)\n  (def_3 : oscillationOn f (Icc a b) x0 = \u2a05 h : {h : \u211d // h > 0}, diam (f '' (Icc (x0 - h) (x0 + h) \u2229 Icc a b)))\n  (tc_3 : oscillationOn f (Icc a b) x0 = 0) (\u03b5 : \u211d) (h\u03b5 : \u03b5 > 0) :\n  \u2203 h : \u211d, h > 0 \u2227 Icc (x0 - h) (x0 + h) \u2286 Icc a b \u2227 diam (f '' (Icc (x0 - h) (x0 + h))) < \u03b5 := by\n  have := (inf\u1d62_eq_zero.mp tc_3).mp h\u03b5\n  rcases this with \u27e8\u27e8h, hpos\u27e9, hdiam\u27e9\n  refine \u27e8min h (min (x0 - a) (b - x0)), ?_, ?_, ?_\u27e9\n  \u00b7 exact lt_min hpos (lt_min (sub_pos.mpr hx0.1) (sub_pos.mpr hx0.2))\n  \u00b7 intro x hx\n    simp only [mem_Icc] at hx \u22a2\n    constructor\n    \u00b7 exact le_trans (sub_le_sub_left (min_le_right _ _) _) (le_trans hx.1 (le_sub_iff_add_le.mp (min_le_right _ _)))\n    \u00b7 exact le_trans (add_le_add_left (min_le_right _ _) _) (le_trans hx.2 (add_le_iff_le_sub.mp (min_le_right _ _)))\n  \u00b7 refine lt_of_le_of_lt (diam_mono (image_subset f ?_)) hdiam\n    exact Icc_subset_Icc (sub_le_sub_left (min_le_left _ _) _) (add_le_add_left (min_le_left _ _) _)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 3, "column": 0, "endLine": 3, "endColumn": 6, "data": "invalid 'import' command, it must be used in the beginning of the file"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "so |f(x)-f(x')|<\\epsilon if x_0-h <= x,x' <= x_0+h.", "statement": "We assume:\n\u2022 For a given interval $I$, $W_f(I) = \\sup \\{ |f(x) - f(x')| : x, x' \\in I \\}$ [def_2].\n\u2022 For some $h>0$, $W_f([x_0-h, x_0+h]) < \\epsilon$ [l1].\nTherefore, we conclude:\n\u2022 For all $x, x'$ such that $x, x' \\in [x_0-h, x_0+h]$, we have $|f(x) - f(x')| < \\epsilon$ [l2].", "dependencies": ["l1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2 {\u03b1 : Type*} [LinearOrderedAddCommGroup \u03b1] [MetricSpace \u03b1]\n  (f : \u03b1 \u2192 \u211d) (x0 : \u03b1) (h : \u211d) (\u03b5 : \u211d)\n  (def_2 : \u2200 (I : Set \u03b1), (Set.Real.sSup (abs '' ((fun x => f x - f x') '' (I \u00d7\u02e2 I)))) = (\u2a06 (x x' : \u03b1) (_ : x \u2208 I) (_ : x' \u2208 I), |f x - f x'|) )\n  (l1 : (\u2a06 (x x' : \u03b1) (_ : x \u2208 (Set.Icc (x0 - h) (x0 + h))) (_ : x' \u2208 (Set.Icc (x0 - h) (x0 + h))), |f x - f x'|) < \u03b5) :\n  \u2200 x x' : \u03b1, x \u2208 (Set.Icc (x0 - h) (x0 + h)) \u2192 x' \u2208 (Set.Icc (x0 - h) (x0 + h)) \u2192 |f x - f x'| < \u03b5 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 94, "endLine": 7, "endColumn": 97, "data": "unexpected identifier; expected ')'"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2 {\u03b1 : Type*} [LinearOrderedAddCommGroup \u03b1] [MetricSpace \u03b1]\n  (f : \u03b1 \u2192 \u211d) (x0 : \u03b1) (h : \u211d) (\u03b5 : \u211d)\n  (def_2 : \u2200 (I : Set \u03b1), (Set.Real.sSup (abs '' ((fun p : \u03b1 \u00d7 \u03b1 => f p.1 - f p.2) '' (I \u00d7\u02e2 I)))) = (\u2a06 (x x' : \u03b1) (_ : x \u2208 I) (_ : x' \u2208 I), |f x - f x'|))\n  (l1 : (\u2a06 (x x' : \u03b1) (_ : x \u2208 (Set.Icc (x0 - h) (x0 + h))) (_ : x' \u2208 (Set.Icc (x0 - h) (x0 + h))), |f x - f x'|) < \u03b5) :\n  \u2200 x x' : \u03b1, x \u2208 (Set.Icc (x0 - h) (x0 + h)) \u2192 x' \u2208 (Set.Icc (x0 - h) (x0 + h)) \u2192 |f x - f x'| < \u03b5 := by\n  intro x x' hx hx'\n  have h_le : |f x - f x'| \u2264 \u2a06 (x x' : \u03b1) (_ : x \u2208 Set.Icc (x0 - h) (x0 + h)) (_ : x' \u2208 Set.Icc (x0 - h) (x0 + h)), |f x - f x'| := by\n    apply le_iSup\u2082_of_le x\n    apply le_iSup\u2082_of_le x'\n    apply le_iSup\u2082_of_le hx\n    apply le_iSup\u2082_of_le hx'\n    rfl\n  exact lt_of_le_of_lt h_le l1", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 7, "column": 105, "endLine": 7, "endColumn": 108, "data": "unexpected identifier; expected ')'"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Letting x'=x_0, we conclude that |f(x)-f(x_0)|<\\epsilon if |x-x_0|<h.", "statement": "We assume:\n\u2022 For a certain $h>0$ and for all $x, x'$ in $[x_0-h, x_0+h]$, we have $|f(x) - f(x')| < \\epsilon$ [l2].\nTherefore, we conclude:\n\u2022 For that same $h>0$, for all $x \\in [a,b]$ such that $|x - x_0| < h$, we have $|f(x) - f(x_0)| < \\epsilon$ [l3].", "dependencies": ["l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {f : \u211d \u2192 \u211d} {x_0 : \u211d} {\u03b5 : \u211d} {a b : \u211d}\n  (h : \u211d) (h_pos : h > 0) (h_epsilon_pos : \u03b5 > 0) (x_in_ab : \u2200 x : \u211d, x \u2208 [a,b])\n  (l2 : \u2200 x x' : \u211d, x \u2208 [x_0 - h, x_0 + h] \u2192 x' \u2208 [x_0 - h, x_0 + h] \u2192 |f x - f x'| < \u03b5) :\n  \u2200 x : \u211d, x \u2208 [a,b] \u2192 |x - x_0| < h \u2192 |f x - f x_0| < \u03b5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {f : \u211d \u2192 \u211d} {x_0 : \u211d} {\u03b5 : \u211d} {a b : \u211d}\n  (h : \u211d) (h_pos : h > 0) (h_epsilon_pos : \u03b5 > 0) (x_in_ab : \u2200 x : \u211d, x \u2208 [a,b])\n  (l2 : \u2200 x x' : \u211d, x \u2208 [x_0 - h, x_0 + h] \u2192 x' \u2208 [x_0 - h, x_0 + h] \u2192 |f x - f x'| < \u03b5) :\n  \u2200 x : \u211d, x \u2208 [a,b] \u2192 |x - x_0| < h \u2192 |f x - f x_0| < \u03b5 := by\n  intro x x_in hx\n  apply l2 x x_0\n  \u00b7 simp [abs_lt] at hx\n    constructor <;> linarith\n  \u00b7 simp [abs_lt] at hx\n    constructor <;> linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 20, "endLine": 13, "endColumn": 28, "data": "linarith failed to find a contradiction\ncase a.a\nf : \u211d \u2192 \u211d\nx_0 \u03b5 a b h : \u211d\nh_pos : h > 0\nh_epsilon_pos : \u03b5 > 0\nx_in_ab : \u2200 (x : \u211d), x \u2208 [a, b]\nl2 : \u2200 (x x' : \u211d), x \u2208 [x_0 - h, x_0 + h] \u2192 x' \u2208 [x_0 - h, x_0 + h] \u2192 |f x - f x'| < \u03b5\nx : \u211d\nx_in : x \u2208 [a, b]\nhx : x_0 < h + x \u2227 x - x_0 < h\n\u22a2 False failed"}, {"line": 15, "column": 20, "endLine": 15, "endColumn": 28, "data": "linarith failed to find a contradiction\ncase a.a\nf : \u211d \u2192 \u211d\nx_0 \u03b5 a b h : \u211d\nh_pos : h > 0\nh_epsilon_pos : \u03b5 > 0\nx_in_ab : \u2200 (x : \u211d), x \u2208 [a, b]\nl2 : \u2200 (x x' : \u211d), x \u2208 [x_0 - h, x_0 + h] \u2192 x' \u2208 [x_0 - h, x_0 + h] \u2192 |f x - f x'| < \u03b5\nx : \u211d\nx_in : x \u2208 [a, b]\nhx : x_0 < h + x \u2227 x - x_0 < h\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The constraint '(x_in_ab : \u2200 x : \u211d, x \u2208 [a,b])' is mathematically impossible as it claims all real numbers belong to the interval [a,b]. This introduces a contradictory logical component that makes the formalization unsound. While other components like the premise l2 and conclusion l3 are correctly formalized, and the additional epsilon positivity constraint is reasonable, this fundamental error in the interval constraint constitutes a major inconsistency.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The constraint '(x_in_ab : \u2200 x : \u211d, x \u2208 [a,b])' is mathematically impossible as it claims all real numbers belong to the interval [a,b]. This introduces a contradictory logical component that makes the formalization unsound. While other components like the premise l2 and conclusion l3 are correctly formalized, and the additional epsilon positivity constraint is reasonable, this fundamental error in the interval constraint constitutes a major inconsistency.\"]"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Therefore, f is continuous at x_0.", "statement": "We assume:\n\u2022 For any $\\epsilon > 0$, there exists an $h > 0$ such that for all $x \\in [a,b]$ with $|x - x_0| < h$, we have $|f(x) - f(x_0)| < \\epsilon$ [l3].\n\u2022 The definition of continuity at $x_0$ [def_1].\nTherefore, we conclude:\n\u2022 $f$ is continuous at $x_0$ [ts_1].", "dependencies": ["l3", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 [a, b])\n  (l3 : \u2200 \u03b5 > 0, \u2203 h > 0, \u2200 x \u2208 [a,b], |x - x0| < h \u2192 |f x - f x0| < \u03b5)\n  (def_1 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 x \u2208 [a, b], |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5) :\n  ContinuousAt f x0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 [a, b])\n  (l3 : \u2200 \u03b5 > 0, \u2203 h > 0, \u2200 x \u2208 [a,b], |x - x0| < h \u2192 |f x - f x0| < \u03b5) :\n  ContinuousAt f x0 := by\n  rw [continuousAt_iff]\n  intro \u03b5 h\u03b5\n  obtain \u27e8\u03b4, h\u03b4_pos, h\u03b4\u27e9 := l3 \u03b5 h\u03b5\n  use \u03b4, h\u03b4_pos\n  intro x _\n  exact h\u03b4 x", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 9, "column": 6, "endLine": 9, "endColumn": 22, "data": "unknown identifier 'continuousAt_iff'"}, {"line": 9, "column": 6, "endLine": 9, "endColumn": 22, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.1198\nf : \u211d \u2192 \u211d\na b x0 : \u211d\nhab : a \u2264 b\nhx0 : x0 \u2208 [a, b]\nl3 : \u2200 \u03b5 > 0, \u2203 h > 0, \u2200 x \u2208 [a, b], |x - x0| < h \u2192 |f x - f x0| < \u03b5\n\u22a2 ContinuousAt f x0"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption l3 is correctly formalized with the exact same logical structure as the natural language statement.", "The definition def_1 correctly captures the standard \u03b5-\u03b4 definition of continuity, which is what 'the definition of continuity at x\u2080' refers to in the natural language. The Lean formalization makes this definition explicit.", "The conclusion ts_1 perfectly matches - ContinuousAt f x0 is the correct Lean expression for 'f is continuous at x\u2080'. The additional type declarations and interval constraints in the Lean formalization are mathematically reasonable and don't contradict the natural language.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 [a, b])\n  (l3 : \u2200 \u03b5 > 0, \u2203 h > 0, \u2200 x \u2208 [a,b], |x - x0| < h \u2192 |f x - f x0| < \u03b5) :\n  \u00ac (ContinuousAt f x0) := by\n  sorry"}, "type": "solution"}, "tc_4": {"id": "tc_4", "natural_language": "Conversely, if f is continuous at x_0", "statement": "Premise for the second implication:\n\u2022 Let $f$ be defined on $[a,b]$ and $x_0 \\in (a,b)$ [tc_2].\n\u2022 $f$ is continuous at $x_0$ [tc_4].", "dependencies": ["tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (a b x\u2080 : \u211d)\n(tc_1 : x\u2080 \u2208 Set.Icc a b)\n(tc_2 : x\u2080 \u2208 Set.Ioo a b)\n(tc_4 : ContinuousAt f x\u2080)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language specifies f is defined on the interval [a,b], but Lean declares f as a function from all reals to reals. This is a significant difference in the domain specification.", "Both express that x\u2080 is in the open interval (a,b). Set.Ioo represents the open interval in Lean.", "Both express that f is continuous at x\u2080. The Lean ContinuousAt predicate directly corresponds to the mathematical concept."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language specifies f is defined on the interval [a,b], but Lean declares f as a function from all reals to reals. This is a significant difference in the domain specification.', 'Both express that x\u2080 is in the open interval (a,b). Set.Ioo represents the open interval in Lean.', 'Both express that f is continuous at x\u2080. The Lean ContinuousAt predicate directly corresponds to the mathematical concept.']"}, "type": "condition"}, "l4": {"id": "l4", "natural_language": "if f is continuous at x_0 and epsilon>0, there is a delta>0 such that |f(x)-f(x_0)|<epsilon/2 and |f(x')-f(x_0)|<epsilon/2 if x_0-delta <= x, x' <= x_0+delta.", "statement": "We assume:\n\u2022 $f$ is continuous at $x_0$ [tc_4] according to the definition [def_1].\n\u2022 $\\epsilon > 0$ is a positive real number.\nTherefore, we conclude:\n\u2022 There exists a $\\delta > 0$ such that for any $x, x'$ in $[a,b]$ satisfying $x_0-\\delta \\le x, x' \\le x_0+\\delta$, we have $|f(x) - f(x_0)| < \\epsilon/2$ and $|f(x') - f(x_0)| < \\epsilon/2$ [l4].", "dependencies": ["tc_4", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 [a, b])\n  (tc_4 : ContinuousAt f x0)\n  (def_1 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 x \u2208 [a, b], |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5) :\n  \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (f : \u211d \u2192 \u211d) (a b x0 : \u211d) (hab : a \u2264 b) (hx0 : x0 \u2208 Icc a b)\n  (tc_4 : ContinuousAt f x0)\n  (def_1 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 x \u2208 Icc a b, |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5) :\n  \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2 := by\n  intro \u03b5 h\u03b5\n  have h\u03b52 : 0 < \u03b5 / 2 := by linarith\n  obtain \u27e8\u03b4, h\u03b4, h\u27e9 := def_1 (\u03b5 / 2) h\u03b52\n  refine \u27e8\u03b4, h\u03b4, ?_\u27e9\n  intro x x' hx\n  have hx1 : x \u2208 Icc a b := by\n    cases hx with | intro hx1 hx2 =>\n      cases hx2 with | intro hx3 hx4 =>\n        refine \u27e8?_, ?_\u27e9\n        \u00b7 trans x0 - \u03b4\n          \u00b7 exact le_trans (mem_Icc.1 hx0).1 hx1\n          \u00b7 linarith\n        \u00b7 trans x0 + \u03b4\n          \u00b7 linarith\n          \u00b7 exact le_trans hx3 (mem_Icc.1 hx0).2\n  have hx2 : x' \u2208 Icc a b := by\n    cases hx with | intro hx1 hx2 =>\n      cases hx2 with | intro hx3 hx4 =>\n        refine \u27e8?_, ?_\u27e9\n        \u00b7 trans x0 - \u03b4\n          \u00b7 exact le_trans (mem_Icc.1 hx0).1 hx3\n          \u00b7 linarith\n        \u00b7 trans x0 + \u03b4\n          \u00b7 linarith\n          \u00b7 exact le_trans hx4 (mem_Icc.1 hx0).2\n  have h1 : |x - x0| < \u03b4 := by\n    rw [abs_lt]\n    constructor\n    \u00b7 linarith [hx.1]\n    \u00b7 linarith [hx.2.1]\n  have h2 : |x' - x0| < \u03b4 := by\n    rw [abs_lt]\n    constructor\n    \u00b7 linarith [hx.2.2.1]\n    \u00b7 linarith [hx.2.2.2]\n  exact \u27e8h x hx1 h1, h x' hx2 h2\u27e9", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 6, "column": 53, "endLine": 6, "endColumn": 60, "data": "function expected at\n  Icc\nterm has type\n  ?m.101"}, {"line": 8, "column": 35, "endLine": 8, "endColumn": 42, "data": "function expected at\n  Icc\nterm has type\n  ?m.101"}, {"line": 12, "column": 2, "endLine": 12, "endColumn": 40, "data": "tactic 'generalize' failed, result is not type correct\n  (\u2203 \u03b4 > 0, \u2200 x \u2208 ?m.4241 f a b x0 hab hx0 tc_4 (\u03b5 / 2) \u03b4 x, |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5 / 2) \u2192\n    \u2203 \u03b4 > 0,\n      \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2\nx\u271d : Sort u_1\nIcc : x\u271d\nf : \u211d \u2192 \u211d\na b x0 : \u211d\nhab : a \u2264 b\nhx0 : x0 \u2208 sorry\ntc_4 : ContinuousAt f x0\ndef_1 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 x \u2208 ?m.1259, |x - x0| < \u03b4 \u2192 |f x - f x0| < \u03b5\n\u03b5 : \u211d\nh\u03b5 : \u03b5 > 0\nh\u03b52 : 0 < \u03b5 / 2\n\u22a2 \u2203 \u03b4 > 0,\n    \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the overall logical structure, variable types, continuity assumptions, and mathematical expressions. However, it contains a major logical omission: the natural language explicitly requires that x and x' be 'in [a,b]', but the Lean formalization drops this interval constraint entirely. The Lean version only requires x and x' to be in the delta-neighborhood of x0, without ensuring they remain within the original interval [a,b]. This changes the logical meaning significantly, as it allows points outside the domain of interest.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly captures the overall logical structure, variable types, continuity assumptions, and mathematical expressions. However, it contains a major logical omission: the natural language explicitly requires that x and x' be 'in [a,b]', but the Lean formalization drops this interval constraint entirely. The Lean version only requires x and x' to be in the delta-neighborhood of x0, without ensuring they remain within the original interval [a,b]. This changes the logical meaning significantly, as it allows points outside the domain of interest.\"]"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "From the triangle inequality, |f(x)-f(x')| <= |f(x)-f(x_0)|+|f(x')-f(x_0)| < epsilon,", "statement": "We assume:\n\u2022 For a given $\\epsilon > 0$ and $\\delta > 0$, for any $x, x'$ in $[x_0-\\delta, x_0+\\delta]$, we have $|f(x) - f(x_0)| < \\epsilon/2$ and $|f(x') - f(x_0)| < \\epsilon/2$ [l4].\nTherefore, we conclude:\n\u2022 For any such $x, x'$, we have $|f(x) - f(x')| < \\epsilon$ [l5].", "dependencies": ["l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (f : \u211d \u2192 \u211d) (x0 : \u211d) (\u03b5 \u03b4 : \u211d) (h\u03b5 : \u03b5 > 0) (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2) :\n  \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x'| < \u03b5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (f : \u211d \u2192 \u211d) (x0 : \u211d) (\u03b5 \u03b4 : \u211d) (h\u03b5 : \u03b5 > 0) (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x0| < \u03b5 / 2 \u2227 |f x' - f x0| < \u03b5 / 2) :\n  \u2200 (x x' : \u211d), x0 - \u03b4 \u2264 x \u2227 x \u2264 x0 + \u03b4 \u2227 x0 - \u03b4 \u2264 x' \u2227 x' \u2264 x0 + \u03b4 \u2192 |f x - f x'| < \u03b5 := by\n  intro x x' h\n  have h1 := l4 x x' h\n  rcases h1 with \u27e8hx, hx'\u27e9\n  calc |f x - f x'|\n    _ = |(f x - f x0) - (f x' - f x0)| := by ring_nf\n    _ \u2264 |f x - f x0| + |f x' - f x0| := abs_sub _ _\n    _ < \u03b5 / 2 + \u03b5 / 2 := add_lt_add hx hx'\n    _ = \u03b5 := by ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. The function signature, domain constraints, epsilon-delta conditions, and logical structure are all faithfully represented. The interval membership [x\u2080-\u03b4, x\u2080+\u03b4] is properly translated to inequality constraints, and the implication from assumption l4 to conclusion l5 is preserved. Minor notational differences (x0 vs x\u2080, \u2227 vs 'and') are standard formal logic equivalents."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "so W_f[x_0-h,x_0+h] <= epsilon if h < delta;", "statement": "We assume:\n\u2022 For a given $\\delta > 0$ and any $x, x'$ in $[x_0-\\delta, x_0+\\delta] \\cap [a,b]$, $|f(x) - f(x')| < \\epsilon$ [l5].\n\u2022 The definition of oscillation on an interval $W_f(I)$ [def_2].\nTherefore, we conclude:\n\u2022 For any $h$ with $0 < h < \\delta$, we have $W_f([x_0-h, x_0+h] \\cap [a,b]) \\le \\epsilon$ [l6].", "dependencies": ["l5", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (f : \u211d \u2192 \u211d) (a b x0 \u03b5 \u03b4 : \u211d)\n  (l5 : \u2200 (x x' : \u211d), (x \u2208 [x0 - \u03b4, x0 + \u03b4] \u2229 [a, b]) \u2192 (x' \u2208 [x0 - \u03b4, x0 + \u03b4] \u2229 [a, b]) \u2192 |f x - f x'| < \u03b5)\n  (def_2 : \u2200 (I : Set \u211d), WF I = iSup { |f x - f x'| | x \u2208 I, x' \u2208 I }) :\n  \u2200 (h : \u211d), 0 < h \u2227 h < \u03b4 \u2192 WF ([x0 - h, x0 + h] \u2229 [a, b]) \u2264 \u03b5 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 8, "column": 60, "endLine": 8, "endColumn": 61, "data": "unexpected token ','; expected '}'"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (f : \u211d \u2192 \u211d) (a b x0 \u03b5 \u03b4 : \u211d)\n  (l5 : \u2200 (x x' : \u211d), (x \u2208 [[x0 - \u03b4, x0 + \u03b4]] \u2229 [[a, b]]) \u2192 (x' \u2208 [[x0 - \u03b4, x0 + \u03b4]] \u2229 [[a, b]]) \u2192 |f x - f x'| < \u03b5)\n  (def_2 : \u2200 (I : Set \u211d), WF I = sSup {|f x - f x'| | x \u2208 I, x' \u2208 I}) :\n  \u2200 (h : \u211d), 0 < h \u2227 h < \u03b4 \u2192 WF ([[x0 - h, x0 + h]] \u2229 [[a, b]]) \u2264 \u03b5 := by\n  intro h hh\n  rw [def_2]\n  apply csSup_le\n  \u00b7 simp only [mem_setOf_eq, exists_and_left]\n    exact \u27e8x0, x0, \u27e8mem_Icc.mpr \u27e8sub_le_self _ (le_of_lt hh.1), le_add_of_nonneg_left (le_of_lt hh.1)\u27e9, \n      mem_Icc.mpr \u27e8le_refl _, le_refl _\u27e9\u27e9, abs_zero\u27e9\n  \u00b7 intro y hy\n    obtain \u27e8x, hx, x', hx', rfl\u27e9 := hy\n    exact l5 x x' \u27e8hx, hx.2\u27e9 \u27e8hx', hx'.2\u27e9", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 8, "column": 59, "endLine": 8, "endColumn": 60, "data": "unexpected token ','; expected '}'"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "ts_2": {"id": "ts_2", "natural_language": "therefore, w_f(x_0)=0.", "statement": "We assume:\n\u2022 For any $\\epsilon > 0$, there exists a $\\delta > 0$ such that for any $h \\in (0, \\delta)$, $W_f([x_0-h, x_0+h] \\cap [a,b]) \\le \\epsilon$ [l6].\n\u2022 The definition of oscillation at a point $w_f(x_0) = \\inf_{h>0} W_f([x_0-h, x_0+h] \\cap [a,b])$ [def_3].\nTherefore, we conclude:\n\u2022 $w_f(x_0) = 0$ [ts_2].", "dependencies": ["l6", "def_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_2\n  {f : \u211d \u2192 \u211d} {a b x_0 : \u211d} (hab : a \u2264 b) (hx0 : x_0 \u2208 Icc a b)\n  (l6 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 h_val : \u211d, 0 < h_val \u2227 h_val < \u03b4 \u2192 oscillation_on_interval f (Icc (x_0 - h_val) (x_0 + h_val) \u2229 Icc a b) \u2264 \u03b5)\n  (def_3 : oscillation_at_point f x_0 = iInf (fun h : {h_val : \u211d // h_val > 0} => oscillation_on_interval f (Icc (x_0 - h.val) (x_0 + h.val) \u2229 Icc a b))) :\n  oscillation_at_point f x_0 = 0 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 6, "column": 55, "endLine": 6, "endColumn": 62, "data": "function expected at\n  Icc\nterm has type\n  ?m.101"}, {"line": 7, "column": 63, "endLine": 7, "endColumn": 132, "data": "function expected at\n  oscillation_on_interval\nterm has type\n  ?m.718"}, {"line": 8, "column": 11, "endLine": 8, "endColumn": 37, "data": "function expected at\n  oscillation_at_point\nterm has type\n  ?m.1596"}, {"line": 8, "column": 82, "endLine": 8, "endColumn": 151, "data": "function expected at\n  oscillation_on_interval\nterm has type\n  ?m.718"}, {"line": 9, "column": 2, "endLine": 9, "endColumn": 28, "data": "function expected at\n  oscillation_at_point\nterm has type\n  ?m.1596"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib.Analysis.Calculus.MeanValue\nimport Mathlib.Topology.MetricSpace.Basic\n\nopen Set Filter Topology\n\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_2\n  {f : \u211d \u2192 \u211d} {a b x\u2080 : \u211d} (hab : a \u2264 b) (hx\u2080 : x\u2080 \u2208 Icc a b)\n  (l6 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 h \u2208 (0, \u03b4), osc f (Icc (x\u2080 - h) (x\u2080 + h) \u2229 Icc a b) \u2264 \u03b5)\n  (def_3 : osc f x\u2080 = \u2a05 h > 0, osc f (Icc (x\u2080 - h) (x\u2080 + h) \u2229 Icc a b)) :\n  osc f x\u2080 = 0 := by\n  rw [def_3]\n  apply le_antisymm\n  \u00b7 apply le_ciInf\n    intro \u03b5 h\u03b5\n    rcases l6 \u03b5 h\u03b5 with \u27e8\u03b4, h\u03b4_pos, h\u03b4\u27e9\n    refine le_of_forall_pos_le_add (fun \u03b5' h\u03b5' => ?_)\n    have : \u2203 h \u2208 (0, \u03b4), osc f (Icc (x\u2080 - h) (x\u2080 + h) \u2229 Icc a b) \u2264 \u03b5 + \u03b5' := by\n      refine \u27e8min \u03b4 (\u03b5 + \u03b5'), ?_, ?_\u27e9\n      \u00b7 exact lt_min h\u03b4_pos (by positivity)\n      \u00b7 apply h\u03b4\n        exact lt_min_iff.1 (by rfl)\n    rcases this with \u27e8h, hh, hh'\u27e9\n    exact (ciInf_le \u27e80, fun _ => by positivity\u27e9 hh).trans hh'\n  \u00b7 exact ciInf_nonneg (fun _ => by positivity)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 3, "column": 0, "endLine": 3, "endColumn": 6, "data": "invalid 'import' command, it must be used in the beginning of the file"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_3", "label": "def_3", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_2", "label": "ts_2", "color": {"background": "#a3c2a8", "border": "#fa2c07", "highlight": {"background": "#a3c2a8", "border": "#fa2c07"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    