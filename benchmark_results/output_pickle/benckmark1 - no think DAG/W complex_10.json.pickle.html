
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z$ be a complex number. If $z=x+iy$ for real numbers $x, y$, $|z+1| = |z-i|$, and $|z| = \sqrt{2}$, then $z^2 = -2i$.

Proof: Given $z=x+iy$, the condition $|z+1| = |z-i|$ implies $(x+1)^2+y^2 = x^2+(y-1)^2$, which simplifies to $x+y=0$. The condition $|z|=\sqrt{2}$ implies $x^2+y^2=2$. By substituting $y=-x$ into the second equation, we get $x^2+(-x)^2=2$, which simplifies to $x^2=1$. We express $z^2$ in terms of $x$ using $y=-x$: $z^2 = (x+iy)^2 = x^2-y^2+2ixy = x^2-(-x)^2+2ix(-x) = -2ix^2$. Finally, substituting $x^2=1$ into this expression yields $z^2=-2i$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $z$ be a complex number. If $z=x+iy$ for real numbers $x, y$", "statement": "Premise:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration (z : \u2102) perfectly captures that z is a complex number", "The Lean existential statement \u2203 x y : \u211d, z = x + y * I perfectly matches the mathematical statement, with y * I being equivalent to iy", "The conclusion is equivalent to the second condition and is captured by the same Lean existential statement"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "$|z+1| = |z-i|$", "statement": "Premise:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1]\n\u2022 $|z+1| = |z-i|$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_2 : Complex.abs (z + 1) = Complex.abs (z - Complex.I))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean type declaration (z : \u2102) perfectly captures that z is a complex number", "The Lean existential statement matches the mathematical condition. The notation y * I is equivalent to iy in mathematics", "The Lean formalization correctly uses Complex.abs for absolute value and Complex.I for the imaginary unit, perfectly matching the mathematical equality"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "$|z| = \\sqrt{2}$", "statement": "Premise:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1]\n\u2022 $|z| = \\sqrt{2}$ [tc_3].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_3 : Complex.abs z = Real.sqrt 2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean type declaration (z : \u2102) directly corresponds to stating z is a complex number", "The existential statement in Lean uses y * I which is equivalent to iy in mathematical notation, where I represents the imaginary unit", "Complex.abs z = Real.sqrt 2 correctly formalizes |z| = \u221a2 using Lean's complex absolute value and real square root functions"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Given $z=x+iy$, the condition $|z+1| = |z-i|$ implies $(x+1)^2+y^2 = x^2+(y-1)^2$", "statement": "We assume:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1]\n\u2022 $|z+1| = |z-i|$ [tc_2]\nTherefore, we conclude:\n\u2022 $(x+1)^2+y^2 = x^2+(y-1)^2$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_2 : Complex.abs (z + 1) = Complex.abs (z - Complex.I)) :\n  (Complex.re z + 1)^2 + (Complex.im z)^2 = (Complex.re z)^2 + (Complex.im z - 1)^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_2 : Complex.abs (z + 1) = Complex.abs (z - Complex.I)) :\n  (Complex.re z + 1)^2 + (Complex.im z)^2 = (Complex.re z)^2 + (Complex.im z - 1)^2 := by\n  simp only [Complex.abs, Complex.normSq_eq_abs] at tc_2\n  simp only [Complex.normSq_add, Complex.normSq_sub, Complex.normSq_eq_abs] at tc_2\n  simp only [Complex.add_re, Complex.add_im, Complex.sub_re, Complex.sub_im, Complex.one_re, Complex.one_im, Complex.I_re, Complex.I_im] at tc_2\n  simp only [pow_two] at tc_2\n  simp only [add_sub, sub_add, add_right_inj, sub_right_inj] at tc_2\n  exact tc_2", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 2, "endLine": 10, "endColumn": 56, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Both correctly declare z as a complex number using appropriate syntax for each context.", "Both express the same mathematical condition that z can be written as x + iy for real x, y. The notational difference between 'i' and 'Complex.I' is standard.", "Both express the same modulus equality condition. Complex.abs is the correct Lean equivalent of the absolute value notation.", "Both express the same mathematical equality. The Lean version uses Complex.re z and Complex.im z instead of the existentially quantified x, y, but this is mathematically equivalent and actually more direct. The conclusion follows the same logical structure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_2 : Complex.abs (z + 1) = Complex.abs (z - Complex.I)) :\n  \u00ac((Complex.re z + 1)^2 + (Complex.im z)^2 = (Complex.re z)^2 + (Complex.im z - 1)^2) := by\n  intro h\n  obtain \u27e8x, y, rfl\u27e9 := tc_1\n  simp only [Complex.re_add_im, Complex.add_re, Complex.add_im, Complex.one_re, Complex.one_im, Complex.I_re, Complex.I_im, Complex.ofReal_re, Complex.ofReal_im, mul_zero, mul_one, zero_add, add_zero, sub_zero] at tc_2 h\n  rw [eq_comm] at h\n  apply_fun (fun e => e - (x^2 + y^2)) at h\n  simp only [add_sub_cancel] at h\n  rw [eq_comm] at tc_2\n  apply_fun (fun e => e - (x^2 + y^2)) at tc_2\n  simp only [add_sub_cancel] at tc_2\n  rw [h] at tc_2\n  simp only [add_left_inj] at tc_2\n  have : (2 * x + 1) ^ 2 = (2 * y - 1) ^ 2 := by linear_combination tc_2\n  rw [pow_two, pow_two] at this\n  apply_fun (fun t => t - (4 * x * y)) at this\n  ring_nf at this\n  simp only [sub_self] at this\n  have : (2 * x + 2 * y) * (2 * x - 2 * y + 2) = 0 := by linear_combination this\n  cases' this with h1 h2\n  \u00b7 have : x = -y := by linear_combination h1\n    rw [this] at h\n    simp only [neg_mul, add_left_neg, zero_add, add_zero, sub_neg_eq_add] at h\n  \u00b7 have : x = y - 1 := by linear_combination h2\n    rw [this] at h\n    simp only [sub_mul, one_mul, add_sub_cancel'_right] at h"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "which simplifies to $x+y=0$.", "statement": "We assume:\n\u2022 $x, y$ are real numbers [tc_1]\n\u2022 $(x+1)^2+y^2 = x^2+(y-1)^2$ [l1]\nTherefore, we conclude:\n\u2022 $x+y=0$ [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (x y : \u211d)\n  (l1 : (x + 1)^2 + y^2 = x^2 + (y - 1)^2) :\n  x + y = 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (x y : \u211d)\n  (l1 : (x + 1)^2 + y^2 = x^2 + (y - 1)^2) :\n  x + y = 0 := by\n  have h1 : (x + 1)^2 = x^2 + 2 * x + 1 := by ring\n  have h2 : (y - 1)^2 = y^2 - 2 * y + 1 := by ring\n  rw [h1, h2] at l1\n  simp only [add_assoc, add_left_inj] at l1\n  linear_combination l1 / 2", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations match perfectly - both specify x, y as real numbers", "The constraint equation is mathematically identical, with only notational differences (\u00b2 vs ^2)", "The conclusion 'x + y = 0' is stated identically in both versions", "The logical structure correctly captures the assumption-conclusion relationship from natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "The condition $|z|=\\sqrt{2}$ implies $x^2+y^2=2$.", "statement": "We assume:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1]\n\u2022 $|z| = \\sqrt{2}$ [tc_3]\nTherefore, we conclude:\n\u2022 $x^2+y^2=2$ [l3].", "dependencies": ["tc_1", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_3 : Complex.abs z = Real.sqrt 2) :\n  z.re^2 + z.im^2 = 2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_3 : Complex.abs z = Real.sqrt 2) :\n  z.re^2 + z.im^2 = 2 := by\n  rw [\u2190 Complex.normSq_eq_abs_sq z] at tc_3\n  simp at tc_3\n  rw [\u2190 pow_two] at tc_3\n  simp at tc_3\n  exact tc_3", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 8, "endLine": 10, "endColumn": 34, "data": "unknown constant 'Complex.normSq_eq_abs_sq'"}, {"line": 10, "column": 6, "endLine": 10, "endColumn": 34, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.996\nI z : \u2102\ntc_1 : \u2203 x y, z = \u2191x + \u2191y * I\ntc_3 : Complex.abs z = \u221a2\n\u22a2 z.re ^ 2 + z.im ^ 2 = 2"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The complex number declaration is correctly captured in Lean.", "The existence condition for real numbers x, y such that z = x + iy is properly formalized using existential quantification.", "The modulus condition |z| = \u221a2 is correctly represented using Complex.abs and Real.sqrt.", "The conclusion has a minor structural difference: the natural language refers to the specific x, y from the existence statement, while Lean uses z.re and z.im (canonical real/imaginary parts). Though mathematically equivalent, the logical structure differs slightly.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.75 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3\n  (z : \u2102)\n  (tc_1 : \u2203 x y : \u211d, z = x + y * I)\n  (tc_3 : Complex.abs z = Real.sqrt 2) :\n  \u00ac(z.re^2 + z.im^2 = 2) := by\n  rcases tc_1 with \u27e8x, y, rfl\u27e9\n  simp [Complex.abs, Complex.normSq] at tc_3\n  rw [\u2190 Real.sqrt_inj (by positivity) (by positivity)] at tc_3\n  simp at tc_3\n  intro h\n  rw [h] at tc_3\n  simp at tc_3\n  exact tc_3"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "By substituting $y=-x$ into the second equation, we get $x^2+(-x)^2=2$", "statement": "We assume:\n\u2022 $x+y=0$ [l2]\n\u2022 $x^2+y^2=2$ [l3]\nTherefore, we conclude:\n\u2022 $x^2+(-x)^2=2$ [l4].", "dependencies": ["l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (x y : \u211d)\n  (l2 : x + y = 0)\n  (l3 : x^2 + y^2 = 2) :\n  x^2 + (-x)^2 = 2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (x y : \u211d)\n  (l2 : x + y = 0)\n  (l3 : x^2 + y^2 = 2) :\n  x^2 + (-x)^2 = 2 := by\n  have h : y = -x := by linarith\n  rw [h] at l3\n  simp at l3\n  exact l3", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 2, "endLine": 13, "endColumn": 10, "data": "type mismatch\n  l3\nhas type\n  x ^ 2 + x ^ 2 = 2 : Prop\nbut is expected to have type\n  x ^ 2 + (-x) ^ 2 = 2 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations appropriately specify real numbers, which is consistent with the mathematical context", "The first premise x + y = 0 is exactly captured as hypothesis l2", "The second premise x\u00b2 + y\u00b2 = 2 is exactly captured as hypothesis l3", "The conclusion x\u00b2 + (-x)\u00b2 = 2 is precisely represented as the goal to be proved", "The overall logical structure correctly represents the mathematical reasoning as a lemma with premises as hypotheses and conclusion as goal", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (x y : \u211d)\n  (l2 : x + y = 0)\n  (l3 : x^2 + y^2 = 2) :\n  \u00ac(x^2 + (-x)^2 = 2) := by\n  intro h\n  have : y = -x := by linarith\n  rw [this] at l3\n  simp at l3\n  rw [\u2190 two_mul] at l3\n  have : x^2 = 1 := by linarith\n  rw [this] at h\n  rw [this] at h\n  norm_num at h"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "which simplifies to $x^2=1$.", "statement": "We assume:\n\u2022 $x$ is a real number [tc_1]\n\u2022 $x^2+(-x)^2=2$ [l4]\nTherefore, we conclude:\n\u2022 $x^2=1$ [l5].", "dependencies": ["tc_1", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (x : \u211d)\n  (l4 : x^2 + (-x)^2 = 2) :\n  x^2 = 1 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (x : \u211d)\n  (l4 : x^2 + (-x)^2 = 2) :\n  x^2 = 1 := by\n  have h : (-x)^2 = x^2 := by ring\n  rw [h] at l4\n  simp [two_mul] at l4\n  exact l4", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 2, "endLine": 11, "endColumn": 22, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The variable declaration correctly translates the real number assumption into Lean's type system", "The premise equation is accurately represented as a hypothesis with the same mathematical expression", "The conclusion is properly formalized as the lemma's goal statement", "The overall logical structure correctly captures the deductive reasoning from premise to conclusion", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l5\n  (x : \u211d)\n  (l4 : x^2 + (-x)^2 = 2) :\n  \u00ac (x^2 = 1) := by\n  intro h\n  have : x^2 + (-x)^2 = 2 * x^2 := by ring\n  rw [this, h] at l4\n  norm_num at l4\n  exact l4"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "We express $z^2$ in terms of $x$ using $y=-x$: $z^2 = (x+iy)^2 = x^2-y^2+2ixy = x^2-(-x)^2+2ix(-x) = -2ix^2$.", "statement": "We assume:\n\u2022 $z$ is a complex number, and there exist real numbers $x, y$ such that $z = x+iy$ [tc_1]\n\u2022 $x+y=0$ [l2]\nTherefore, we conclude:\n\u2022 $z^2 = -2ix^2$ [l6].", "dependencies": ["tc_1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * I)\n  (l2 : x + y = 0) :\n  z^2 = -2 * I * x^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * I)\n  (l2 : x + y = 0) :\n  z^2 = -2 * I * x^2 := by\n  rw [tc_1]\n  simp only [Complex.add_mul, Complex.mul_add, Complex.mul_I, Complex.I_mul_I]\n  rw [pow_two, pow_two]\n  simp only [mul_assoc, mul_add, add_mul]\n  rw [l2]\n  simp only [zero_mul, mul_zero, add_zero]\n  rw [Complex.I_mul_I]\n  simp only [neg_mul, one_mul, neg_mul_eq_neg_mul_symm]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 13, "endLine": 11, "endColumn": 28, "data": "unknown constant 'Complex.add_mul'"}, {"line": 11, "column": 30, "endLine": 11, "endColumn": 45, "data": "unknown constant 'Complex.mul_add'"}, {"line": 11, "column": 47, "endLine": 11, "endColumn": 60, "data": "unknown constant 'Complex.mul_I'"}, {"line": 11, "column": 2, "endLine": 11, "endColumn": 78, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The complex number representation is correctly formalized with proper type declarations and the equation z = x + y*I accurately captures z = x + iy", "The constraint x + y = 0 is identically represented in both natural language and Lean", "The conclusion z^2 = -2*I*x^2 correctly formalizes the natural language expression z^2 = -2ix^2 using Lean's complex number notation", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l6\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * I)\n  (l2 : x + y = 0) :\n  \u00ac (z^2 = -2 * I * x^2) := by\n  rw [tc_1]\n  simp\n  have : y = -x := by linarith [l2]\n  rw [this]\n  simp\n  intro h\n  have : x^2 = 0 := by\n    linear_combination h\n  have : x = 0 := by\n    exact pow_eq_zero this\n  have : y = 0 := by\n    rw [this] at l2\n    linarith\n  have : z = 0 := by\n    rw [tc_1, this, this]\n    simp\n  have : z^2 = 0 := by\n    rw [this]\n    simp\n  have : -2 * I * x^2 = 0 := by\n    rw [this] at h\n    exact h\n  have : x^2 = 0 := by\n    simp at this\n  have : x = 0 := by\n    exact pow_eq_zero this\n  let z' : \u2102 := 1 + (-1) * I\n  let x' : \u211d := 1\n  let y' : \u211d := -1\n  have h\u2081 : z' = x' + y' * I := by rfl\n  have h\u2082 : x' + y' = 0 := by norm_num\n  have h\u2083 : \u00ac(z'^2 = -2 * I * x'^2) := by norm_num\n  exact h\u2083"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Finally, substituting $x^2=1$ into this expression yields $z^2=-2i$.", "statement": "We assume:\n\u2022 $x^2=1$ [l5]\n\u2022 $z^2 = -2ix^2$ [l6]\nTherefore, we conclude:\n\u2022 $z^2 = -2i$ [ts_1].", "dependencies": ["l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (x : \u211d) (z : \u2102)\n  (l5 : x^2 = 1)\n  (l6 : z^2 = -2 * I * x^2) :\n  z^2 = -2 * I := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (x : \u211d) (z : \u2102)\n  (l5 : x^2 = 1)\n  (l6 : z^2 = -2 * I * (x^2 : \u2102)) :\n  z^2 = -2 * I := by\n  rw [l5] at l6\n  simp at l6\n  exact l6", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 6, "endLine": 10, "endColumn": 8, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  x ^ 2\nI : \u2102\nx : \u211d\nz : \u2102\nl5 : x ^ 2 = 1\nl6 : z ^ 2 = -2 * I * \u2191x ^ 2\n\u22a2 z ^ 2 = -2 * I"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical content from the natural language. The premises l5 and l6 are accurately represented, and the conclusion ts_1 follows the same logical reasoning. The variable type declarations (x : \u211d, z : \u2102) are additional but mathematically consistent details. The notational differences between 'i' and 'I' for the imaginary unit, and explicit vs implicit multiplication operators, are standard translation differences between mathematical notation and Lean syntax that don't affect the semantic meaning. The logical structure of the argument (two premises leading to a conclusion via substitution) is preserved perfectly.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  (x : \u211d) (z : \u2102)\n  (l5 : x^2 = 1)\n  (l6 : z^2 = -2 * I * x^2) :\n  \u00ac(z^2 = -2 * I) := by\n  rw [l5] at l6\n  simp at l6\n  intro h\n  rw [\u2190h] at l6\n  simp at l6"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    