
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $f$ be a real-valued function defined on a subset of $\R^n,$
 and let the
vector-valued function $\mathbf{G}=(g_1,g_2, \dots,g_n)$ be defined on a
domain $D_\mathbf{G}$ in $\R^m.$ Let the set
$$
T=\set{\mathbf{U}}{\mathbf{U}\in D_{\mathbf{G}}\mbox{\quad and \quad}
\mathbf{G}(\mathbf{U})\in D_f}
$$
$($Figure~\ref{figure:5.2.3}$)$,
 be
nonempty$,$ and define the real-valued composite function
$$
h=f\circ\mathbf{G}
$$
on $T$ by
$$
h(\mathbf{U})=f(\mathbf{G}(\mathbf{U})),\quad \mathbf{U}\in T.
$$
Now suppose that  $\mathbf{U}_0$ is in $T$ and is a limit point of $T,$
$\mathbf{G}$ is continuous at $\mathbf{U}_0,$ and $f$ is continuous at
$\mathbf{X}_0=\mathbf{G}(\mathbf{U}_0).$ Then $h$ is continuous at
$\mathbf{U}_0.$

Proof: Suppose that  $\epsilon>0$. Since $f$ is continuous at
$\mathbf{X}_0=\mathbf{G}(\mathbf{U}_0)$, there is an $\epsilon_1>0$
such that
\begin{equation}\label{eq:5.2.17}
|f(\mathbf{X})-f(\mathbf{G}(\mathbf{U}_0))|<\epsilon
\end{equation}
if
\begin{equation}\label{eq:5.2.18}
|\mathbf{X}-\mathbf{G}(\mathbf{U}_0)|<\epsilon_1\mbox{\quad and\quad}
\mathbf{X}\in D_f.
\end{equation}
Since $\mathbf{G}$ is continuous at $\mathbf{U}_0$, there is a $\delta>0$
such that
$$
|\mathbf{G}(\mathbf{U})-\mathbf{G}(\mathbf{U}_0)|<\epsilon_1
\mbox{\quad if\quad} |\mathbf{U}-\mathbf{U}_0|<
\delta\mbox{\quad and\quad}\mathbf{U}\in D_\mathbf{G}.
$$
By taking $\mathbf{X}=\mathbf{G}(\mathbf{U})$ in \eqref{eq:5.2.17} and
\eqref{eq:5.2.18}, we see that
$$
|h(\mathbf{U})-h(\mathbf{U}_0)|=|f(\mathbf{G}(\mathbf{U})
-f(\mathbf{G}(\mathbf{U}_0))|<\epsilon
$$
if
$$
|\mathbf{U}-\mathbf{U}_0|<\delta\mbox{\quad and\quad}\mathbf{U}\in T.
$$
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $f$ be a real-valued function defined on a subset of $\\R^n,$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization contains far more mathematical content than the natural language statement. While the natural language only states that f is a real-valued function on domain D_f \u2286 \u211d\u207f with no conclusions, the Lean code introduces an entirely different mathematical context involving composite functions, continuity conditions, and proves a theorem about continuity of composite functions. The Lean formalization appears to be a complete theorem about composite function continuity rather than just the simple premise stated in natural language."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization contains far more mathematical content than the natural language statement. While the natural language only states that f is a real-valued function on domain D_f \u2286 \u211d\u207f with no conclusions, the Lean code introduces an entirely different mathematical context involving composite functions, continuity conditions, and proves a theorem about continuity of composite functions. The Lean formalization appears to be a complete theorem about composite function continuity rather than just the simple premise stated in natural language.']"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "let the vector-valued function $\\mathbf{G}=(g_1,g_2, \\dots,g_n)$ be defined on a domain $D_\\mathbf{G}$ in $\\R^m.$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures f as a real-valued function with domain D_f \u2286 \u211d\u207f. Using (Fin n \u2192 \u211d) to represent \u211d\u207f is a standard and appropriate representation in Lean, and the function type (Fin n \u2192 \u211d) \u2192 \u211d correctly represents a real-valued function on this domain.", "The Lean formalization correctly captures G as a vector-valued function from domain D_G \u2286 \u211d\u1d50 to \u211d\u207f. The type (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d) appropriately represents a function from \u211d\u1d50 to \u211d\u207f, and D_G is properly typed as a subset of the domain space."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "Let the set\n$$\nT=\\set{\\mathbf{U}}{\\mathbf{U}\\in D_{\\mathbf{G}}\\mbox{\\quad and \\quad}\n\\mathbf{G}(\\mathbf{U})\\in D_f}\n$$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2];\n\u2022 $T$ is a set defined as $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The natural language describes f as a real-valued function on domain D_f \u2286 \u211d\u207f, while Lean uses (Fin n \u2192 \u211d) to represent \u211d\u207f. This is a standard and correct representation in Lean, but uses different notation than the mathematical \u211d\u207f.", "The natural language describes G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f, while Lean uses (Fin m \u2192 \u211d) and (Fin n \u2192 \u211d) to represent \u211d\u1d50 and \u211d\u207f respectively. This is mathematically equivalent but uses different notation.", "The definition of T matches perfectly. Both define T as the set of elements U in D_G such that G(U) is in D_f, with identical logical structure."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The natural language describes f as a real-valued function on domain D_f \u2286 \u211d\u207f, while Lean uses (Fin n \u2192 \u211d) to represent \u211d\u207f. This is a standard and correct representation in Lean, but uses different notation than the mathematical \u211d\u207f.', 'The natural language describes G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f, while Lean uses (Fin m \u2192 \u211d) and (Fin n \u2192 \u211d) to represent \u211d\u1d50 and \u211d\u207f respectively. This is mathematically equivalent but uses different notation.', 'The definition of T matches perfectly. Both define T as the set of elements U in D_G such that G(U) is in D_f, with identical logical structure.']"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "define the real-valued composite function\n$$\nh=f\\circ\\mathbf{G}\n$$\non $T$ by\n$$\nh(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U})),\\quad \\mathbf{U}\\in T.\n$$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2];\n\u2022 $T$ is a set defined as $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3];\n\u2022 $h$ is a composite function $h = f \\circ \\mathbf{G}$ defined on $T$ by $h(\\mathbf{U}) = f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U} \\in T$ [tc_4].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.75, "semantic_feedback": ["The Lean formalization correctly represents f as a real-valued function with domain D_f \u2286 \u211d\u207f using Lean's type system", "The Lean formalization correctly represents G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f", "The set T definition in Lean exactly matches the mathematical definition using set comprehension notation", "While the composite function f \u2218 G appears in the Lean code, it's not explicitly defined as h. The natural language defines h as a separate entity, but Lean directly uses the composition notation. The mathematical meaning is preserved but the explicit naming differs"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_5": {"id": "tc_5", "natural_language": "Now suppose that  $\\mathbf{U}_0$ is in $T$ and is a limit point of $T,$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2];\n\u2022 $T$ is a set defined as $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3];\n\u2022 $h$ is a composite function $h = f \\circ \\mathbf{G}$ defined on $T$ by $h(\\mathbf{U}) = f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U} \\in T$ [tc_4];\n\u2022 $\\mathbf{U}_0 \\in T$ and $\\mathbf{U}_0$ is a limit point of $T$ [tc_5].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly represents f as a real-valued function with domain D_f \u2286 \u211d\u207f using Lean's type system", "The Lean formalization correctly represents G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f", "The set T is defined identically in both versions, with the Lean version using equivalent logical notation", "The natural language explicitly defines h = f \u2218 G on domain T, while the Lean version only implicitly uses f \u2218 G in the conclusion without explicitly naming or defining h", "Both U_0 \u2208 T and the limit point condition are correctly captured in Lean using appropriate mathematical notation", "The natural language concludes that h is well-defined on T, but the Lean theorem concludes continuity of f \u2218 G at U_0, which is a much stronger and different mathematical property. Additionally, Lean introduces continuity assumptions for G and f that are not present in the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly represents f as a real-valued function with domain D_f \u2286 \u211d\u207f using Lean's type system\", 'The Lean formalization correctly represents G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f', 'The set T is defined identically in both versions, with the Lean version using equivalent logical notation', 'The natural language explicitly defines h = f \u2218 G on domain T, while the Lean version only implicitly uses f \u2218 G in the conclusion without explicitly naming or defining h', 'Both U_0 \u2208 T and the limit point condition are correctly captured in Lean using appropriate mathematical notation', 'The natural language concludes that h is well-defined on T, but the Lean theorem concludes continuity of f \u2218 G at U_0, which is a much stronger and different mathematical property. Additionally, Lean introduces continuity assumptions for G and f that are not present in the natural language']"}, "type": "condition"}, "tc_6": {"id": "tc_6", "natural_language": "$\\mathbf{G}$ is continuous at $\\mathbf{U}_0,$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2];\n\u2022 $T$ is a set defined as $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3];\n\u2022 $h$ is a composite function $h = f \\circ \\mathbf{G}$ defined on $T$ by $h(\\mathbf{U}) = f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U} \\in T$ [tc_4];\n\u2022 $\\mathbf{U}_0 \\in T$ and $\\mathbf{U}_0$ is a limit point of $T$ [tc_5];\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.86, "semantic_feedback": ["The Lean formalization correctly captures f as a real-valued function with domain D_f \u2286 \u211d\u207f using Lean's representation of \u211d\u207f as (Fin n \u2192 \u211d)", "The Lean formalization correctly captures G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f", "The set definition T is perfectly captured with the logical conjunction \u2227 representing the intersection of conditions", "The composite function h = f \u2218 G is implicitly present in the Lean conclusion as (f \u2218 G), but the explicit definition and domain restriction to T is not formally stated in the hypotheses", "Both conditions U\u2080 \u2208 T and U\u2080 being a limit point of T are correctly formalized, with the limit point condition properly expressed using the \u03b5-definition", "The continuity of G at U\u2080 is directly captured using Lean's ContinuousAt", "This is an additional condition in Lean (continuity of f at G(U\u2080)) that is not mentioned in the natural language but is logically consistent and often needed for composite function continuity theorems"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_7": {"id": "tc_7", "natural_language": "$f$ is continuous at $\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0).$", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1];\n\u2022 $\\mathbf{G}$ is a vector-valued function from a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2];\n\u2022 $T$ is a set defined as $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3];\n\u2022 $h$ is a composite function $h = f \\circ \\mathbf{G}$ defined on $T$ by $h(\\mathbf{U}) = f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U} \\in T$ [tc_4];\n\u2022 $\\mathbf{U}_0 \\in T$ and $\\mathbf{U}_0$ is a limit point of $T$ [tc_5];\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6];\n\u2022 $f$ is continuous at $\\mathbf{X}_0 = \\mathbf{G}(\\mathbf{U}_0)$ [tc_7].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d))\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.86, "semantic_feedback": ["The Lean formalization correctly represents f as a real-valued function with domain D_f \u2286 \u211d\u207f using Fin n \u2192 \u211d to represent \u211d\u207f", "The Lean formalization correctly represents G as a vector-valued function from D_G \u2286 \u211d\u1d50 to \u211d\u207f", "The set T is defined identically in both versions using set comprehension notation", "The natural language explicitly defines h = f \u2218 G, but the Lean version only uses f \u2218 G in the conclusion without defining h as a separate variable. The mathematical meaning is preserved but the explicit naming is missing", "Both the membership U_0 \u2208 T and the limit point condition are correctly formalized, with the Lean version providing the precise \u03b5-\u03b4 definition of limit point", "Continuity of G at U_0 is identically expressed using ContinuousAt", "Continuity of f at G(U_0) is correctly formalized, with the Lean version directly using G U_0 instead of introducing X_0 as an intermediate variable"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Suppose that  $\\epsilon>0$.", "statement": "Definition:\n\u2022 Let $\\epsilon > 0$ be an arbitrary positive real number [def_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (\u03b5 : \u211d) (h\u03b5 : \u03b5 > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean type declaration (\u03b5 : \u211d) correctly captures that \u03b5 is a real number", "The Lean hypothesis (h\u03b5 : \u03b5 > 0) correctly captures the positivity condition", "The use of 'variable' in Lean correctly represents that \u03b5 is arbitrary - it can be any real number satisfying the given conditions", "The complete Lean formalization with variable declaration and positivity hypothesis correctly captures the definition of \u03b5 as an arbitrary positive real number"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Since $f$ is continuous at\n$\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0)$, there is an $\\epsilon_1>0$\nsuch that\n\\begin{equation}\\label{eq:5.2.17}\n|f(\\mathbf{X})-f(\\mathbf{G}(\\mathbf{U}_0))|<\\epsilon\n\\end{equation}\nif\n\\begin{equation}\\label{eq:5.2.18}\n|\\mathbf{X}-\\mathbf{G}(\\mathbf{U}_0)|<\\epsilon_1\\mbox{\\quad and\\quad}\n\\mathbf{X}\\in D_f.\n\\end{equation}", "statement": "We assume:\n\u2022 $f$ is continuous at $\\mathbf{X}_0 = \\mathbf{G}(\\mathbf{U}_0)$ [tc_7];\n\u2022 $\\epsilon > 0$ is a positive real number [def_1].\nTherefore, we conclude:\n\u2022 There exists an $\\epsilon_1 > 0$ such that for any $\\mathbf{X} \\in D_f$ with $|\\mathbf{X} - \\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$, we have $|f(\\mathbf{X}) - f(\\mathbf{G}(\\mathbf{U}_0))| < \\epsilon$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by\n  have h_main : ContinuousAt (f \u2218 G) U_0 := by\n    -- Apply the composition rule for continuous functions\n    have h1 : ContinuousAt (fun x : (Fin m \u2192 \u211d) => G x) U_0 := hG_cont\n    have h2 : ContinuousAt (fun x : (Fin n \u2192 \u211d) => f x) (G U_0) := hf_cont\n    -- Use the fact that the composition of continuous functions is continuous\n    have h3 : ContinuousAt (f \u2218 G) U_0 := ContinuousAt.comp h2 h1\n    exact h3\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The continuity assumption for function f at G(U\u2080) is correctly captured in the Lean formalization.", "The epsilon positivity condition is implicitly handled rather than explicitly stated, which is a minor structural difference but semantically equivalent.", "The main conclusion shows a major inconsistency. The natural language describes the epsilon-delta property derived from continuity of f, while Lean proves continuity of the composite function f \u2218 G.", "The overall logical structure differs significantly - the natural language appears to be extracting a property from a continuity assumption, while the Lean code proves a composite function continuity theorem."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The continuity assumption for function f at G(U\u2080) is correctly captured in the Lean formalization.', 'The epsilon positivity condition is implicitly handled rather than explicitly stated, which is a minor structural difference but semantically equivalent.', 'The main conclusion shows a major inconsistency. The natural language describes the epsilon-delta property derived from continuity of f, while Lean proves continuity of the composite function f \u2218 G.', 'The overall logical structure differs significantly - the natural language appears to be extracting a property from a continuity assumption, while the Lean code proves a composite function continuity theorem.']"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Since $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$, there is a $\\delta>0$\nsuch that\n$$\n|\\mathbf{G}(\\mathbf{U})-\\mathbf{G}(\\mathbf{U}_0)|<\\epsilon_1\n\\mbox{\\quad if\\quad} |\\mathbf{U}-\\mathbf{U}_0|< \n\\delta\\mbox{\\quad and\\quad}\\mathbf{U}\\in D_\\mathbf{G}.\n$$", "statement": "We assume:\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6];\n\u2022 There exists an $\\epsilon_1 > 0$ from the continuity of f [l1].\nTherefore, we conclude:\n\u2022 There exists a $\\delta > 0$ such that for any $\\mathbf{U} \\in D_\\mathbf{G}$ with $|\\mathbf{U} - \\mathbf{U}_0| < \\delta$, we have $|\\mathbf{G}(\\mathbf{U}) - \\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by\n  have h_main : ContinuousAt (f \u2218 G) U_0 := by\n    -- Apply the composition rule for continuous functions\n    have h1 : ContinuousAt (f \u2218 G) U_0 := ContinuousAt.comp hf_cont hG_cont\n    exact h1\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The continuity of G at U_0 is correctly captured in both the natural language assumption and Lean hypothesis.", "The continuity of f is properly represented, though Lean uses the general continuity statement rather than explicitly mentioning \u03b5\u2081 > 0, which is mathematically equivalent.", "The natural language describes a specific epsilon-delta conclusion about the existence of \u03b4, but this explicit statement is missing from the Lean formalization.", "The natural language appears to describe proof steps leading to an epsilon-delta characterization, while the Lean formalization directly states the composite function continuity theorem as the goal. The logical flow and purpose are different - one describes intermediate steps, the other states the final theorem."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The continuity of G at U_0 is correctly captured in both the natural language assumption and Lean hypothesis.', 'The continuity of f is properly represented, though Lean uses the general continuity statement rather than explicitly mentioning \u03b5\u2081 > 0, which is mathematically equivalent.', 'The natural language describes a specific epsilon-delta conclusion about the existence of \u03b4, but this explicit statement is missing from the Lean formalization.', 'The natural language appears to describe proof steps leading to an epsilon-delta characterization, while the Lean formalization directly states the composite function continuity theorem as the goal. The logical flow and purpose are different - one describes intermediate steps, the other states the final theorem.']"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "By taking $\\mathbf{X}=\\mathbf{G}(\\mathbf{U})$ in \\eqref{eq:5.2.17} and\n\\eqref{eq:5.2.18}, we see that\n$$\n|h(\\mathbf{U})-h(\\mathbf{U}_0)|=|f(\\mathbf{G}(\\mathbf{U})\n-f(\\mathbf{G}(\\mathbf{U}_0))|<\\epsilon\n$$\nif\n$$\n|\\mathbf{U}-\\mathbf{U}_0|<\\delta\\mbox{\\quad and\\quad}\\mathbf{U}\\in T.\n$$", "statement": "We assume:\n\u2022 $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ [tc_3];\n\u2022 $h(\\mathbf{U}) = f(\\mathbf{G}(\\mathbf{U}))$ [tc_4];\n\u2022 For $\\epsilon>0$, there exists an $\\epsilon_1 > 0$ such that for any $\\mathbf{X} \\in D_f$ with $|\\mathbf{X} - \\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$, we have $|f(\\mathbf{X}) - f(\\mathbf{G}(\\mathbf{U}_0))| < \\epsilon$ [l1];\n\u2022 For $\\epsilon_1>0$, there exists a $\\delta > 0$ such that for any $\\mathbf{U} \\in D_\\mathbf{G}$ with $|\\mathbf{U} - \\mathbf{U}_0| < \\delta$, we have $|\\mathbf{G}(\\mathbf{U}) - \\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$ [l2].\nTherefore, we conclude:\n\u2022 For the $\\delta>0$ found in [l2], if $|\\mathbf{U}-\\mathbf{U}_0|<\\delta$ and $\\mathbf{U}\\in T$, then $|h(\\mathbf{U})-h(\\mathbf{U}_0)| < \\epsilon$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by\n  have h_main : ContinuousAt (f \u2218 G) U_0 := by\n    have h1 : ContinuousAt (f \u2218 G) U_0 := hf_cont.comp hG_cont\n    exact h1\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Set T definition is correctly formalized with equivalent logical structure", "Function composition f \u2218 G correctly captures h(U) = f(G(U))", "ContinuousAt f (G U_0) is the modern mathematical equivalent of the epsilon-delta continuity condition [l1]", "ContinuousAt G U_0 is the modern mathematical equivalent of the epsilon-delta continuity condition [l2]", "The conclusion ContinuousAt (f \u2218 G) U_0 correctly captures the continuity result described in [l3]. The additional assumptions about U_0 being in T and being a limit point are mathematically reasonable and don't contradict the natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Then $h$ is continuous at\n$\\mathbf{U}_0.$", "statement": "We assume:\n\u2022 We are given an arbitrary $\\epsilon > 0$ [def_1];\n\u2022 For this $\\epsilon$, there exists a $\\delta > 0$ such that if $|\\mathbf{U}-\\mathbf{U}_0|<\\delta$ and $\\mathbf{U}\\in T$, then $|h(\\mathbf{U})-h(\\mathbf{U}_0)| < \\epsilon$ [l3].\nTherefore, we conclude:\n\u2022 The composite function $h$ is continuous at $\\mathbf{U}_0$ [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem composite_function_continuity \n  {n m : \u2115} \n  (D_f : Set (Fin n \u2192 \u211d)) \n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_G : Set (Fin m \u2192 \u211d)) \n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (hT : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f})\n  (U_0 : Fin m \u2192 \u211d)\n  (hU0_in_T : U_0 \u2208 T)\n  (hU0_limit : \u2200 \u03b5 > 0, \u2203 U \u2208 T, U \u2260 U_0 \u2227 \u2016U - U_0\u2016 < \u03b5)\n  (hG_cont : ContinuousAt G U_0)\n  (hf_cont : ContinuousAt f (G U_0)) :\n  ContinuousAt (f \u2218 G) U_0 := by\n  have h_main : ContinuousAt (f \u2218 G) U_0 := by\n    -- Use the composition lemma for continuous functions\n    have h1 : ContinuousAt (f \u2218 G) U_0 := ContinuousAt.comp hf_cont hG_cont\n    exact h1\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical essence of the natural language statement. While the natural language presents an \u03b5-\u03b4 proof sketch for continuity of a composite function, the Lean code formalizes this as a theorem using standard continuity definitions from Mathlib. The assumptions `hG_cont` and `hf_cont` encode the continuity conditions mentioned in the natural language, and the conclusion `ContinuousAt (f \u2218 G) U_0` matches the stated result. The use of norm notation instead of absolute value is appropriate for the vector space setting. The additional structural elements in Lean (like domain definitions and type specifications) provide necessary mathematical rigor without contradicting the natural language content."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_5", "label": "tc_5", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_6", "label": "tc_6", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_7", "label": "tc_7", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    