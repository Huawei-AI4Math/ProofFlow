
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If a nonempty set $S$ of real numbers  is bounded above$,$ then
$\sup S$ is the unique real number $\beta$ such that
\begin{alist}
\item % (a)
 $x\le\beta$ for all $x$ in $S;$
\item % (b)
 if $\epsilon>0$ $($no matter how small$)$$,$ there is an $x_0$ in
$S$ such that
$x_0>
\beta-\epsilon.$
\end{alist}

Proof: We first show that $\beta=\sup S$ has properties \part{a} and
\part{b}. Since $\beta$ is an upper bound of $S$, it must satisfy
\part{a}. Since any real number $a$ less than $\beta$ can be written
as $\beta-\epsilon$ with $\epsilon=\beta-a>0$, \part{b} is just
another way of saying that no number less than $\beta$ is an upper
bound of $S$. Hence, $\beta=\sup S$ satisfies \part{a} and \part{b}.
Now we show that there cannot be more than one real number with
properties \part{a} and \part{b}. Suppose that $\beta_1<\beta_2$ and
$\beta_2$ has property \part{b}; thus, if $\epsilon>0$, there is an
$x_0$ in $S$ such that $x_0>\beta_2-\epsilon$. Then, by taking
$\epsilon=\beta_2-\beta_1$, we see that there is an $x_0$ in $S$ such
that
$$
x_0>\beta_2-(\beta_2-\beta_1)=\beta_1,
$$
so  $\beta_1$ cannot have property \part{a}. Therefore, there cannot
be more than one real number that satisfies both \part{a} and
\part{b}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If a nonempty set $S$ of real numbers is bounded above", "statement": "Premise:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty \u2227 BddAbove S)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers through the type declaration (S : Set \u211d) and the S.Nonempty condition in tc_1", "The Lean formalization correctly captures that S is bounded above through BddAbove S in tc_1"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "$\\sup S$ is the unique real number $\beta$ such that\n\\begin{alist}\n\\item % (a)\n $x\\le\\beta$ for all $x$ in $S;$\n\\item % (b)\n if $\\epsilon>0$ $($no matter how small$)$$,$ there is an $x_0$ in\n$S$ such that\n$x_0>\n\\beta-\\epsilon.$\n\\end{alist}", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\nDefinition:\nLet S be a set of real numbers, and \u03b2 be a real number. We define two properties:\n\u2022 Property (a): For all x in S, x \u2264 \u03b2 [def_1a].\n\u2022 Property (b): For any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty \u2227 BddAbove S)\n\ndef condition_a (\u03b2 : \u211d) : Prop := \u2200 x \u2208 S, x \u2264 \u03b2\n\ndef condition_b (\u03b2 : \u211d) : Prop := \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is nonempty and bounded above using S.Nonempty \u2227 BddAbove S, which directly corresponds to the natural language condition", "The Lean definition condition_a perfectly captures Property (a) with the same logical structure: for all x in S, x \u2264 \u03b2", "The Lean definition condition_b perfectly captures Property (b) with the same logical structure: for any \u03b5 > 0, there exists x\u2080 in S such that x\u2080 > \u03b2 - \u03b5"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "We first show that $\\beta=\\sup S$ has properties \\part{a} and\n\\part{b}. Since $\\beta$ is an upper bound of $S$, it must satisfy\n\\part{a}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b].\nTherefore, we conclude:\n\u2022 Let \u03b2 = sup S. By the definition of supremum, \u03b2 is an upper bound of S, so it satisfies property (a) [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) :\n  let \u03b2 := sSup S\n  \u2200 x \u2208 S, x \u2264 \u03b2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) :\n  let \u03b2 := sSup S\n  \u2200 x \u2208 S, x \u2264 \u03b2 := by\n  intro \u03b2 x hx\n  have h_main : x \u2264 sSup S := by\n    -- Use the property that the supremum is an upper bound for the set\n    have h\u2081 : x \u2264 sSup S := le_csSup hS_bdd hx\n    exact h\u2081\n  -- Since \u03b2 is defined as sSup S, we can directly use h_main\n  simpa [\u03b2] using h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.6, "semantic_feedback": ["The assumptions about S (nonempty, bounded above, real numbers) are correctly formalized with appropriate Lean types and hypotheses.", "The definition \u03b2 := sSup S correctly captures \u03b2 = sup S from the natural language.", "Property (a) is implicitly captured in the conclusion but not explicitly defined as a named property as suggested in the natural language.", "Property (b) is mentioned in the natural language but not formalized in Lean, though it's not needed for this specific theorem.", "The main conclusion that \u03b2 satisfies property (a) (i.e., is an upper bound) is perfectly captured as \u2200 x \u2208 S, x \u2264 \u03b2."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.6, below threshold 0.6.\nScorer feedback: ['The assumptions about S (nonempty, bounded above, real numbers) are correctly formalized with appropriate Lean types and hypotheses.', 'The definition \u03b2 := sSup S correctly captures \u03b2 = sup S from the natural language.', 'Property (a) is implicitly captured in the conclusion but not explicitly defined as a named property as suggested in the natural language.', \"Property (b) is mentioned in the natural language but not formalized in Lean, though it's not needed for this specific theorem.\", 'The main conclusion that \u03b2 satisfies property (a) (i.e., is an upper bound) is perfectly captured as \u2200 x \u2208 S, x \u2264 \u03b2.']"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Since any real number $a$ less than $\\beta$ can be written\nas $\\beta-\\epsilon$ with $\\epsilon=\\beta-a>0$, \\part{b} is just\nanother way of saying that no number less than $\\beta$ is an upper\nbound of $S$.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1].\nTherefore, we conclude:\n\u2022 Property (b) is equivalent to the statement 'no number less than \u03b2 is an upper bound of S' [l2].", "dependencies": ["tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) \n  (\u03b2 : \u211d) (h\u03b2 : \u03b2 = sSup S) :\n  let condition_b := \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5\n  let no_upper_bound_less := \u2200 \u03b3 < \u03b2, \u2203 x \u2208 S, x > \u03b3\n  condition_b \u2194 no_upper_bound_less := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) \n  (\u03b2 : \u211d) (h\u03b2 : \u03b2 = sSup S) :\n  let condition_b := \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5\n  let no_upper_bound_less := \u2200 \u03b3 < \u03b2, \u2203 x \u2208 S, x > \u03b3\n  condition_b \u2194 no_upper_bound_less := by\n  intro condition_b no_upper_bound_less\n  have h_imp : condition_b \u2192 no_upper_bound_less := by\n    intro h\n    intro \u03b3 h\u03b3\n    have h\u2081 : \u03b2 - \u03b3 > 0 := by\n      have h\u2082 : \u03b3 < \u03b2 := h\u03b3\n      linarith\n    have h\u2082 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - (\u03b2 - \u03b3) := h (\u03b2 - \u03b3) h\u2081\n    obtain \u27e8x\u2080, hx\u2080, hx\u2080'\u27e9 := h\u2082\n    have h\u2083 : x\u2080 > \u03b3 := by\n      have h\u2084 : \u03b2 - (\u03b2 - \u03b3) = \u03b3 := by ring\n      linarith\n    exact \u27e8x\u2080, hx\u2080, h\u2083\u27e9\n  \n  have h_conv : no_upper_bound_less \u2192 condition_b := by\n    intro h\n    intro \u03b5 h\u03b5\n    have h\u2081 : \u03b2 - \u03b5 < \u03b2 := by linarith\n    have h\u2082 : \u2203 x \u2208 S, x > \u03b2 - \u03b5 := h (\u03b2 - \u03b5) h\u2081\n    obtain \u27e8x, hx, hx'\u27e9 := h\u2082\n    exact \u27e8x, hx, hx'\u27e9\n  \n  exact \u27e8h_imp, h_conv\u27e9", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.67, "semantic_feedback": ["Set S assumptions are correctly captured with proper types and conditions", "Property (a) definition is mentioned in natural language but not explicitly formalized in Lean", "Property (b) definition is accurately translated using quantifiers and set membership", "\u03b2 definition as supremum is correctly formalized using sSup", "The statement that \u03b2 satisfies property (a) is mentioned in natural language but not included in Lean formalization", "The main equivalence theorem correctly captures the logical relationship between condition_b and no_upper_bound_less"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Hence, $\\beta=\\sup S$ satisfies \\part{a} and \\part{b}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 Property (b) is equivalent to the statement 'no number less than \u03b2 is an upper bound of S' [l2].\nTherefore, we conclude:\n\u2022 The number \u03b2 = sup S satisfies property (b) [l3].", "dependencies": ["tc_1", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) :\n  let \u03b2 := sSup S\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 4}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) :\n  let \u03b2 := sSup S\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\n  intro \u03b2 \u03b5 \u03b5pos\n  have h_main : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\n    have h\u2081 : (sSup S - \u03b5 : \u211d) < sSup S := by\n      -- Prove that sSup S - \u03b5 < sSup S using the fact that \u03b5 > 0\n      have h\u2082 : (\u03b5 : \u211d) > 0 := by exact_mod_cast \u03b5pos\n      linarith [h\u2082]\n    -- Use the property of the supremum to find an element in S greater than sSup S - \u03b5\n    have h\u2082 : \u2203 x\u2080 \u2208 S, (sSup S - \u03b5 : \u211d) < x\u2080 := by\n      -- Apply the lemma exists_lt_of_lt_csSup with a = sSup S - \u03b5\n      have h\u2083 : \u2203 x\u2080 \u2208 S, (sSup S - \u03b5 : \u211d) < x\u2080 := by\n        -- Use refine' to provide all arguments explicitly\n        refine' exists_lt_of_lt_csSup hS_nonempty hS_bdd _ _\n        <;> simp_all [sub_lt_iff_lt_add]\n        <;> linarith\n      exact h\u2083\n    -- Convert the result to use \u03b2 instead of sSup S\n    obtain \u27e8x\u2080, hx\u2080, hx\u2080'\u27e9 := h\u2082\n    refine' \u27e8x\u2080, hx\u2080, _\u27e9\n    -- Since \u03b2 = sSup S, we have x\u2080 > sSup S - \u03b5 = \u03b2 - \u03b5\n    simp [\u03b2] at hx\u2080' \u22a2\n    <;> linarith\n  exact h_main", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 16, "endLine": 18, "endColumn": 60, "data": "function expected at\n  exists_lt_of_lt_csSup hS_nonempty ?m.1403\nterm has type\n  \u2203 a \u2208 S, ?m.1367 < a"}, {"line": 18, "column": 50, "endLine": 18, "endColumn": 56, "data": "application type mismatch\n  exists_lt_of_lt_csSup hS_nonempty hS_bdd\nargument\n  hS_bdd\nhas type\n  BddAbove S : Prop\nbut is expected to have type\n  ?m.1367 < sSup S : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers that is bounded above using the appropriate Mathlib types and predicates.", "The definition of \u03b2 as the supremum of S is correctly formalized using sSup, which is Mathlib's notation for supremum.", "Property (b) is perfectly translated: the quantifier structure (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S) and the inequality x\u2080 > \u03b2 - \u03b5 are exactly as stated in natural language.", "The theorem conclusion correctly states that \u03b2 = sup S satisfies property (b), which matches the natural language conclusion. The contextual lemmas l1 and l2 are not needed for the main theorem statement.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "NL statement", "error_report": "Formalization appears correct (score=1.0 > 0.6), and the prover could prove the NEGATION of the NL lemma. The NL statement is likely incorrect."}, "solved_negation": {"lean_verify": true, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (S : Set \u211d) (hS_nonempty : S.Nonempty) (hS_bdd : BddAbove S) :\n  let \u03b2 := sSup S\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\n  intro \u03b2 \u03b5 h\u03b5\n  have h\u03b2 : \u03b2 = sSup S := rfl\n  have h\u2081 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\n    by_contra! h\n    have h\u2083 : \u2200 x \u2208 S, x \u2264 \u03b2 - \u03b5 := by simpa using h\n    have h\u2084 : \u03b2 - \u03b5 < \u03b2 := by linarith [h\u03b5]\n    have h\u2085 : \u03b2 - \u03b5 < sSup S := by\n      rw [h\u03b2]\n      <;> linarith\n    -- Step 2: Prove that \u03b2 - \u03b5 is an upper bound for S\n    have h\u2086 : \u03b2 - \u03b5 \u2208 upperBounds S := by\n      intro x hx\n      exact h\u2083 x hx\n    -- Step 3: Use the least upper bound property of sSup S\n    have h\u2087 : sSup S \u2264 \u03b2 - \u03b5 := by\n      have h\u2088 : IsLUB S (sSup S) := isLUB_csSup hS_nonempty hS_bdd\n      have h\u2089 : sSup S \u2264 \u03b2 - \u03b5 := by\n        apply h\u2088.2\n        exact h\u2086\n      exact h\u2089\n    -- Step 4: Derive a contradiction from sSup S \u2264 \u03b2 - \u03b5 and \u03b2 - \u03b5 < sSup S\n    linarith\n  exact h\u2081"}, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Suppose that $\\beta_1<\\beta_2$ and\n$\\beta_2$ has property \\part{b}", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 Property (b) is equivalent to 'no number less than \u03b2 is an upper bound of S' [l2];\n\u2022 \u03b2 = sup S satisfies property (b) [l3].\nDefinition:\n\u2022 For the purpose of proving uniqueness by contradiction, assume there exist two distinct real numbers, \u03b2\u2081 and \u03b2\u2082, that both satisfy properties (a) and (b), and without loss of generality, assume \u03b2\u2081 < \u03b2\u2082 [def_2].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty \u2227 BddAbove S)\n\ndef condition_a (\u03b2 : \u211d) : Prop := \u2200 x \u2208 S, x \u2264 \u03b2\n\ndef condition_b (\u03b2 : \u211d) : Prop := \u2200 \u03b5 : \u211d, \u03b5 > 0 \u2192 \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5\n\ndef_2 : \n  \u2203 \u03b2\u2081 \u03b2\u2082 : \u211d, \u03b2\u2081 \u2260 \u03b2\u2082 \u2227 \n    condition_a \u03b2\u2081 \u2227 condition_b \u03b2\u2081 \u2227\n    condition_a \u03b2\u2082 \u2227 condition_b \u03b2\u2082 \u2227\n    \u03b2\u2081 < \u03b2\u2082 := by sorry", "lean_pass": false, "error_msg": [{"line": 12, "column": 70, "endLine": 14, "endColumn": 5, "data": "function expected at\n  \u03b5\nterm has type\n  \u211d"}, {"line": 14, "column": 6, "endLine": 14, "endColumn": 7, "data": "unexpected token ':'; expected command"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "l4": {"id": "l4", "natural_language": "Then, by taking\n$\\epsilon=\\beta_2-\\beta_1$, we see that there is an $x_0$ in $S$ such\nthat\n$$\nx_0>\\beta_2-(\\beta_2-\\beta_1)=\\beta_1,\n$$", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 Property (b) is equivalent to 'no number less than \u03b2 is an upper bound of S' [l2];\n\u2022 \u03b2 = sup S satisfies property (b) [l3];\n\u2022 Assume there exist \u03b2\u2081 and \u03b2\u2082, both satisfying (a) and (b), with \u03b2\u2081 < \u03b2\u2082 [def_2].\nTherefore, we conclude:\n\u2022 There exists an element x\u2080 in S such that x\u2080 > \u03b2\u2081 [l4].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (h\u03b2\u2081_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h\u03b2\u2081_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5)\n  (h\u03b2\u2082_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2082)\n  (h\u03b2\u2082_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5)\n  (h\u03b2\u2081_lt_\u03b2\u2082 : \u03b2\u2081 < \u03b2\u2082) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (h\u03b2\u2081_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h\u03b2\u2081_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5)\n  (h\u03b2\u2082_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2082)\n  (h\u03b2\u2082_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5)\n  (h\u03b2\u2081_lt_\u03b2\u2082 : \u03b2\u2081 < \u03b2\u2082) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n  have h\u03b2_exists : \u2203 (\u03b2 : \u211d), IsLUB S \u03b2 := by\n    refine' \u27e8sSup S, _\u27e9\n    exact isLUB_csSup hS_nonempty hS_bdd\n  \n  have h\u03b2_def : IsLUB S (sSup S) := by\n    exact isLUB_csSup hS_nonempty hS_bdd\n  \n  have hsSup_le_\u03b2\u2081 : sSup S \u2264 \u03b2\u2081 := by\n    apply csSup_le hS_nonempty\n    intro x hx\n    exact h\u03b2\u2081_property_a x hx\n  \n  have hsSup_le_\u03b2\u2082 : sSup S \u2264 \u03b2\u2082 := by\n    apply csSup_le hS_nonempty\n    intro x hx\n    exact h\u03b2\u2082_property_a x hx\n  \n  have h\u03b2\u2081_eq_sSup : \u03b2\u2081 = sSup S := by\n    by_contra h\n    have h\u2081 : \u03b2\u2081 \u2260 sSup S := h\n    have h\u2082 : sSup S < \u03b2\u2081 := by\n      -- We need to show that sSup S < \u03b2\u2081 given that \u03b2\u2081 \u2260 sSup S and sSup S \u2264 \u03b2\u2081.\n      have h\u2083 : sSup S \u2264 \u03b2\u2081 := hsSup_le_\u03b2\u2081\n      have h\u2084 : sSup S \u2260 \u03b2\u2081 := by\n        intro h\u2085\n        apply h\u2081\n        linarith\n      -- Since sSup S \u2264 \u03b2\u2081 and sSup S \u2260 \u03b2\u2081, it must be that sSup S < \u03b2\u2081.\n      have h\u2085 : sSup S < \u03b2\u2081 := by\n        contrapose! h\u2084\n        linarith\n      exact h\u2085\n    -- Now we have sSup S < \u03b2\u2081. We can use this to find a contradiction.\n    have h\u2083 : \u2203 (x : \u211d), x \u2208 S \u2227 x > sSup S := by\n      have h\u2084 : \u03b2\u2081 - (\u03b2\u2081 - sSup S) = sSup S := by linarith\n      have h\u2085 : 0 < \u03b2\u2081 - sSup S := by linarith\n      have h\u2086 : \u2203 (x\u2080 : \u211d), x\u2080 \u2208 S \u2227 x\u2080 > \u03b2\u2081 - (\u03b2\u2081 - sSup S) := by\n        have h\u2087 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - (\u03b2\u2081 - sSup S) := h\u03b2\u2081_property_b (\u03b2\u2081 - sSup S) (by linarith)\n        exact h\u2087\n      obtain \u27e8x\u2080, hx\u2080, hx\u2080'\u27e9 := h\u2086\n      refine' \u27e8x\u2080, hx\u2080, _\u27e9\n      linarith\n    obtain \u27e8x, hx, hx'\u27e9 := h\u2083\n    have h\u2084 : x \u2264 sSup S := by\n      apply le_csSup hS_bdd hx\n    linarith\n  \n  have h\u03b2\u2082_eq_sSup : \u03b2\u2082 = sSup S := by\n    by_contra h\n    have h\u2081 : \u03b2\u2082 \u2260 sSup S := h\n    have h\u2082 : sSup S < \u03b2\u2082 := by\n      -- We need to show that sSup S < \u03b2\u2082 given that \u03b2\u2082 \u2260 sSup S and sSup S \u2264 \u03b2\u2082.\n      have h\u2083 : sSup S \u2264 \u03b2\u2082 := hsSup_le_\u03b2\u2082\n      have h\u2084 : sSup S \u2260 \u03b2\u2082 := by\n        intro h\u2085\n        apply h\u2081\n        linarith\n      -- Since sSup S \u2264 \u03b2\u2082 and sSup S \u2260 \u03b2\u2082, it must be that sSup S < \u03b2\u2082.\n      have h\u2085 : sSup S < \u03b2\u2082 := by\n        contrapose! h\u2084\n        linarith\n      exact h\u2085\n    -- Now we have sSup S < \u03b2\u2082. We can use this to find a contradiction.\n    have h\u2083 : \u2203 (x : \u211d), x \u2208 S \u2227 x > sSup S := by\n      have h\u2084 : \u03b2\u2082 - (\u03b2\u2082 - sSup S) = sSup S := by linarith\n      have h\u2085 : 0 < \u03b2\u2082 - sSup S := by linarith\n      have h\u2086 : \u2203 (x\u2080 : \u211d), x\u2080 \u2208 S \u2227 x\u2080 > \u03b2\u2082 - (\u03b2\u2082 - sSup S) := by\n        have h\u2087 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - (\u03b2\u2082 - sSup S) := h\u03b2\u2082_property_b (\u03b2\u2082 - sSup S) (by linarith)\n        exact h\u2087\n      obtain \u27e8x\u2080, hx\u2080, hx\u2080'\u27e9 := h\u2086\n      refine' \u27e8x\u2080, hx\u2080, _\u27e9\n      linarith\n    obtain \u27e8x, hx, hx'\u27e9 := h\u2083\n    have h\u2084 : x \u2264 sSup S := by\n      apply le_csSup hS_bdd hx\n    linarith\n  \n  have h_false : False := by\n    have h\u2081 : \u03b2\u2081 = sSup S := h\u03b2\u2081_eq_sSup\n    have h\u2082 : \u03b2\u2082 = sSup S := h\u03b2\u2082_eq_sSup\n    have h\u2083 : \u03b2\u2081 < \u03b2\u2082 := h\u03b2\u2081_lt_\u03b2\u2082\n    linarith\n  \n  have h_main : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n    exfalso\n    exact h_false\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["Set S assumptions are correctly captured with proper type declarations and constraints", "Property (a) definition is accurately formalized for both \u03b2\u2081 and \u03b2\u2082", "Property (b) definition is accurately formalized with correct quantifier structure", "While supremum statements l1-l3 are not explicitly present, they are not required for the theorem statement and the essential logical structure is preserved", "The assumption about \u03b2\u2081 and \u03b2\u2082 satisfying both properties with \u03b2\u2081 < \u03b2\u2082 is correctly captured", "The conclusion matches exactly with proper existential quantification over S", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "so  $\\beta_1$ cannot have property \\part{a}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 Property (b) is equivalent to 'no number less than \u03b2 is an upper bound of S' [l2];\n\u2022 \u03b2 = sup S satisfies property (b) [l3];\n\u2022 Assume there exist \u03b2\u2081 and \u03b2\u2082, both satisfying (a) and (b), with \u03b2\u2081 < \u03b2\u2082 [def_2];\n\u2022 There exists an element x\u2080 in S such that x\u2080 > \u03b2\u2081 [l4].\nTherefore, we conclude:\n\u2022 The assumption that \u03b2\u2081 has property (a) is contradicted by the existence of x\u2080 \u2208 S with x\u2080 > \u03b2\u2081 [l5].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "def_2", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (h\u03b2\u2081_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h\u03b2\u2081_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5)\n  (h\u03b2\u2082_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2082)\n  (h\u03b2\u2082_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5)\n  (h\u03b2\u2081_lt_\u03b2\u2082 : \u03b2\u2081 < \u03b2\u2082) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n  sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (h\u03b2\u2081_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h\u03b2\u2081_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5)\n  (h\u03b2\u2082_property_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2082)\n  (h\u03b2\u2082_property_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5)\n  (h\u03b2\u2081_lt_\u03b2\u2082 : \u03b2\u2081 < \u03b2\u2082) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n  have h_main : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n    by_contra! h\n    -- Assume for contradiction that no x\u2080 \u2208 S satisfies x\u2080 > \u03b2\u2081\n    have h\u2081 : \u2200 x \u2208 S, x \u2264 \u03b2\u2081 := by\n      intro x hx\n      have h\u2082 := h x hx\n      linarith\n    -- Define \u03b5 = (\u03b2\u2082 - \u03b2\u2081)/2\n    have h\u2082 : 0 < (\u03b2\u2082 - \u03b2\u2081) / 2 := by linarith\n    -- Use property (b) for \u03b2\u2082 with \u03b5 = (\u03b2\u2082 - \u03b2\u2081)/2\n    obtain \u27e8x\u2080, hx\u2080_in_S, hx\u2080_gt\u27e9 := h\u03b2\u2082_property_b ((\u03b2\u2082 - \u03b2\u2081) / 2) h\u2082\n    -- Derive a contradiction\n    have h\u2083 : x\u2080 \u2264 \u03b2\u2081 := h\u2081 x\u2080 hx\u2080_in_S\n    have h\u2084 : x\u2080 > \u03b2\u2082 - (\u03b2\u2082 - \u03b2\u2081) / 2 := by linarith\n    have h\u2085 : \u03b2\u2082 - (\u03b2\u2082 - \u03b2\u2081) / 2 = (\u03b2\u2082 + \u03b2\u2081) / 2 := by\n      ring_nf\n      <;> field_simp\n      <;> ring_nf\n      <;> linarith\n    rw [h\u2085] at h\u2084\n    have h\u2086 : (\u03b2\u2082 + \u03b2\u2081) / 2 < \u03b2\u2081 := by linarith\n    have h\u2087 : \u03b2\u2082 < \u03b2\u2081 := by linarith\n    linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.56, "semantic_feedback": ["The basic setup (S as nonempty bounded set of reals) is correctly captured", "Properties (a) and (b) are precisely formalized with correct quantifiers and logical structure", "The definitions match exactly between natural language and Lean", "The Lean code doesn't explicitly reference sup S or \u03b2, but focuses on the key logical relationships", "The equivalence statement [l2] is not explicitly present, though it's implicit in the logical structure", "Statements about \u03b2 = sup S satisfying properties are not explicitly included", "The assumption about \u03b2\u2081 and \u03b2\u2082 both satisfying properties (a) and (b) with \u03b2\u2081 < \u03b2\u2082 is perfectly captured", "The existence of x\u2080 \u2208 S with x\u2080 > \u03b2\u2081 is correctly stated as the conclusion", "The contradiction aspect is implicit in the theorem structure rather than explicitly stated, but the logical content is preserved"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.56, below threshold 0.6.\nScorer feedback: ['The basic setup (S as nonempty bounded set of reals) is correctly captured', 'Properties (a) and (b) are precisely formalized with correct quantifiers and logical structure', 'The definitions match exactly between natural language and Lean', \"The Lean code doesn't explicitly reference sup S or \u03b2, but focuses on the key logical relationships\", \"The equivalence statement [l2] is not explicitly present, though it's implicit in the logical structure\", 'Statements about \u03b2 = sup S satisfying properties are not explicitly included', 'The assumption about \u03b2\u2081 and \u03b2\u2082 both satisfying properties (a) and (b) with \u03b2\u2081 < \u03b2\u2082 is perfectly captured', 'The existence of x\u2080 \u2208 S with x\u2080 > \u03b2\u2081 is correctly stated as the conclusion', 'The contradiction aspect is implicit in the theorem structure rather than explicitly stated, but the logical content is preserved']"}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "Therefore, there cannot\nbe more than one real number that satisfies both \\part{a} and\n\\part{b}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 Property (b) is equivalent to 'no number less than \u03b2 is an upper bound of S' [l2];\n\u2022 \u03b2 = sup S satisfies property (b) [l3];\n\u2022 Assume there exist \u03b2\u2081 and \u03b2\u2082, both satisfying (a) and (b), with \u03b2\u2081 < \u03b2\u2082 [def_2];\n\u2022 There exists an element x\u2080 in S such that x\u2080 > \u03b2\u2081 [l4];\n\u2022 The assumption that \u03b2\u2081 has property (a) is contradicted [l5].\nTherefore, we conclude:\n\u2022 There can be at most one real number that satisfies both properties (a) and (b) [l6].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d) :\n  (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2227 \n  (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5) \u2227\n  (\u2200 x \u2208 S, x \u2264 \u03b2\u2082) \u2227 \n  (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2227\n  \u03b2\u2081 < \u03b2\u2082 \u2192 False := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d) :\n  (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2227 \n  (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5) \u2227\n  (\u2200 x \u2208 S, x \u2264 \u03b2\u2082) \u2227 \n  (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2227\n  \u03b2\u2081 < \u03b2\u2082 \u2192 False := by\n  intro h\n  have h\u2081 : \u2200 x \u2208 S, x \u2264 \u03b2\u2081 := by\n    exact h.1\n  \n  have h\u2082 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5 := by\n    exact h.2.1\n  \n  have h\u2083 : \u2200 x \u2208 S, x \u2264 \u03b2\u2082 := by\n    exact h.2.2.1\n  \n  have h\u2084 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5 := by\n    exact h.2.2.2.1\n  \n  have h\u2085 : \u03b2\u2081 < \u03b2\u2082 := by\n    exact h.2.2.2.2\n  \n  have h\u2086 : False := by\n    have h\u2087 : 0 < (\u03b2\u2082 - \u03b2\u2081) / 2 := by linarith\n    -- Use property (b') for \u03b2\u2082 with \u03b5 = (\u03b2\u2082 - \u03b2\u2081)/2\n    have h\u2088 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - (\u03b2\u2082 - \u03b2\u2081) / 2 := h\u2084 ((\u03b2\u2082 - \u03b2\u2081) / 2) h\u2087\n    obtain \u27e8x\u2080, hx\u2080, hx\u2080_gt\u27e9 := h\u2088\n    -- Use property (a) for \u03b2\u2081\n    have h\u2089 : x\u2080 \u2264 \u03b2\u2081 := h\u2081 x\u2080 hx\u2080\n    -- Derive a contradiction\n    have h\u2081\u2080 : x\u2080 > \u03b2\u2082 - (\u03b2\u2082 - \u03b2\u2081) / 2 := hx\u2080_gt\n    have h\u2081\u2081 : \u03b2\u2082 - (\u03b2\u2082 - \u03b2\u2081) / 2 = (\u03b2\u2082 + \u03b2\u2081) / 2 := by\n      ring_nf\n      <;> field_simp\n      <;> ring_nf\n      <;> linarith\n    rw [h\u2081\u2081] at h\u2081\u2080\n    have h\u2081\u2082 : x\u2080 > (\u03b2\u2082 + \u03b2\u2081) / 2 := h\u2081\u2080\n    have h\u2081\u2083 : (\u03b2\u2082 + \u03b2\u2081) / 2 < \u03b2\u2081 := by\n      linarith\n    linarith\n  \n  exact h\u2086", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The basic setup correctly captures S as a nonempty, bounded above set of real numbers, and introduces the two candidate suprema \u03b2\u2081 and \u03b2\u2082.", "Properties (a) and (b) are correctly formalized in Lean using universal and existential quantifiers respectively, applied to both \u03b2\u2081 and \u03b2\u2082.", "The contradiction argument structure is perfectly captured - assuming both numbers satisfy the properties along with \u03b2\u2081 < \u03b2\u2082, then deriving False.", "The uniqueness conclusion is correctly represented by proving that assuming two distinct numbers with the required properties leads to a contradiction (False)."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "If a nonempty set $S$ of real numbers  is bounded above$,$ then\n$\\sup S$ is the unique real number $\\beta$ such that\n\\begin{alist}\n\\item % (a)\n $x\\le\\beta$ for all $x$ in $S;$\n\\item % (b)\n if $\\epsilon>0$ $($no matter how small$)$$,$ there is an $x_0$ in\n$S$ such that\n$x_0>\n\\beta-\\epsilon.$\n\\end{alist}", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1];\n\u2022 Property (a) is defined as: for all x in S, x \u2264 \u03b2 [def_1a];\n\u2022 Property (b) is defined as: for any \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 - \u03b5 [def_1b];\n\u2022 Let \u03b2 = sup S. \u03b2 satisfies property (a) [l1];\n\u2022 \u03b2 = sup S satisfies property (b) [l3];\n\u2022 There can be at most one real number that satisfies both properties (a) and (b) [l6].\nTherefore, we conclude:\n\u2022 sup S is the unique real number \u03b2 that satisfies properties (a) and (b) [ts_1].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S) :\n  \u2203! \u03b2 : \u211d, \n    (\u2200 x \u2208 S, x \u2264 \u03b2) \u2227 \n    (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2227\n    \u03b2 = sSup S := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (S : Set \u211d) \n  (hS_nonempty : S.Nonempty) \n  (hS_bdd : BddAbove S) :\n  \u2203! \u03b2 : \u211d, \n    (\u2200 x \u2208 S, x \u2264 \u03b2) \u2227 \n    (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2227\n    \u03b2 = sSup S := by\n  have h_main_exists : \u2203 (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2227 \u03b2 = sSup S := by\n    use sSup S\n    constructor\n    \u00b7 -- Prove that sSup S is an upper bound for S\n      intro x hx\n      exact le_csSup hS_bdd hx\n    constructor\n    \u00b7 -- Prove that for any \u03b5 > 0, there exists x\u2080 \u2208 S such that x\u2080 > sSup S - \u03b5\n      intro \u03b5 h\u03b5\n      have h\u2081 : sSup S - \u03b5 < sSup S := by linarith\n      -- Use the property of the supremum to find an element in S greater than sSup S - \u03b5\n      have h\u2082 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n        -- Since sSup S is the least upper bound, there must be an element in S greater than sSup S - \u03b5\n        have h\u2083 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n          -- Use the definition of the supremum to find such an element\n          have h\u2084 : sSup S - \u03b5 < sSup S := by linarith\n          have h\u2085 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n            -- Use the fact that sSup S is the least upper bound\n            apply exists_lt_of_lt_csSup hS_nonempty\n            <;> simp_all [hS_nonempty]\n            <;> linarith\n          exact h\u2085\n        exact h\u2083\n      -- Obtain the element x\u2080 from the existence statement\n      obtain \u27e8x\u2080, hx\u2080, hx\u2080_gt\u27e9 := h\u2082\n      -- Show that x\u2080 > sSup S - \u03b5\n      refine' \u27e8x\u2080, hx\u2080, _\u27e9\n      linarith\n    \u00b7 -- Prove that sSup S = sSup S\n      rfl\n  \n  have h_main_unique : \u2203! (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2227 \u03b2 = sSup S := by\n    refine' \u27e8sSup S, _\u27e9\n    constructor\n    \u00b7 -- Show that sSup S satisfies the conditions\n      have h\u2081 : (\u2200 x \u2208 S, x \u2264 sSup S) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5) \u2227 sSup S = sSup S := by\n        constructor\n        \u00b7 -- Prove that sSup S is an upper bound for S\n          intro x hx\n          exact le_csSup hS_bdd hx\n        constructor\n        \u00b7 -- Prove that for any \u03b5 > 0, there exists x\u2080 \u2208 S such that x\u2080 > sSup S - \u03b5\n          intro \u03b5 h\u03b5\n          have h\u2082 : sSup S - \u03b5 < sSup S := by linarith\n          -- Use the property of the supremum to find an element in S greater than sSup S - \u03b5\n          have h\u2083 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n            -- Since sSup S is the least upper bound, there must be an element in S greater than sSup S - \u03b5\n            have h\u2084 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n              -- Use the definition of the supremum to find such an element\n              have h\u2085 : sSup S - \u03b5 < sSup S := by linarith\n              have h\u2086 : \u2203 x \u2208 S, sSup S - \u03b5 < x := by\n                -- Use the fact that sSup S is the least upper bound\n                apply exists_lt_of_lt_csSup hS_nonempty\n                <;> simp_all [hS_nonempty]\n                <;> linarith\n              exact h\u2086\n            exact h\u2084\n          -- Obtain the element x\u2080 from the existence statement\n          obtain \u27e8x\u2080, hx\u2080, hx\u2080_gt\u27e9 := h\u2083\n          -- Show that x\u2080 > sSup S - \u03b5\n          refine' \u27e8x\u2080, hx\u2080, _\u27e9\n          linarith\n        \u00b7 -- Prove that sSup S = sSup S\n          rfl\n      exact h\u2081\n    \u00b7 -- Show that if \u03b2 satisfies the conditions, then \u03b2 = sSup S\n      intro \u03b2 h\u03b2\n      have h\u2082 : \u03b2 = sSup S := by\n        have h\u2083 : \u03b2 = sSup S := by\n          -- Extract the third condition from h\u03b2\n          have h\u2084 : \u03b2 = sSup S := h\u03b2.2.2\n          exact h\u2084\n        exact h\u2083\n      linarith\n  \n  exact h_main_unique", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["The basic setup correctly captures S as a nonempty, bounded above set of real numbers using appropriate Lean types and predicates.", "Properties (a) and (b) are accurately translated using universal and existential quantifiers with the correct logical structure.", "The main conclusion is properly formalized using existential uniqueness (\u2203!) and correctly identifies \u03b2 with sSup S while requiring both properties to hold.", "While the intermediate lemmas (l1, l3, l6) are not stated separately, their logical content is captured in the overall theorem statement about existence and uniqueness.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    