
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$ such that $a+b+c=3$, the following inequality holds: $a b c+\\frac{12}{a b+b c+a c} \\geq 5$.

Proof: Let $a, b, c$ be positive real numbers with $a+b+c=3$. To prove $abc + rac{12}{ab+bc+ca} \ge 5$, note that $abc \ge rac{4(ab+bc+ca)}{3} - 3$ for positive $a,b,c$ with sum 3. Setting $X = ab+bc+ca$, the inequality becomes $rac{4X}{3}-3 + rac{12}{X} \ge 5$, which simplifies to $rac{4X}{3} + rac{12}{X} - 8 \ge 0$. Multiplying by $3X$ gives $4(X-3)^2 \ge 0$, which is always true. Hence, $abc + rac{12}{ab+bc+ca} \ge 5$, with equality when $a=b=c=1$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $a, b, c$ be positive real numbers", "statement": "Premise:\n\u2022 $a, b, c$ are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b + c = 3)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization adds an extra constraint 'a + b + c = 3' that is not present in the natural language statement. While the natural language only states that a, b, c are positive real numbers, the Lean version additionally constrains their sum to equal 3, which is a significant mathematical addition not mentioned in the original statement."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization adds an extra constraint 'a + b + c = 3' that is not present in the natural language statement. While the natural language only states that a, b, c are positive real numbers, the Lean version additionally constrains their sum to equal 3, which is a significant mathematical addition not mentioned in the original statement.\"]"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "with $a+b+c=3$", "statement": "Premise:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem condition : \u2200 (a b c : \u211d), 0 < a \u2192 0 < b \u2192 0 < c \u2192 a + b + c = 3 \u2192 \n  a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are real numbers with the type declaration (a b c : \u211d) and that they are positive with the conditions 0 < a, 0 < b, 0 < c", "The Lean formalization exactly matches the condition a + b + c = 3", "The natural language statement explicitly says there are no conclusions derived in this premise step, but the Lean theorem introduces a completely new conclusion about an inequality involving a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 that is not mentioned anywhere in the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that a, b, c are real numbers with the type declaration (a b c : \u211d) and that they are positive with the conditions 0 < a, 0 < b, 0 < c', 'The Lean formalization exactly matches the condition a + b + c = 3', 'The natural language statement explicitly says there are no conclusions derived in this premise step, but the Lean theorem introduces a completely new conclusion about an inequality involving a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 that is not mentioned anywhere in the natural language']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "note that $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ for positive $a,b,c$ with sum 3.", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2].\nTherefore, we conclude:\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3 := by\n  have h_schur : (a + b + c) ^ 3 + 9 * (a * b * c) \u2265 4 * (a + b + c) * (a * b + b * c + c * a) := by\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n      mul_nonneg ha.le hb.le, mul_nonneg hb.le hc.le, mul_nonneg hc.le ha.le,\n      sq_nonneg (a + b - c), sq_nonneg (b + c - a), sq_nonneg (c + a - b),\n      mul_nonneg (sq_nonneg (a - b)) ha.le, mul_nonneg (sq_nonneg (b - c)) ha.le,\n      mul_nonneg (sq_nonneg (c - a)) ha.le, mul_nonneg (sq_nonneg (a - b)) hb.le,\n      mul_nonneg (sq_nonneg (b - c)) hb.le, mul_nonneg (sq_nonneg (c - a)) hb.le,\n      mul_nonneg (sq_nonneg (a - b)) hc.le, mul_nonneg (sq_nonneg (b - c)) hc.le,\n      mul_nonneg (sq_nonneg (c - a)) hc.le]\n  \n  have h_main : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + c * a) := by\n    have h1 : (a + b + c) ^ 3 + 9 * (a * b * c) \u2265 4 * (a + b + c) * (a * b + b * c + c * a) := h_schur\n    have h2 : a + b + c = 3 := h_sum\n    have h3 : (a + b + c) ^ 3 = 27 := by\n      rw [h2]\n      <;> norm_num\n    have h4 : 4 * (a + b + c) * (a * b + b * c + c * a) = 12 * (a * b + b * c + c * a) := by\n      rw [h2]\n      <;> ring\n    have h5 : (a + b + c) ^ 3 + 9 * (a * b * c) = 27 + 9 * (a * b * c) := by\n      rw [h3]\n      <;> ring\n    have h6 : 27 + 9 * (a * b * c) \u2265 12 * (a * b + b * c + c * a) := by\n      linarith\n    have h7 : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + c * a) := by\n      linarith\n    exact h7\n  \n  have h_final : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3 := by\n    have h\u2081 : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + c * a) := h_main\n    have h\u2082 : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3 := by\n      -- Divide both sides by 3 and rearrange to get the desired inequality\n      linarith\n    exact h\u2082\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The positivity constraints for real numbers are correctly captured. Declaring variables as real numbers with separate positivity constraints is equivalent to declaring them as positive reals.", "The sum constraint a + b + c = 3 is translated exactly with correct mathematical notation.", "The main inequality conclusion is perfectly translated. The algebraic expression abc \u2265 4(ab+bc+ca)/3 - 3 matches exactly between natural language and Lean formalization.", "The logical structure correctly captures the theorem format with assumptions leading to a conclusion, matching the 'assume...therefore conclude' pattern in the natural language."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "Setting $X = ab+bc+ca$", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1].\nDefinition:\n\u2022 Let $X = ab+bc+ca$ [def_1].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem condition (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3) \n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3) :\n  a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are positive real numbers through the three positivity conditions", "The sum condition a + b + c = 3 is directly matched in Lean", "The inequality condition abc \u2265 4(ab+bc+ca)/3 - 3 is directly matched in Lean", "The natural language conclusion is a definition X = ab+bc+ca, but the Lean proposition is a completely different inequality a * b * c + 12 / (a * b + b * c + c * a) \u2265 5. This is a fundamental mismatch between what should be concluded."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that a, b, c are positive real numbers through the three positivity conditions', 'The sum condition a + b + c = 3 is directly matched in Lean', 'The inequality condition abc \u2265 4(ab+bc+ca)/3 - 3 is directly matched in Lean', 'The natural language conclusion is a definition X = ab+bc+ca, but the Lean proposition is a completely different inequality a * b * c + 12 / (a * b + b * c + c * a) \u2265 5. This is a fundamental mismatch between what should be concluded.']"}, "type": "definition"}, "l2": {"id": "l2", "natural_language": "Setting $X = ab+bc+ca$, the inequality becomes $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, which simplifies to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$. Multiplying by $3X$ gives $4(X-3)^2 \\ge 0$, which is always true.", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1].\nTherefore, we conclude:\n\u2022 $X > 0$ [l2].", "dependencies": ["tc_1", "tc_2", "l1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3) :\n  a * b + b * c + c * a > 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3) :\n  a * b + b * c + c * a > 0 := by\n  have h_ab_pos : 0 < a * b := by\n    exact mul_pos ha hb\n  \n  have h_bc_pos : 0 < b * c := by\n    exact mul_pos hb hc\n  \n  have h_ca_pos : 0 < c * a := by\n    exact mul_pos hc ha\n  \n  have h_ab_bc_pos : 0 < a * b + b * c := by\n    have h\u2081 : 0 < a * b := h_ab_pos\n    have h\u2082 : 0 < b * c := h_bc_pos\n    -- Since both a*b and b*c are positive, their sum is also positive.\n    linarith\n  \n  have h_main : 0 < a * b + b * c + c * a := by\n    have h\u2081 : 0 < a * b + b * c := h_ab_bc_pos\n    have h\u2082 : 0 < c * a := h_ca_pos\n    -- Since both (a*b + b*c) and c*a are positive, their sum is also positive.\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized with appropriate Lean syntax", "The sum constraint a+b+c=3 is perfectly translated", "The inequality constraint correctly captures the mathematical expression with proper operator precedence and structure", "The definition X = ab+bc+ca is implicitly handled in the conclusion, which is mathematically equivalent", "The conclusion X > 0 is correctly expressed as a * b + b * c + c * a > 0, maintaining the same mathematical meaning"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "To prove $abc + \\frac{12}{ab+bc+ca} \\ge 5$, note that $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ for positive $a,b,c$ with sum 3. Setting $X = ab+bc+ca$, the inequality becomes $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1];\n\u2022 $X > 0$ [l2].\nTherefore, we conclude:\n\u2022 If $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, then $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\n  have h_main : a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\n    have h\u2081 : 0 < a * b + b * c + c * a := by\n      nlinarith [mul_pos ha hb, mul_pos hb hc, mul_pos hc ha]\n    have h\u2082 : a * b * c + 12 / (a * b + b * c + c * a) \u2265 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) := by\n      -- Add 12 / (a * b + b * c + c * a) to both sides of h_ineq\n      have h\u2083 : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3 := h_ineq\n      have h\u2084 : 12 / (a * b + b * c + c * a) = 12 / (a * b + b * c + c * a) := rfl\n      -- Use the fact that adding the same term to both sides preserves the inequality\n      have h\u2085 : a * b * c + 12 / (a * b + b * c + c * a) \u2265 (4 * (a * b + b * c + c * a) / 3 - 3) + 12 / (a * b + b * c + c * a) := by\n        linarith\n      linarith\n    -- Use the given condition h_cond to conclude the proof\n    have h\u2083 : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5 := h_cond\n    linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.83, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "Sum constraint a+b+c=3 is perfectly captured", "The main inequality constraint abc \u2265 4(ab+bc+ca)/3 - 3 is correctly formalized", "The definition X = ab+bc+ca is handled appropriately through direct substitution", "The constraint X > 0 is not explicitly stated as a hypothesis, though it can be derived from the positivity of a, b, c", "The conditional statement is correctly formalized as an implication with proper hypothesis and conclusion"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which simplifies to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$.", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1];\n\u2022 $X > 0$ [l2];\n\u2022 If $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, then $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [l3].\nTherefore, we conclude:\n\u2022 The inequality $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$ is equivalent to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := by\n  have h_main : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) \u2265 8 := by\n    have h\u2081 : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5 := h_cond\n    have h\u2082 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) \u2265 8 := by\n      -- Add 3 to both sides of the given inequality to get the desired form\n      linarith\n    exact h\u2082\n  \n  have h_final : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := by\n    have h\u2081 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) \u2265 8 := h_main\n    -- Subtract 8 from both sides to get the final inequality\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.71, "semantic_feedback": ["The positivity conditions for a, b, c are correctly captured in the Lean formalization as (ha : 0 < a) (hb : 0 < b) (hc : 0 < c).", "The sum constraint a+b+c=3 is correctly represented as (h_sum : a + b + c = 3).", "The inequality abc \u2265 4(ab+bc+ca)/3 - 3 is correctly formalized as (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3).", "The definition X = ab+bc+ca is not explicitly stated as a separate definition in Lean, but the expression (a * b + b * c + c * a) is used consistently throughout, which captures the same mathematical meaning.", "The condition X > 0 is not explicitly stated as a separate hypothesis in Lean, but it's implicitly satisfied given the positivity of a, b, c. This is a minor structural difference but doesn't affect the mathematical content.", "The conditional statement from l3 is correctly captured as the hypothesis h_cond in the Lean formalization.", "The conclusion about the equivalence of inequalities is correctly represented. The Lean formalization shows that given the condition 4X/3-3 + 12/X \u2265 5, we can conclude 4X/3 + 12/X - 8 \u2265 0, which is mathematically equivalent to the natural language statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Multiplying by $3X$ gives $4(X-3)^2 \\ge 0$", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1];\n\u2022 $X > 0$ [l2];\n\u2022 If $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, then $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [l3];\n\u2022 The inequality $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$ is equivalent to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ [l4].\nTherefore, we conclude:\n\u2022 The inequality $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ is equivalent to $4(X-3)^2 \\ge 0$ [l5].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 \u2194 \n  4 * (a * b + b * c + c * a - 3)^2 \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) \n  (h_sum : a + b + c = 3)\n  (h_ineq : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3)\n  (h_cond : 4 * (a * b + b * c + c * a) / 3 - 3 + 12 / (a * b + b * c + c * a) \u2265 5) :\n  4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 \u2194 \n  4 * (a * b + b * c + c * a - 3)^2 \u2265 0 := by\n  have hX_pos : 0 < a * b + b * c + c * a := by\n    nlinarith [mul_pos ha hb, mul_pos hb hc, mul_pos hc ha]\n  \n  have h_main : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) = 4 * (a * b + b * c + c * a - 3)^2 := by\n    have h\u2081 : 0 < a * b + b * c + c * a := hX_pos\n    have h\u2082 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) = 4 * (a * b + b * c + c * a) ^ 2 + 36 - 24 * (a * b + b * c + c * a) := by\n      field_simp [h\u2081.ne']\n      ring\n      <;> field_simp [h\u2081.ne']\n      <;> ring\n    have h\u2083 : 4 * (a * b + b * c + c * a - 3) ^ 2 = 4 * (a * b + b * c + c * a) ^ 2 + 36 - 24 * (a * b + b * c + c * a) := by\n      ring_nf\n      <;>\n      nlinarith\n    linarith\n  \n  have h_final : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 \u2194 4 * (a * b + b * c + c * a - 3)^2 \u2265 0 := by\n    constructor\n    \u00b7 -- Prove the forward direction: if the LHS \u2265 0, then the RHS \u2265 0\n      intro h\n      have h\u2081 : 0 < a * b + b * c + c * a := hX_pos\n      have h\u2082 : 3 * (a * b + b * c + c * a) > 0 := by positivity\n      have h\u2083 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) = 4 * (a * b + b * c + c * a - 3) ^ 2 := h_main\n      have h\u2084 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) \u2265 0 := by\n        have h\u2085 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := h\n        have h\u2086 : 3 * (a * b + b * c + c * a) > 0 := by positivity\n        nlinarith\n      nlinarith\n    \u00b7 -- Prove the reverse direction: if the RHS \u2265 0, then the LHS \u2265 0\n      intro h\n      have h\u2081 : 0 < a * b + b * c + c * a := hX_pos\n      have h\u2082 : 3 * (a * b + b * c + c * a) > 0 := by positivity\n      have h\u2083 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) = 4 * (a * b + b * c + c * a - 3) ^ 2 := h_main\n      have h\u2084 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) \u2265 0 := by\n        nlinarith\n      have h\u2085 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := by\n        have h\u2086 : 0 < 3 * (a * b + b * c + c * a) := by positivity\n        have h\u2087 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) \u2265 0 := h\u2084\n        have h\u2088 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 \u2265 0 := by\n          by_contra h\u2089\n          have h\u2081\u2080 : 4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8 < 0 := by linarith\n          have h\u2081\u2081 : 3 * (a * b + b * c + c * a) * (4 * (a * b + b * c + c * a) / 3 + 12 / (a * b + b * c + c * a) - 8) < 0 := by\n            nlinarith\n          linarith\n        exact h\u2088\n      exact h\u2085\n  \n  apply h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.5, "semantic_feedback": ["Variable declarations and basic assumptions (positivity and sum constraint) are perfectly captured.", "The main inequality constraint is correctly translated from natural language to Lean.", "The definition of X is implicit rather than explicit, and the positivity condition X > 0 is not stated as a hypothesis, though it can be derived.", "The conditional statement structure is partially captured - only the antecedent is present as a hypothesis rather than the full implication.", "The main equivalence being proven is correctly formalized.", "The intermediate equivalence mentioned in the natural language (l4) is not explicitly captured in the Lean formalization."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['Variable declarations and basic assumptions (positivity and sum constraint) are perfectly captured.', 'The main inequality constraint is correctly translated from natural language to Lean.', 'The definition of X is implicit rather than explicit, and the positivity condition X > 0 is not stated as a hypothesis, though it can be derived.', 'The conditional statement structure is partially captured - only the antecedent is present as a hypothesis rather than the full implication.', 'The main equivalence being proven is correctly formalized.', 'The intermediate equivalence mentioned in the natural language (l4) is not explicitly captured in the Lean formalization.']"}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "which is always true.", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1];\n\u2022 $X > 0$ [l2];\n\u2022 If $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, then $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [l3];\n\u2022 The inequality $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$ is equivalent to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ [l4];\n\u2022 The inequality $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ is equivalent to $4(X-3)^2 \\ge 0$ [l5].\nTherefore, we conclude:\n\u2022 $4(X-3)^2 \\ge 0$ [l6].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem main_inequality (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem main_inequality (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n  have hS_pos : 0 < a * b + b * c + a * c := by\n    nlinarith [mul_pos ha hb, mul_pos hb hc, mul_pos ha hc]\n  \n  have h_schur : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + a * c) := by\n    have h\u2081 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * a * b * c \u2265 a ^ 2 * (b + c) + b ^ 2 * (a + c) + c ^ 2 * (a + b) := by\n      nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n        mul_nonneg ha.le hb.le, mul_nonneg hb.le hc.le, mul_nonneg ha.le hc.le,\n        sq_nonneg (a + b + c), sq_nonneg (a + b - c), sq_nonneg (a + c - b),\n        sq_nonneg (b + c - a)]\n    have h\u2082 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a + b + c) * (a * b + b * c + a * c) - 3 * (a * b * c) := by\n      ring\n    have h\u2083 : a ^ 2 * (b + c) + b ^ 2 * (a + c) + c ^ 2 * (a + b) = (a + b + c) * (a * b + b * c + a * c) - 3 * (a * b * c) := by\n      ring\n    have h\u2084 : (a + b + c) = 3 := h_sum\n    have h\u2085 : a ^ 3 + b ^ 3 + c ^ 3 = (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 3 * (a * b * c) := by\n      linarith\n    have h\u2086 : (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 3 * (a * b * c) + 3 * (a * b * c) \u2265 (a + b + c) * (a * b + b * c + a * c) - 3 * (a * b * c) := by\n      nlinarith [h\u2081, h\u2083]\n    have h\u2087 : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + a * c) := by\n      have h\u2088 : (a + b + c) = 3 := h_sum\n      have h\u2089 : (a + b + c) ^ 3 = 27 := by\n        rw [h\u2088]\n        <;> norm_num\n      have h\u2081\u2080 : (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 6 * (a * b * c) \u2265 (a + b + c) * (a * b + b * c + a * c) - 3 * (a * b * c) := by\n        linarith\n      have h\u2081\u2081 : 27 - 3 * 3 * (a * b + b * c + a * c) + 6 * (a * b * c) \u2265 3 * (a * b + b * c + a * c) - 3 * (a * b * c) := by\n        simp [h\u2088] at h\u2081\u2080 \u22a2\n        <;> linarith\n      nlinarith\n    exact h\u2087\n  \n  have h_abc_bound : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := by\n    have h\u2081 : 9 + 3 * (a * b * c) \u2265 4 * (a * b + b * c + a * c) := h_schur\n    -- Rearrange the inequality to solve for abc\n    have h\u2082 : 3 * (a * b * c) \u2265 4 * (a * b + b * c + a * c) - 9 := by linarith\n    -- Divide both sides by 3 to get the final inequality\n    have h\u2083 : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := by\n      linarith\n    exact h\u2083\n  \n  have h_sum_sq : (a * b + b * c + a * c) + 9 / (a * b + b * c + a * c) \u2265 6 := by\n    have h\u2081 : 0 < a * b + b * c + a * c := hS_pos\n    have h\u2082 : 0 < a * b + b * c + a * c := by positivity\n    field_simp [h\u2082.ne']\n    rw [le_div_iff (by positivity)]\n    nlinarith [sq_nonneg (a * b + b * c + a * c - 3), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n  \n  have h_main_ineq : (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 + 12 / (a * b + b * c + a * c) \u2265 5 := by\n    have h\u2081 : 0 < a * b + b * c + a * c := hS_pos\n    have h\u2082 : (a * b + b * c + a * c) + 9 / (a * b + b * c + a * c) \u2265 6 := h_sum_sq\n    have h\u2083 : (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 + 12 / (a * b + b * c + a * c) \u2265 5 := by\n      have h\u2084 : 0 < a * b + b * c + a * c := hS_pos\n      field_simp at h\u2082 \u22a2\n      rw [le_div_iff (by positivity)] at *\n      nlinarith [sq_nonneg (a * b + b * c + a * c - 3)]\n    exact h\u2083\n  \n  have h_final : a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n    have h\u2081 : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := h_abc_bound\n    have h\u2082 : (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 + 12 / (a * b + b * c + a * c) \u2265 5 := h_main_ineq\n    have h\u2083 : 0 < a * b + b * c + a * c := hS_pos\n    have h\u2084 : a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n      calc\n        a * b * c + 12 / (a * b + b * c + a * c) \u2265 ((4 : \u211d) / 3 * (a * b + b * c + a * c) - 3) + 12 / (a * b + b * c + a * c) := by\n          -- Use the given bound for abc to replace abc with a lower bound\n          have h\u2085 : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := h\u2081\n          have h\u2086 : 12 / (a * b + b * c + a * c) \u2265 12 / (a * b + b * c + a * c) := by linarith\n          linarith\n        _ \u2265 5 := by\n          -- Use the given inequality to show that the lower bound is at least 5\n          linarith\n    exact h\u2084\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all the essential mathematical components from the natural language: the variable constraints (positive reals a, b, c), the sum constraint (a + b + c = 3), and the target inequality (abc + 12/(ab+bc+ca) \u2265 5). While the natural language includes detailed proof steps that are not present in the Lean code, the theorem statement itself perfectly represents the mathematical claim being made. The proof steps in the natural language serve as justification but are not part of the core theorem statement that needs to be formalized."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Hence, $abc + \\frac{12}{ab+bc+ca} \\ge 5$", "statement": "We assume:\n\u2022 $a, b, c$ are positive real numbers [tc_1];\n\u2022 $a+b+c=3$ [tc_2];\n\u2022 $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ [l1];\n\u2022 Let $X = ab+bc+ca$ [def_1];\n\u2022 $X > 0$ [l2];\n\u2022 If $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$, then $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [l3];\n\u2022 The inequality $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$ is equivalent to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ [l4];\n\u2022 The inequality $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$ is equivalent to $4(X-3)^2 \\ge 0$ [l5];\n\u2022 $4(X-3)^2 \\ge 0$ [l6].\nTherefore, we conclude:\n\u2022 $abc + \\frac{12}{ab+bc+ca} \\ge 5$ [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 3) :\n  a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n  have hX_pos : 0 < a * b + b * c + a * c := by\n    have h\u2081 : 0 < a * b := mul_pos ha hb\n    have h\u2082 : 0 < b * c := mul_pos hb hc\n    have h\u2083 : 0 < a * c := mul_pos ha hc\n    nlinarith\n  \n  have hX_le_3 : a * b + b * c + a * c \u2264 3 := by\n    have h\u2081 : (a + b + c) ^ 2 = 9 := by\n      rw [h_sum]\n      <;> norm_num\n    have h\u2082 : 0 < a * b + b * c + a * c := hX_pos\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n  \n  have h_schur : a^3 + b^3 + c^3 + 6 * (a * b * c) \u2265 (a + b + c) * (a * b + b * c + a * c) := by\n    nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n      mul_pos ha hb, mul_pos hb hc, mul_pos hc ha, sq_nonneg (a + b - c), sq_nonneg (a + c - b),\n      sq_nonneg (b + c - a)]\n  \n  have h_main : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := by\n    have h\u2081 : a ^ 3 + b ^ 3 + c ^ 3 + 6 * (a * b * c) \u2265 (a + b + c) * (a * b + b * c + a * c) := h_schur\n    have h\u2082 : a + b + c = 3 := h_sum\n    have h\u2083 : a ^ 3 + b ^ 3 + c ^ 3 = (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 3 * (a * b * c) := by\n      ring\n    have h\u2084 : a ^ 3 + b ^ 3 + c ^ 3 + 6 * (a * b * c) = (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 9 * (a * b * c) := by\n      linarith\n    have h\u2085 : (a + b + c) ^ 3 - 3 * (a + b + c) * (a * b + b * c + a * c) + 9 * (a * b * c) \u2265 (a + b + c) * (a * b + b * c + a * c) := by\n      linarith\n    have h\u2086 : (a + b + c) ^ 3 - 4 * (a + b + c) * (a * b + b * c + a * c) + 9 * (a * b * c) \u2265 0 := by\n      linarith\n    have h\u2087 : (a + b + c) ^ 3 - 4 * (a + b + c) * (a * b + b * c + a * c) + 9 * (a * b * c) \u2265 0 := by linarith\n    have h\u2088 : 27 - 4 * 3 * (a * b + b * c + a * c) + 9 * (a * b * c) \u2265 0 := by\n      rw [h\u2082] at h\u2087\n      linarith\n    have h\u2089 : 27 - 12 * (a * b + b * c + a * c) + 9 * (a * b * c) \u2265 0 := by linarith\n    have h\u2081\u2080 : 3 - (4 : \u211d) / 3 * (a * b + b * c + a * c) + a * b * c \u2265 0 := by\n      linarith\n    linarith\n  \n  have h_sq_nonneg : 4 * (a * b + b * c + a * c - 3) ^ 2 \u2265 0 := by\n    have h\u2081 : 0 \u2264 (a * b + b * c + a * c - 3) ^ 2 := sq_nonneg _\n    nlinarith\n  \n  have h_frac_ineq : (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 + 12 / (a * b + b * c + a * c) \u2265 5 := by\n    have h\u2081 : 0 < a * b + b * c + a * c := hX_pos\n    have h\u2082 : 4 * (a * b + b * c + a * c - 3) ^ 2 \u2265 0 := h_sq_nonneg\n    have h\u2083 : 0 < a * b + b * c + a * c := by positivity\n    field_simp [h\u2081.ne']\n    rw [le_div_iff (by positivity)]\n    nlinarith [sq_nonneg (a * b + b * c + a * c - 3), hX_le_3]\n  \n  have h_final : a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n    have h\u2081 : a * b * c \u2265 (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 := h_main\n    have h\u2082 : (4 : \u211d) / 3 * (a * b + b * c + a * c) - 3 + 12 / (a * b + b * c + a * c) \u2265 5 := h_frac_ineq\n    have h\u2083 : 0 < a * b + b * c + a * c := hX_pos\n    have h\u2084 : a * b * c + 12 / (a * b + b * c + a * c) \u2265 5 := by\n      calc\n        a * b * c + 12 / (a * b + b * c + a * c) \u2265 ((4 : \u211d) / 3 * (a * b + b * c + a * c) - 3) + 12 / (a * b + b * c + a * c) := by\n          -- Use the fact that abc \u2265 (4/3)X - 3 to lower bound the expression\n          linarith\n        _ \u2265 5 := by\n          -- Use the previously derived inequality to show the lower bound\n          linarith\n    exact h\u2084\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the main theorem statement including all variables, constraints, and the final conclusion. The mathematical expressions are properly translated (abc becomes a * b * c, ab+bc+ca becomes a * b + b * c + a * c, etc.). However, the natural language explicitly describes intermediate lemmas l1-l6 that build up the proof, while the Lean formalization only states the final theorem with a sorry proof. While this is structurally different, the core mathematical meaning is preserved, and the intermediate steps could be added to complete the proof.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures the main theorem statement including all variables, constraints, and the final conclusion. The mathematical expressions are properly translated (abc becomes a * b * c, ab+bc+ca becomes a * b + b * c + a * c, etc.). However, the natural language explicitly describes intermediate lemmas l1-l6 that build up the proof, while the Lean formalization only states the final theorem with a sorry proof. While this is structurally different, the core mathematical meaning is preserved, and the intermediate steps could be added to complete the proof.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    