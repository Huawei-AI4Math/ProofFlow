
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all $a, b, c > 0$ such that $a + b + c = 1$, the following inequality holds:
$$6\\left(a^{3}+b^{3}+c^{3}\\right)+1 \\geq 5\\left(a^{2}+b^{2}+c^{2}\\right)$$


Proof: Let $a, b, c > 0$ with $a+b+c=1$. Then $a^2+b^2+c^2 = 1 - 2(ab+bc+ca)$ and $a^3+b^3+c^3 = 1 - 3(ab+bc+ca) + 3abc$, so substituting into $6(a^3+b^3+c^3)+1 \ge 5(a^2+b^2+c^2)$ gives $6(1 - 3(ab+bc+ca) + 3abc)+1 \ge 5(1 - 2(ab+bc+ca))$, which simplifies to $1 + 9abc \ge 4(ab+bc+ca)$. Using $(a+b+c)(ab+bc+ca) = a^2b+ab^2+b^2c+bc^2+c^2a+ca^2 + 3abc$ with $a+b+c=1$ shows that $a^2b+ab^2+b^2c+bc^2+c^2a+ca^2 = ab+bc+ca - 3abc \ge 0$, hence $1 - 4(ab+bc+ca) + 9abc \ge 0$, which establishes the inequality.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $a, b, c > 0$", "statement": "Premise:\n\u2022 a, b, and c are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean variable declaration `(a b c : \u211d)` correctly captures that a, b, and c are real numbers, and the condition `tc_1` ensures they are positive, which matches 'positive real numbers'", "The condition `0 < a` in the conjunction `tc_1` perfectly matches the natural language condition `a > 0`", "The condition `0 < b` in the conjunction `tc_1` perfectly matches the natural language condition `b > 0`", "The condition `0 < c` in the conjunction `tc_1` perfectly matches the natural language condition `c > 0`"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "with $a+b+c=1$", "statement": "Premise:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n(tc_2 : a + b + c = 1)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, and c are positive real numbers. The variable declaration establishes them as real numbers, and tc_1 establishes the positivity condition using the conjunction of 0 < a \u2227 0 < b \u2227 0 < c.", "The Lean formalization tc_2 exactly matches the mathematical constraint a + b + c = 1."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Then $a^2+b^2+c^2 = 1 - 2(ab+bc+ca)$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2].\nTherefore, we conclude:\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 \n  (a b c : \u211d) \n  (ha : 0 < a) \n  (hb : 0 < b) \n  (hc : 0 < c) \n  (h_sum : a + b + c = 1) : \n  a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 \n  (a b c : \u211d) \n  (ha : 0 < a) \n  (hb : 0 < b) \n  (hc : 0 < c) \n  (h_sum : a + b + c = 1) : \n  a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a) := by\n  have h_expand : (a + b + c)^2 = a^2 + b^2 + c^2 + 2 * (a * b + b * c + c * a) := by\n    calc\n      (a + b + c)^2 = (a + b + c) * (a + b + c) := by ring\n      _ = a * a + a * b + a * c + b * a + b * b + b * c + c * a + c * b + c * c := by\n        ring\n      _ = a^2 + b^2 + c^2 + 2 * (a * b + b * c + c * a) := by\n        ring\n        <;>\n        (try norm_num) <;>\n        (try linarith)\n  \n  have h_substitute : 1 = a^2 + b^2 + c^2 + 2 * (a * b + b * c + c * a) := by\n    have h\u2081 : (a + b + c) ^ 2 = 1 := by\n      rw [h_sum]\n      <;> norm_num\n    have h\u2082 : (a + b + c) ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) := h_expand\n    linarith\n  \n  have h_rearrange : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a) := by\n    have h\u2081 : 1 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) := h_substitute\n    have h\u2082 : a ^ 2 + b ^ 2 + c ^ 2 = 1 - 2 * (a * b + b * c + c * a) := by\n      linarith\n    exact h\u2082\n  \n  apply h_rearrange", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly capture that a, b, c are positive real numbers through type annotations and positivity constraints", "The sum constraint a + b + c = 1 is translated exactly with appropriate hypothesis naming", "The mathematical expression is correctly formalized with proper Lean notation for exponentiation and explicit multiplication operators"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "and $a^3+b^3+c^3 = 1 - 3(ab+bc+ca) + 3abc$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1].\nTherefore, we conclude:\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a)) :\n  a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a)) :\n  a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := by\n  have h2 : (a + b) * (b + c) * (c + a) = (a + b + c) * (a * b + b * c + c * a) - a * b * c := by\n    have h2\u2081 : (a + b) * (b + c) * (c + a) = (a + b + c) * (a * b + b * c + c * a) - a * b * c := by\n      ring_nf\n      <;>\n      nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n    linarith\n  \n  have h3 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * ((a + b) * (b + c) * (c + a)) := by\n    have h3\u2081 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b) * (b + c) * (c + a)) := by\n      ring_nf\n      <;>\n      nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n    linarith\n  \n  have h4 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) := by\n    have h4\u2081 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) := by\n      calc\n        (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b) * (b + c) * (c + a)) := by rw [h3]\n        _ = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) := by\n          rw [h2]\n          <;> ring_nf\n          <;> nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n    linarith\n  \n  have h5 : 1 = a^3 + b^3 + c^3 + 3 * (1 * (a * b + b * c + c * a) - a * b * c) := by\n    have h5\u2081 : (a + b + c) ^ 3 = 1 := by\n      rw [tc_2]\n      <;> ring_nf\n    have h5\u2082 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) := by\n      rw [h4]\n    have h5\u2083 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) = 1 := by\n      linarith\n    have h5\u2084 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * (1 * (a * b + b * c + c * a) - a * b * c) = 1 := by\n      calc\n        a ^ 3 + b ^ 3 + c ^ 3 + 3 * (1 * (a * b + b * c + c * a) - a * b * c) = a ^ 3 + b ^ 3 + c ^ 3 + 3 * ((a + b + c) * (a * b + b * c + c * a) - a * b * c) := by\n          rw [tc_2]\n          <;> ring_nf\n          <;> nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n        _ = 1 := by linarith\n    linarith\n  \n  have h6 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := by\n    have h6\u2081 : 1 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (1 * (a * b + b * c + c * a) - a * b * c) := h5\n    have h6\u2082 : a ^ 3 + b ^ 3 + c ^ 3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := by\n      have h6\u2083 : 1 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a * b + b * c + c * a) - 3 * (a * b * c) := by\n        calc\n          1 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (1 * (a * b + b * c + c * a) - a * b * c) := h6\u2081\n          _ = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a * b + b * c + c * a) - 3 * (a * b * c) := by ring\n      linarith\n    exact h6\u2082\n  \n  exact h6", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable types and positivity constraints are correctly captured. The Lean formalization properly declares a, b, c as real numbers and includes the positivity conditions using conjunction.", "The sum constraint a + b + c = 1 is exactly preserved in both representations.", "The given identity l1 is correctly formalized. The squared terms (a\u00b2, b\u00b2, c\u00b2) are properly represented as (a^2, b^2, c^2), and the symmetric sum ab + bc + ca is accurately captured with explicit multiplication operators.", "The conclusion l2 is perfectly formalized. The cubed terms and the expression 1 - 3(ab + bc + ca) + 3abc are correctly represented with proper operator precedence and explicit multiplication."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "so substituting into $6(a^3+b^3+c^3)+1 \\geq 5(a^2+b^2+c^2)$ gives $6(1 - 3(ab+bc+ca) + 3abc)+1 \\geq 5(1 - 2(ab+bc+ca))$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2].\nTherefore, we conclude:\n\u2022 The inequality 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2) is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) :\n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n  6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n  5 * (1 - 2 * (a * b + b * c + c * a)) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) :\n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n  6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n  5 * (1 - 2 * (a * b + b * c + c * a)) := by\n  have h3 : 6 * (a^3 + b^3 + c^3) + 1 = 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 := by\n    calc\n      6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 = 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 := by\n        rw [l2]\n        <;> ring_nf\n        <;>\n        (try norm_num) <;>\n        (try linarith)\n      _ = 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 := by rfl\n  \n  have h4 : 5 * (a^2 + b^2 + c^2) = 5 * (1 - 2 * (a * b + b * c + c * a)) := by\n    calc\n      5 * (a ^ 2 + b ^ 2 + c ^ 2) = 5 * (1 - 2 * (a * b + b * c + c * a)) := by\n        rw [l1]\n        <;> ring_nf\n        <;>\n        (try norm_num) <;>\n        (try linarith)\n      _ = 5 * (1 - 2 * (a * b + b * c + c * a)) := by rfl\n  \n  have h_main : (6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2)) \u2194 (6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 5 * (1 - 2 * (a * b + b * c + c * a))) := by\n    constructor\n    \u00b7 -- Prove the forward direction: if 6*(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5*(a\u00b2 + b\u00b2 + c\u00b2), then 6*(1 - 3*(ab + bc + ca) + 3abc) + 1 \u2265 5*(1 - 2*(ab + bc + ca))\n      intro h\n      have h\u2085 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 \u2265 5 * (a ^ 2 + b ^ 2 + c ^ 2) := h\n      have h\u2086 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 = 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 := h3\n      have h\u2087 : 5 * (a ^ 2 + b ^ 2 + c ^ 2) = 5 * (1 - 2 * (a * b + b * c + c * a)) := h4\n      -- Substitute the equalities into the inequality to get the desired form\n      linarith\n    \u00b7 -- Prove the backward direction: if 6*(1 - 3*(ab + bc + ca) + 3abc) + 1 \u2265 5*(1 - 2*(ab + bc + ca)), then 6*(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5*(a\u00b2 + b\u00b2 + c\u00b2)\n      intro h\n      have h\u2085 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 5 * (1 - 2 * (a * b + b * c + c * a)) := h\n      have h\u2086 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 = 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 := h3\n      have h\u2087 : 5 * (a ^ 2 + b ^ 2 + c ^ 2) = 5 * (1 - 2 * (a * b + b * c + c * a)) := h4\n      -- Substitute the equalities into the inequality to get the desired form\n      linarith\n  \n  -- The main statement follows directly from h_main\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization completely and accurately captures all components of the natural language statement. The variable declarations, positivity constraints, mathematical identities, and the main equivalence statement are all correctly translated. The logical structure is preserved, and the mathematical notation is appropriately converted to Lean syntax."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which simplifies to $1 + 9abc \\ge 4(ab+bc+ca)$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2];\n\u2022 The original inequality is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3].\nTherefore, we conclude:\n\u2022 The inequality 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) is equivalent to 1 + 9abc \u2265 4(ab + bc + ca) [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1) :\n  6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n  5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n  1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1) :\n  6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n  5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n  1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := by\n  have h_main : (6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 5 * (1 - 2 * (a * b + b * c + c * a))) \u2194 (1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a)) := by\n    constructor\n    \u00b7 -- Prove the forward direction: LHS inequality implies RHS inequality\n      intro h\n      have h\u2081 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 = 7 - 18 * (a * b + b * c + c * a) + 18 * a * b * c := by\n        ring\n      have h\u2082 : 5 * (1 - 2 * (a * b + b * c + c * a)) = 5 - 10 * (a * b + b * c + c * a) := by\n        ring\n      rw [h\u2081, h\u2082] at h\n      have h\u2083 : 7 - 18 * (a * b + b * c + c * a) + 18 * a * b * c \u2265 5 - 10 * (a * b + b * c + c * a) := by linarith\n      have h\u2084 : 2 - 8 * (a * b + b * c + c * a) + 18 * a * b * c \u2265 0 := by linarith\n      have h\u2085 : 1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := by\n        nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n      exact h\u2085\n    \u00b7 -- Prove the reverse direction: RHS inequality implies LHS inequality\n      intro h\n      have h\u2081 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 = 7 - 18 * (a * b + b * c + c * a) + 18 * a * b * c := by\n        ring\n      have h\u2082 : 5 * (1 - 2 * (a * b + b * c + c * a)) = 5 - 10 * (a * b + b * c + c * a) := by\n        ring\n      rw [h\u2081, h\u2082]\n      have h\u2083 : 1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := h\n      have h\u2084 : 2 - 8 * (a * b + b * c + c * a) + 18 * a * b * c \u2265 0 := by\n        nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n      linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The variable declarations and basic constraints (positivity and sum condition) are correctly captured in the Lean formalization.", "The mathematical identities l1 and l2 mentioned in the natural language are completely missing from the Lean formalization. These appear to be important algebraic relationships that provide context.", "The equivalence statement l3 that establishes the connection to the original inequality is not present in the Lean code, though this may be acceptable if l4 is the main focus.", "The main theorem l4 is perfectly captured as a biconditional statement, correctly expressing the equivalence between the two inequalities.", "The mathematical notation and expressions are accurately translated from natural language to Lean syntax, with proper operator precedence and grouping."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The variable declarations and basic constraints (positivity and sum condition) are correctly captured in the Lean formalization.', 'The mathematical identities l1 and l2 mentioned in the natural language are completely missing from the Lean formalization. These appear to be important algebraic relationships that provide context.', 'The equivalence statement l3 that establishes the connection to the original inequality is not present in the Lean code, though this may be acceptable if l4 is the main focus.', 'The main theorem l4 is perfectly captured as a biconditional statement, correctly expressing the equivalence between the two inequalities.', 'The mathematical notation and expressions are accurately translated from natural language to Lean syntax, with proper operator precedence and grouping.']"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Using $(a+b+c)(ab+bc+ca) = a^2b+ab^2+b^2c+bc^2+c^2a+ca^2 + 3abc$ with $a+b+c=1$ shows that $a^2b+ab^2+b^2c+bc^2+c^2a+ca^2 = ab+bc+ca - 3abc$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2];\n\u2022 The original inequality is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3];\n\u2022 The latter inequality is equivalent to 1 + 9abc \u2265 4(ab + bc + ca) [l4].\nTherefore, we conclude:\n\u2022 a\u00b2b + ab\u00b2 + b\u00b2c + bc\u00b2 + c\u00b2a + ca\u00b2 = ab + bc + ca - 3abc [l5].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem main_inequality \n  (a b c : \u211d) \n  (ha : 0 < a) \n  (hb : 0 < b) \n  (hc : 0 < c) \n  (h_sum : a + b + c = 1) : \n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem main_inequality \n  (a b c : \u211d) \n  (ha : 0 < a) \n  (hb : 0 < b) \n  (hc : 0 < c) \n  (h_sum : a + b + c = 1) : \n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by\n  have h_schur : a^3 + b^3 + c^3 + 3*a*b*c \u2265 a^2*b + a^2*c + b^2*a + b^2*c + c^2*a + c^2*b := by\n    nlinarith [sq_nonneg (a + b + c), sq_nonneg (a - b), sq_nonneg (a - c), sq_nonneg (b - c),\n      mul_nonneg ha.le hb.le, mul_nonneg ha.le hc.le, mul_nonneg hb.le hc.le,\n      mul_nonneg (sq_nonneg (a - b)) ha.le, mul_nonneg (sq_nonneg (a - c)) ha.le,\n      mul_nonneg (sq_nonneg (b - c)) ha.le, mul_nonneg (sq_nonneg (a - b)) hb.le,\n      mul_nonneg (sq_nonneg (a - c)) hb.le, mul_nonneg (sq_nonneg (b - c)) hb.le,\n      mul_nonneg (sq_nonneg (a - b)) hc.le, mul_nonneg (sq_nonneg (a - c)) hc.le,\n      mul_nonneg (sq_nonneg (b - c)) hc.le]\n  \n  have h_identity : a^2*b + a^2*c + b^2*a + b^2*c + c^2*a + c^2*b = (a + b + c)*(a*b + b*c + c*a) - 3*a*b*c := by\n    have h1 : (a + b + c) * (a * b + b * c + c * a) = a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b + 3 * a * b * c := by\n      ring\n    linarith\n  \n  have h_schur_strong : a^3 + b^3 + c^3 + 6*a*b*c \u2265 (a + b + c)*(a*b + b*c + c*a) := by\n    have h\u2081 : a^3 + b^3 + c^3 + 6*a*b*c = (a^3 + b^3 + c^3 + 3*a*b*c) + 3*a*b*c := by ring\n    rw [h\u2081]\n    have h\u2082 : (a^3 + b^3 + c^3 + 3*a*b*c) \u2265 a^2*b + a^2*c + b^2*a + b^2*c + c^2*a + c^2*b := h_schur\n    have h\u2083 : a^2*b + a^2*c + b^2*a + b^2*c + c^2*a + c^2*b = (a + b + c)*(a*b + b*c + c*a) - 3*a*b*c := h_identity\n    nlinarith [mul_pos ha hb, mul_pos ha hc, mul_pos hb hc]\n  \n  have h_sum_cubes : a^3 + b^3 + c^3 = 1 - 3*(a*b + b*c + c*a) + 3*a*b*c := by\n    have h1 : (a + b + c) ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) := by\n      ring\n    have h2 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a + b + c) * (a * b + b * c + c * a) - 3 * a * b * c := by\n      ring\n    have h3 : a + b + c = 1 := h_sum\n    have h4 : (a + b + c) ^ 3 = 1 := by\n      rw [h3]\n      <;> norm_num\n    have h5 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a + b + c) * (a * b + b * c + c * a) - 3 * a * b * c = 1 := by\n      linarith\n    have h6 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * 1 * (a * b + b * c + c * a) - 3 * a * b * c = 1 := by\n      rw [h3] at h5\n      linarith\n    have h7 : a ^ 3 + b ^ 3 + c ^ 3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := by\n      linarith\n    linarith\n  \n  have h_main_ineq : 1 + 9*a*b*c \u2265 4*(a*b + b*c + c*a) := by\n    have h\u2081 : a ^ 3 + b ^ 3 + c ^ 3 + 6 * a * b * c \u2265 (a + b + c) * (a * b + b * c + c * a) := h_schur_strong\n    have h\u2082 : a ^ 3 + b ^ 3 + c ^ 3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := h_sum_cubes\n    have h\u2083 : a + b + c = 1 := h_sum\n    have h\u2084 : 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c + 6 * a * b * c \u2265 (a + b + c) * (a * b + b * c + c * a) := by\n      linarith\n    have h\u2085 : 1 - 3 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 (a + b + c) * (a * b + b * c + c * a) := by\n      linarith\n    have h\u2086 : 1 - 3 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 1 * (a * b + b * c + c * a) := by\n      calc\n        1 - 3 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 (a + b + c) * (a * b + b * c + c * a) := h\u2085\n        _ = 1 * (a * b + b * c + c * a) := by rw [h\u2083]\n        _ = 1 * (a * b + b * c + c * a) := by ring\n    have h\u2087 : 1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := by\n      linarith\n    linarith\n  \n  have h_final : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by\n    have h\u2081 : a ^ 2 + b ^ 2 + c ^ 2 = 1 - 2 * (a * b + b * c + c * a) := by\n      have h\u2081\u2081 : (a + b + c) ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) := by ring\n      rw [h_sum] at h\u2081\u2081\n      nlinarith\n    have h\u2082 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 = 7 - 18 * (a * b + b * c + c * a) + 18 * a * b * c := by\n      have h\u2082\u2081 : a ^ 3 + b ^ 3 + c ^ 3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := h_sum_cubes\n      rw [h\u2082\u2081]\n      ring_nf\n      <;> nlinarith\n    have h\u2083 : 5 * (a ^ 2 + b ^ 2 + c ^ 2) = 5 - 10 * (a * b + b * c + c * a) := by\n      rw [h\u2081]\n      <;> ring_nf\n      <;> nlinarith\n    have h\u2084 : 1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a) := h_main_ineq\n    nlinarith [mul_pos ha hb, mul_pos ha hc, mul_pos hb hc]\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The main theorem statement in Lean perfectly captures the final inequality 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2) along with all the necessary assumptions about positive real numbers a, b, c with sum equal to 1.", "The Lean formalization is missing all the intermediate mathematical content from the natural language, including the algebraic identities l1, l2, l5 (such as a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca)) and the equivalence transformations l3, l4. These represent key logical components of the mathematical argument that are completely absent from the formalization."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The main theorem statement in Lean perfectly captures the final inequality 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2) along with all the necessary assumptions about positive real numbers a, b, c with sum equal to 1.', 'The Lean formalization is missing all the intermediate mathematical content from the natural language, including the algebraic identities l1, l2, l5 (such as a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca)) and the equivalence transformations l3, l4. These represent key logical components of the mathematical argument that are completely absent from the formalization.']"}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "$a^2b+ab^2+b^2c+bc^2+c^2a+ca^2 = ab+bc+ca - 3abc \\ge 0$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2];\n\u2022 The original inequality is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3];\n\u2022 The latter inequality is equivalent to 1 + 9abc \u2265 4(ab + bc + ca) [l4];\n\u2022 a\u00b2b + ab\u00b2 + b\u00b2c + bc\u00b2 + c\u00b2a + ca\u00b2 = ab + bc + ca - 3abc [l5].\nTherefore, we conclude:\n\u2022 ab + bc + ca - 3abc \u2265 0 [l6].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c)\n  (l3 : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n        6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)))\n  (l4 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n        1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a))\n  (l5 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = \n        a * b + b * c + c * a - 3 * a * b * c) :\n  a * b + b * c + c * a - 3 * a * b * c \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c)\n  (l3 : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n        6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)))\n  (l4 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n        1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a))\n  (l5 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = \n        a * b + b * c + c * a - 3 * a * b * c) :\n  a * b + b * c + c * a - 3 * a * b * c \u2265 0 := by\n  have h\u2081 : 0 < a^2 * b := by\n    have h\u2081\u2081 : 0 < a := by linarith\n    have h\u2081\u2082 : 0 < a^2 := by positivity\n    have h\u2081\u2083 : 0 < b := by linarith\n    have h\u2081\u2084 : 0 < a^2 * b := by positivity\n    exact h\u2081\u2084\n  \n  have h\u2082 : 0 < a * b^2 := by\n    have h\u2082\u2081 : 0 < a := by linarith\n    have h\u2082\u2082 : 0 < b := by linarith\n    have h\u2082\u2083 : 0 < b ^ 2 := by positivity\n    have h\u2082\u2084 : 0 < a * b ^ 2 := by positivity\n    exact h\u2082\u2084\n  \n  have h\u2083 : 0 < b^2 * c := by\n    have h\u2083\u2081 : 0 < b := by linarith\n    have h\u2083\u2082 : 0 < b^2 := by positivity\n    have h\u2083\u2083 : 0 < c := by linarith\n    have h\u2083\u2084 : 0 < b^2 * c := by positivity\n    exact h\u2083\u2084\n  \n  have h\u2084 : 0 < b * c^2 := by\n    have h\u2084\u2081 : 0 < b := by linarith\n    have h\u2084\u2082 : 0 < c := by linarith\n    have h\u2084\u2083 : 0 < c ^ 2 := by positivity\n    have h\u2084\u2084 : 0 < b * c ^ 2 := by positivity\n    exact h\u2084\u2084\n  \n  have h\u2085 : 0 < c^2 * a := by\n    have h\u2085\u2081 : 0 < c := by linarith\n    have h\u2085\u2082 : 0 < c ^ 2 := by positivity\n    have h\u2085\u2083 : 0 < a := by linarith\n    have h\u2085\u2084 : 0 < c ^ 2 * a := by positivity\n    exact h\u2085\u2084\n  \n  have h\u2086 : 0 < c * a^2 := by\n    have h\u2086\u2081 : 0 < c := by linarith\n    have h\u2086\u2082 : 0 < a := by linarith\n    have h\u2086\u2083 : 0 < a ^ 2 := by positivity\n    have h\u2086\u2084 : 0 < c * a ^ 2 := by positivity\n    exact h\u2086\u2084\n  \n  have h\u2087 : 0 < a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 := by\n    have h\u2087\u2081 : 0 < a^2 * b := h\u2081\n    have h\u2087\u2082 : 0 < a * b^2 := h\u2082\n    have h\u2087\u2083 : 0 < b^2 * c := h\u2083\n    have h\u2087\u2084 : 0 < b * c^2 := h\u2084\n    have h\u2087\u2085 : 0 < c^2 * a := h\u2085\n    have h\u2087\u2086 : 0 < c * a^2 := h\u2086\n    -- Sum of positive numbers is positive\n    have h\u2087\u2087 : 0 < a^2 * b + a * b^2 := by linarith\n    have h\u2087\u2088 : 0 < a^2 * b + a * b^2 + b^2 * c := by linarith\n    have h\u2087\u2089 : 0 < a^2 * b + a * b^2 + b^2 * c + b * c^2 := by linarith\n    have h\u2088\u2080 : 0 < a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a := by linarith\n    have h\u2088\u2081 : 0 < a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 := by linarith\n    exact h\u2088\u2081\n  \n  have h\u2088 : a * b + b * c + c * a - 3 * a * b * c > 0 := by\n    have h\u2088\u2081 : a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2 = a * b + b * c + c * a - 3 * a * b * c := l5\n    have h\u2088\u2082 : 0 < a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2 := h\u2087\n    linarith\n  \n  have h\u2089 : a * b + b * c + c * a - 3 * a * b * c \u2265 0 := by\n    linarith\n  \n  exact h\u2089", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.88, "semantic_feedback": ["The positivity conditions for a, b, c are correctly captured with the conjunction of inequalities.", "The constraint a + b + c = 1 is perfectly translated.", "The identity for sum of squares is correctly formalized.", "The identity for sum of cubes is correctly formalized.", "The natural language refers to 'the original inequality' without explicitly stating it, while the Lean code assumes a specific form. The logical structure is preserved but there's ambiguity about what the original inequality is.", "The equivalence between the two inequality forms is correctly represented as a biconditional.", "The identity involving the sum of products a\u00b2b + ab\u00b2 + ... is perfectly captured.", "The final conclusion ab + bc + ca - 3abc \u2265 0 is correctly stated as the theorem goal."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "hence $1 - 4(ab+bc+ca) + 9abc \\ge 0$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2];\n\u2022 The original inequality is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3];\n\u2022 The latter inequality is equivalent to 1 + 9abc \u2265 4(ab + bc + ca) [l4];\n\u2022 a\u00b2b + ab\u00b2 + b\u00b2c + bc\u00b2 + c\u00b2a + ca\u00b2 = ab + bc + ca - 3abc [l5];\n\u2022 ab + bc + ca - 3abc \u2265 0 [l6].\nTherefore, we conclude:\n\u2022 1 - 4(ab + bc + ca) + 9abc \u2265 0 [l7].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c)\n  (l3 : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n        6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)))\n  (l4 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n        1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a))\n  (l5 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = \n        a * b + b * c + c * a - 3 * a * b * c)\n  (l6 : a * b + b * c + c * a - 3 * a * b * c \u2265 0) :\n  1 - 4 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (tc_2 : a + b + c = 1)\n  (l1 : a^2 + b^2 + c^2 = 1 - 2 * (a * b + b * c + c * a))\n  (l2 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c)\n  (l3 : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) \u2194 \n        6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)))\n  (l4 : 6 * (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 1 \u2265 \n        5 * (1 - 2 * (a * b + b * c + c * a)) \u2194 \n        1 + 9 * a * b * c \u2265 4 * (a * b + b * c + c * a))\n  (l5 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = \n        a * b + b * c + c * a - 3 * a * b * c)\n  (l6 : a * b + b * c + c * a - 3 * a * b * c \u2265 0) :\n  1 - 4 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 0 := by\n  have h_sq_nonneg : a^2 + b^2 + c^2 - a * b - b * c - c * a \u2265 0 := by\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]\n  \n  have h_sum_pos : a + b + c > 0 := by\n    linarith [tc_1.1, tc_1.2.1, tc_1.2.2]\n  \n  have h_schur : a^3 + b^3 + c^3 + 3 * a * b * c \u2265 a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b := by\n    nlinarith [sq_nonneg (a + b - c), sq_nonneg (a + c - b), sq_nonneg (b + c - a),\n      mul_nonneg tc_1.1.le tc_1.2.1.le, mul_nonneg tc_1.2.1.le tc_1.2.2.le,\n      mul_nonneg tc_1.1.le tc_1.2.2.le, sq_nonneg (a - b), sq_nonneg (a - c),\n      sq_nonneg (b - c), mul_pos tc_1.1 tc_1.2.1, mul_pos tc_1.2.1 tc_1.2.2,\n      mul_pos tc_1.1 tc_1.2.2]\n  \n  have h_sum_eq : a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b = a * b + b * c + c * a - 3 * a * b * c := by\n    have h\u2081 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = a * b + b * c + c * a - 3 * a * b * c := l5\n    have h\u2082 : a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b = a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 := by\n      ring\n    linarith\n  \n  have h_main_ineq : a^3 + b^3 + c^3 + 6 * a * b * c \u2265 a * b + b * c + c * a := by\n    have h\u2081 : a^3 + b^3 + c^3 + 3 * a * b * c \u2265 a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b := h_schur\n    have h\u2082 : a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b = a * b + b * c + c * a - 3 * a * b * c := h_sum_eq\n    have h\u2083 : a^3 + b^3 + c^3 + 3 * a * b * c \u2265 a * b + b * c + c * a - 3 * a * b * c := by linarith\n    linarith\n  \n  have h_substitute : 1 - 3 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 a * b + b * c + c * a := by\n    have h\u2081 : a^3 + b^3 + c^3 + 6 * a * b * c \u2265 a * b + b * c + c * a := h_main_ineq\n    have h\u2082 : a^3 + b^3 + c^3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := l2\n    have h\u2083 : (1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c) + 6 * a * b * c \u2265 a * b + b * c + c * a := by\n      linarith\n    linarith\n  \n  have h_final : 1 - 4 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 0 := by\n    have h\u2081 : 1 - 3 * (a * b + b * c + c * a) + 9 * a * b * c \u2265 a * b + b * c + c * a := h_substitute\n    nlinarith [mul_pos tc_1.1 tc_1.2.1, mul_pos tc_1.2.1 tc_1.2.2, mul_pos tc_1.1 tc_1.2.2]\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 0.89, "semantic_feedback": ["The positivity conditions for a, b, c are correctly captured using conjunction of inequalities", "The constraint a + b + c = 1 is perfectly translated", "The identity for sum of squares is correctly formalized", "The identity for sum of cubes is correctly formalized", "The natural language refers to 'the original inequality' without explicitly stating it, while the Lean formalization assumes it to be 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2). The mathematical content is consistent but the reference is implicit in natural language", "The equivalence statement is correctly captured as a biconditional", "The symmetric polynomial identity is perfectly translated", "The inequality constraint is correctly formalized", "The final conclusion matches exactly between natural language and Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "which establishes the inequality.", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 a + b + c = 1 [tc_2];\n\u2022 a\u00b2 + b\u00b2 + c\u00b2 = 1 - 2(ab + bc + ca) [l1];\n\u2022 a\u00b3 + b\u00b3 + c\u00b3 = 1 - 3(ab + bc + ca) + 3abc [l2];\n\u2022 The inequality 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2) is equivalent to 6(1 - 3(ab + bc + ca) + 3abc) + 1 \u2265 5(1 - 2(ab + bc + ca)) [l3];\n\u2022 The latter inequality is equivalent to 1 + 9abc \u2265 4(ab + bc + ca) [l4];\n\u2022 1 - 4(ab + bc + ca) + 9abc \u2265 0 [l7].\nTherefore, we conclude:\n\u2022 6(a\u00b3 + b\u00b3 + c\u00b3) + 1 \u2265 5(a\u00b2 + b\u00b2 + c\u00b2) [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 1) : \n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b c : \u211d) (ha : 0 < a) (hb : 0 < b) (hc : 0 < c) (h_sum : a + b + c = 1) : \n  6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by\n  have h_sum_sq : a^2 + b^2 + c^2 = 1 - 2 * (a*b + b*c + c*a) := by\n    have h1 : (a + b + c) ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) := by\n      ring\n    rw [h_sum] at h1\n    have h2 : a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a) = 1 := by linarith\n    linarith\n  \n  have h_sum_cube : a^3 + b^3 + c^3 = 1 - 3 * (a*b + b*c + c*a) + 3 * a*b*c := by\n    have h1 : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a + b + c) * (a * b + b * c + c * a) - 3 * a * b * c := by\n      ring\n    rw [h_sum] at h1\n    have h2 : a ^ 3 + b ^ 3 + c ^ 3 + 3 * (1 : \u211d) * (a * b + b * c + c * a) - 3 * a * b * c = 1 := by linarith\n    linarith\n  \n  have h_main_ineq : 2 - 8 * (a*b + b*c + c*a) + 18 * a*b*c \u2265 0 := by\n    have h\u2081 : 0 < a * b * c := mul_pos (mul_pos ha hb) hc\n    have h\u2082 : 0 < a * b := mul_pos ha hb\n    have h\u2083 : 0 < b * c := mul_pos hb hc\n    have h\u2084 : 0 < c * a := mul_pos hc ha\n    have h\u2085 : (a + b + c) ^ 2 = 1 := by\n      rw [h_sum]\n      <;> ring\n    have h\u2086 : 0 < a * b * c := by positivity\n    -- Use nlinarith to handle the inequality by considering squares and known inequalities\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n      sq_nonneg (a + b + c), sq_nonneg (a + b - 2 * c), sq_nonneg (b + c - 2 * a),\n      sq_nonneg (c + a - 2 * b)]\n  \n  have h_final : 6 * (a^3 + b^3 + c^3) + 1 \u2265 5 * (a^2 + b^2 + c^2) := by\n    have h\u2081 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 - 5 * (a ^ 2 + b ^ 2 + c ^ 2) \u2265 0 := by\n      have h\u2082 : 6 * (a ^ 3 + b ^ 3 + c ^ 3) + 1 - 5 * (a ^ 2 + b ^ 2 + c ^ 2) = 2 - 8 * (a * b + b * c + c * a) + 18 * a * b * c := by\n        have h\u2083 : a ^ 2 + b ^ 2 + c ^ 2 = 1 - 2 * (a * b + b * c + c * a) := h_sum_sq\n        have h\u2084 : a ^ 3 + b ^ 3 + c ^ 3 = 1 - 3 * (a * b + b * c + c * a) + 3 * a * b * c := h_sum_cube\n        rw [h\u2084, h\u2083]\n        ring\n      rw [h\u2082]\n      linarith\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["The variable declarations and basic constraints (positivity of a, b, c and their sum equals 1) are perfectly captured in the Lean formalization.", "The Lean formalization completely omits all the intermediate mathematical relationships (l1, l2, l3, l4, l7) that are explicitly stated in the natural language. These are key logical components that establish the mathematical framework for the proof.", "The final inequality statement is perfectly translated from natural language to Lean notation.", "The natural language describes a complete logical argument with intermediate steps, while the Lean formalization provides only the theorem statement with an incomplete proof (sorry). The mathematical reasoning chain is entirely missing.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The variable declarations and basic constraints (positivity of a, b, c and their sum equals 1) are perfectly captured in the Lean formalization.', 'The Lean formalization completely omits all the intermediate mathematical relationships (l1, l2, l3, l4, l7) that are explicitly stated in the natural language. These are key logical components that establish the mathematical framework for the proof.', 'The final inequality statement is perfectly translated from natural language to Lean notation.', 'The natural language describes a complete logical argument with intermediate steps, while the Lean formalization provides only the theorem statement with an incomplete proof (sorry). The mathematical reasoning chain is entirely missing.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    