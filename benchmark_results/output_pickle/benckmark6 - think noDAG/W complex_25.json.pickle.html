
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z$ be a complex number. If $z$ is represented as $z=x+iy$ for real numbers $x, y$, $z \bar{z} = 25$, $\operatorname{Re}(z) + \operatorname{Im}(z) = 7$, and $\operatorname{Re}(z) < \operatorname{Im}(z)$, then $z = 3+4i$.

Proof: From the condition $z \bar{z} = 25$ and the representation $z=x+iy$, we derive the equation $x^2+y^2=25$. From the condition $\operatorname{Re}(z) + \operatorname{Im}(z) = 7$, we derive the equation $x+y=7$. Substituting $y=7-x$ from the second equation into the first gives $x^2 + (7-x)^2 = 25$, which simplifies to $x^2 - 7x + 12 = 0$. This quadratic equation for $x$ has solutions $x=3$ and $x=4$, leading to two possible candidates for $z$: $3+4i$ and $4+3i$. The final condition $\operatorname{Re}(z) < \operatorname{Im}(z)$ is satisfied only by $z=3+4i$, which is therefore the solution.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $z$ be a complex number. If $z$ is represented as $z=x+iy$ for real numbers $x, y$", "statement": "Premise:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102) (x y : \u211d)\n(tc_1 : z = x + y * I)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration `(z : \u2102)` correctly captures that z is a complex number", "The Lean constraint `(tc_1 : z = x + y * I)` correctly represents z = x + iy, where `I` is the standard notation for the imaginary unit in Lean", "The Lean declaration `(x y : \u211d)` correctly specifies that x is a real number", "The Lean declaration `(x y : \u211d)` correctly specifies that y is a real number"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "$z \\bar{z} = 25$", "statement": "Premise:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  \u2200 (z : \u2102) (x y : \u211d),\n  z = x + y * I \u2192\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  z = 3 + 4 * I := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The representation z = x + y * I in Lean is equivalent to z = x + iy in the natural language, just using different notation for the imaginary unit", "Complex.normSq z = 25 is mathematically equivalent to z * z.conj = 25, as Complex.normSq is defined as the product of a complex number with its conjugate", "The Lean theorem introduces an additional condition z.re + z.im = 7 that is completely absent from the natural language statement", "The Lean theorem introduces an additional condition z.re < z.im that is completely absent from the natural language statement", "The natural language explicitly states there are no conclusions/derived facts, but the Lean theorem concludes z = 3 + 4 * I, which is a major logical inconsistency"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The representation z = x + y * I in Lean is equivalent to z = x + iy in the natural language, just using different notation for the imaginary unit', 'Complex.normSq z = 25 is mathematically equivalent to z * z.conj = 25, as Complex.normSq is defined as the product of a complex number with its conjugate', 'The Lean theorem introduces an additional condition z.re + z.im = 7 that is completely absent from the natural language statement', 'The Lean theorem introduces an additional condition z.re < z.im that is completely absent from the natural language statement', 'The natural language explicitly states there are no conclusions/derived facts, but the Lean theorem concludes z = 3 + 4 * I, which is a major logical inconsistency']"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "$\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$", "statement": "Premise:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  \u2200 (z : \u2102) (x y : \u211d),\n  z = x + y * Complex.I \u2192\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that z is a complex number represented as x + iy where x and y are real numbers", "Complex.normSq z = 25 is equivalent to z * z\u0304 = 25, as the norm squared of a complex number equals the product of the number and its conjugate", "z.re + z.im = 7 directly matches Re(z) + Im(z) = 7", "The Lean formalization introduces an additional condition 'z.re < z.im' and a conclusion 'z = 3 + 4 * Complex.I' that are not present in the natural language statement, which only states premises without any conclusions"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that z is a complex number represented as x + iy where x and y are real numbers', 'Complex.normSq z = 25 is equivalent to z * z\u0304 = 25, as the norm squared of a complex number equals the product of the number and its conjugate', 'z.re + z.im = 7 directly matches Re(z) + Im(z) = 7', \"The Lean formalization introduces an additional condition 'z.re < z.im' and a conclusion 'z = 3 + 4 * Complex.I' that are not present in the natural language statement, which only states premises without any conclusions\"]"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "$\\operatorname{Re}(z) < \\operatorname{Im}(z)$", "statement": "Premise:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  \u2200 (z : \u2102),\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly declares z as a complex number, which implicitly includes the representation as x + iy with real components", "Complex.normSq z = 25 is equivalent to z * z\u0304 = 25, as the norm squared of a complex number is defined as the product of the number and its conjugate", "z.re + z.im = 7 directly matches Re(z) + Im(z) = 7", "z.re < z.im directly matches Re(z) < Im(z)", "The natural language states there are no conclusions derived yet, but the Lean theorem provides a specific conclusion z = 3 + 4 * Complex.I. This introduces a mathematical claim not present in the natural language statement"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly declares z as a complex number, which implicitly includes the representation as x + iy with real components', 'Complex.normSq z = 25 is equivalent to z * z\u0304 = 25, as the norm squared of a complex number is defined as the product of the number and its conjugate', 'z.re + z.im = 7 directly matches Re(z) + Im(z) = 7', 'z.re < z.im directly matches Re(z) < Im(z)', 'The natural language states there are no conclusions derived yet, but the Lean theorem provides a specific conclusion z = 3 + 4 * Complex.I. This introduces a mathematical claim not present in the natural language statement']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "From the condition $z \\bar{z} = 25$ and the representation $z=x+iy$, we derive the equation $x^2+y^2=25$.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4].\nTherefore, we conclude:\n\u2022 x^2 + y^2 = 25 [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  \u2200 (z : \u2102),\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  Complex.normSq z = 25 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  \u2200 (z : \u2102),\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  Complex.normSq z = 25 := by\n  intro z h\u2081 h\u2082\n  have h\u2083 : z.re * z.re + z.im * z.im = 25 := by\n    have h\u2084 : (z.re + z.im) ^ 2 = 49 := by\n      rw [h\u2081]\n      <;> norm_num\n    have h\u2085 : z.re < z.im := h\u2082\n    nlinarith [sq_nonneg (z.re - z.im)]\n  simp_all [Complex.normSq_apply]\n  <;> nlinarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 4, "endLine": 18, "endColumn": 39, "data": "linarith failed to find a contradiction\ncase h1.h\nz : \u2102\nh\u2081 : z.re + z.im = 7\nh\u2082 : z.re < z.im\nh\u2084 : (z.re + z.im) ^ 2 = 49\nh\u2085 : z.re < z.im\na\u271d : z.re * z.re + z.im * z.im < 25\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization has a major logical structure error. The natural language presents 'z * z.conj = 25' as a premise [tc_2], but the Lean code presents the equivalent 'Complex.normSq z = 25' as the conclusion. This changes the fundamental logical meaning from a statement with four premises to one with only two premises. The conclusion should be derived from all stated premises, not be equivalent to one of them.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization has a major logical structure error. The natural language presents 'z * z.conj = 25' as a premise [tc_2], but the Lean code presents the equivalent 'Complex.normSq z = 25' as the conclusion. This changes the fundamental logical meaning from a statement with four premises to one with only two premises. The conclusion should be derived from all stated premises, not be equivalent to one of them.\"]"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "From the condition $\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$, we derive the equation $x+y=7$.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1].\nTherefore, we conclude:\n\u2022 x + y = 7 [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102) (x y : \u211d)\n\ntheorem z_solution : \n  z = x + y * Complex.I \u2192\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  x + y = 7 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  z = x + y * Complex.I \u2192\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  x + y = 7 := by\n  intro hz hnorm hsum hlt\n  have h\u2081 : z.re = x.re := by\n    simp [hz, Complex.ext_iff, Complex.re, Complex.im, pow_two]\n    <;>\n    (try ring_nf at *) <;>\n    (try norm_num at *) <;>\n    (try linarith) <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im, pow_two]) <;>\n    (try nlinarith)\n  have h\u2082 : z.im = x.im + y.re := by\n    simp [hz, Complex.ext_iff, Complex.re, Complex.im, pow_two]\n    <;>\n    (try ring_nf at *) <;>\n    (try norm_num at *) <;>\n    (try linarith) <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im, pow_two]) <;>\n    (try nlinarith)\n  have h\u2083 : x.im = 0 := by\n    have h\u2084 := hnorm\n    simp [hz, Complex.normSq, pow_two] at h\u2084\n    ring_nf at h\u2084\n    nlinarith [sq_nonneg (x.re - y.re), sq_nonneg (x.im + y.im),\n      sq_nonneg (x.re + y.re), sq_nonneg (x.im - y.im),\n      sq_nonneg (x.re - x.im), sq_nonneg (y.re - y.im)]\n  have h\u2084 : y.im = 0 := by\n    have h\u2085 := hnorm\n    simp [hz, Complex.normSq, pow_two] at h\u2085\n    ring_nf at h\u2085\n    nlinarith [sq_nonneg (x.re - y.re), sq_nonneg (x.im + y.im),\n      sq_nonneg (x.re + y.re), sq_nonneg (x.im - y.im),\n      sq_nonneg (x.re - x.im), sq_nonneg (y.re - y.im)]\n  have h\u2085 : x.re + y.re = 7 := by\n    have h\u2086 : z.re + z.im = 7 := hsum\n    have h\u2087 : z.re = x.re := h\u2081\n    have h\u2088 : z.im = x.im + y.re := h\u2082\n    rw [h\u2087, h\u2088] at h\u2086\n    have h\u2089 : x.re + (x.im + y.re) = 7 := by linarith\n    have h\u2081\u2080 : x.im = 0 := h\u2083\n    have h\u2081\u2081 : y.im = 0 := h\u2084\n    simp [h\u2081\u2080] at h\u2089 \u22a2\n    <;> linarith\n  have h\u2086 : x + y = 7 := by\n    simp [Complex.ext_iff, Complex.re, Complex.im, h\u2083, h\u2084] at *\n    <;>\n    (try ring_nf at *) <;>\n    (try norm_num at *) <;>\n    (try linarith) <;>\n    (try nlinarith)\n    <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im, pow_two]) <;>\n    (try nlinarith)\n  exact h\u2086", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 27, "endLine": 18, "endColumn": 19, "data": "unsolved goals\nz x y : \u2102\nhz : z.re = x.re + -y.im \u2227 z.im = x.im + y.re\nhnorm : Complex.normSq z = 25\nhsum : x.re + -y.im + (x.im + y.re) = 7\nhlt : x.re < x.im + y.re + y.im\n\u22a2 y.im = 0"}, {"line": 31, "column": 4, "endLine": 33, "endColumn": 55, "data": "linarith failed to find a contradiction\ncase h1.h\nz x y : \u2102\nhz : z = x + y * Complex.I\nhnorm : Complex.normSq z = 25\nhsum : z.re + z.im = 7\nhlt : z.re < z.im\nh\u2081 : z.re = x.re\nh\u2082 : z.im = x.im + y.re\nh\u2084 : -(x.re * y.im * 2) + x.re ^ 2 + y.im ^ 2 + x.im * y.re * 2 + x.im ^ 2 + y.re ^ 2 = 25\na\u271d : x.im < 0\n\u22a2 False failed"}, {"line": 38, "column": 4, "endLine": 40, "endColumn": 55, "data": "linarith failed to find a contradiction\ncase h1.h\nz x y : \u2102\nhz : z = x + y * Complex.I\nhnorm : Complex.normSq z = 25\nhsum : z.re + z.im = 7\nhlt : z.re < z.im\nh\u2081 : z.re = x.re\nh\u2082 : z.im = x.im + y.re\nh\u2083 : x.im = 0\nh\u2085 : -(x.re * y.im * 2) + x.re ^ 2 + y.im ^ 2 + x.im * y.re * 2 + x.im ^ 2 + y.re ^ 2 = 25\na\u271d : y.im < 0\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture z as complex number with x, y as real components", "Complex.normSq z = 25 is mathematically equivalent to z * z.conj = 25", "Real and imaginary parts sum condition matches exactly", "Ordering condition between real and imaginary parts matches exactly", "The intermediate step x^2 + y^2 = 25 is not explicitly stated in Lean but follows directly from the normSq condition", "Conclusion x + y = 7 matches perfectly between natural language and Lean", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.83 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem z_solution : \n  z = x + y * Complex.I \u2192\n  Complex.normSq z = 25 \u2192\n  z.re + z.im = 7 \u2192\n  z.re < z.im \u2192\n  x + y = 7 := by\n  intro h\u2081 h\u2082 h\u2083 h\u2084\n  have h\u2085 : z.re = x := by\n    have h\u2085\u2081 : z.re = (x + y * Complex.I).re := by rw [h\u2081]\n    -- Simplify the real part of (x + y * Complex.I)\n    simp [Complex.ext_iff, Complex.re, Complex.im] at h\u2085\u2081 \u22a2\n    <;>\n    (try norm_num at h\u2085\u2081 \u22a2) <;>\n    (try ring_nf at h\u2085\u2081 \u22a2) <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im]) <;>\n    (try norm_num) <;>\n    (try linarith)\n    <;>\n    simp_all [Complex.ext_iff, Complex.re, Complex.im]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  have h\u2086 : z.im = y := by\n    have h\u2086\u2081 : z.im = (x + y * Complex.I).im := by rw [h\u2081]\n    -- Simplify the imaginary part of (x + y * Complex.I)\n    simp [Complex.ext_iff, Complex.re, Complex.im] at h\u2086\u2081 \u22a2\n    <;>\n    (try norm_num at h\u2086\u2081 \u22a2) <;>\n    (try ring_nf at h\u2086\u2081 \u22a2) <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im]) <;>\n    (try norm_num) <;>\n    (try linarith)\n    <;>\n    simp_all [Complex.ext_iff, Complex.re, Complex.im]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  have h\u2087 : x + y = 7 := by\n    have h\u2087\u2081 : z.re + z.im = 7 := h\u2083\n    have h\u2087\u2082 : z.re = x := h\u2085\n    have h\u2087\u2083 : z.im = y := h\u2086\n    rw [h\u2087\u2082, h\u2087\u2083] at h\u2087\u2081\n    linarith\n  \n  exact h\u2087"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Substituting $y=7-x$ from the second equation into the first gives $x^2 + (7-x)^2 = 25$.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1];\n\u2022 x + y = 7 [l2].\nTherefore, we conclude:\n\u2022 x^2 + (7-x)^2 = 25 [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7) :\n  x^2 + (7 - x)^2 = 25 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7) :\n  x^2 + (7 - x)^2 = 25 := by\n  have h : (7 - x : \u211d) = y := by\n    have h\u2081 : x + y = 7 := l2\n    linarith\n  \n  rw [h]\n  <;>\n  nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. The differences are purely notational: 'z * z.conj = 25' vs 'Complex.normSq z = 25' are mathematically equivalent (both represent |z|\u00b2 = 25), 'z = x+iy' vs 'z = x + y * Complex.I' are equivalent complex number representations, and 'Re(z), Im(z)' vs 'z.re, z.im' are equivalent notations for real and imaginary parts. All assumptions and the conclusion are faithfully represented."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which simplifies to $x^2 - 7x + 12 = 0$.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1];\n\u2022 x + y = 7 [l2];\n\u2022 x^2 + (7-x)^2 = 25 [l3].\nTherefore, we conclude:\n\u2022 x^2 - 7*x + 12 = 0 [l4].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25) :\n  x^2 - 7 * x + 12 = 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25) :\n  x^2 - 7 * x + 12 = 0 := by\n  have h\u2081 : x ^ 2 - 7 * x + 12 = 0 := by\n    have h\u2082 : y = 7 - x := by\n      have h\u2083 : x + y = 7 := l2\n      linarith\n    have h\u2084 : x ^ 2 + (7 - x) ^ 2 = 25 := l3\n    have h\u2085 : x ^ 2 + y ^ 2 = 25 := l1\n    have h\u2086 : x ^ 2 - 7 * x + 12 = 0 := by\n      nlinarith [sq_nonneg (x - 7 / 2)]\n    exact h\u2086\n  exact h\u2081", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical statements from the natural language. The use of Complex.normSq instead of z * z.conj is mathematically equivalent and appropriate for Lean. All variable types are properly declared, and all conditions and conclusions are accurately represented. The formalization maintains the logical structure and mathematical meaning of the original problem."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "This quadratic equation for $x$ has solutions $x=3$ and $x=4$", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1];\n\u2022 x + y = 7 [l2];\n\u2022 x^2 + (7-x)^2 = 25 [l3];\n\u2022 x^2 - 7*x + 12 = 0 [l4].\nTherefore, we conclude:\n\u2022 x = 3 or x = 4 [l5].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25)\n  (l4 : x^2 - 7 * x + 12 = 0) :\n  x = 3 \u2228 x = 4 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25)\n  (l4 : x^2 - 7 * x + 12 = 0) :\n  x = 3 \u2228 x = 4 := by\n  have h : x = 3 \u2228 x = 4 := by\n    have h\u2081 : x = 3 \u2228 x = 4 := by\n      have h\u2082 : (x - 3) * (x - 4) = 0 := by\n        nlinarith\n      have h\u2083 : x - 3 = 0 \u2228 x - 4 = 0 := by\n        apply eq_zero_or_eq_zero_of_mul_eq_zero h\u2082\n      cases h\u2083 with\n      | inl h\u2083 =>\n        have h\u2084 : x - 3 = 0 := h\u2083\n        have h\u2085 : x = 3 := by linarith\n        exact Or.inl h\u2085\n      | inr h\u2083 =>\n        have h\u2084 : x - 4 = 0 := h\u2083\n        have h\u2085 : x = 4 := by linarith\n        exact Or.inr h\u2085\n    exact h\u2081\n  exact h", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["tc_1: Both represent z as x + iy with real x,y. Lean uses Complex.I notation which is standard.", "tc_2: z * z.conj = 25 is mathematically equivalent to Complex.normSq z = 25.", "tc_3: Re(z) + Im(z) = 7 perfectly matches z.re + z.im = 7.", "tc_4: Re(z) < Im(z) perfectly matches z.re < z.im.", "l1: x^2 + y^2 = 25 is identical in both representations.", "l2: x + y = 7 is identical in both representations.", "l3: x^2 + (7-x)^2 = 25 is identical in both representations.", "l4: x^2 - 7*x + 12 = 0 is identical in both representations.", "l5: 'x = 3 or x = 4' perfectly matches 'x = 3 \u2228 x = 4' using Lean's logical OR."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "leading to two possible candidates for $z$: $3+4i$ and $4+3i$.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1];\n\u2022 x + y = 7 [l2];\n\u2022 x^2 + (7-x)^2 = 25 [l3];\n\u2022 x^2 - 7*x + 12 = 0 [l4];\n\u2022 x = 3 or x = 4 [l5].\nTherefore, we conclude:\n\u2022 z = 3+4i or z = 4+3i [l6].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im) :\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im) :\n  z = 3 + 4 * Complex.I := by\n  have h\u2081 : x + y = 7 := by\n    have h\u2081\u2081 : z.re + z.im = 7 := tc_3\n    have h\u2081\u2082 : z.re = x := by\n      rw [tc_1]\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n    have h\u2081\u2083 : z.im = y := by\n      rw [tc_1]\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n    rw [h\u2081\u2082, h\u2081\u2083] at h\u2081\u2081\n    linarith\n  \n  have h\u2082 : x ^ 2 + y ^ 2 = 25 := by\n    have h\u2082\u2081 : Complex.normSq z = 25 := tc_2\n    have h\u2082\u2082 : z.re = x := by\n      rw [tc_1]\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n    have h\u2082\u2083 : z.im = y := by\n      rw [tc_1]\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n    have h\u2082\u2084 : Complex.normSq z = (z.re : \u211d) ^ 2 + (z.im : \u211d) ^ 2 := by\n      simp [Complex.normSq]\n      <;> ring_nf\n      <;> simp [Complex.ext_iff, pow_two]\n      <;> ring_nf\n      <;> norm_num\n    rw [h\u2082\u2084] at h\u2082\u2081\n    rw [h\u2082\u2082, h\u2082\u2083] at h\u2082\u2081\n    norm_cast at h\u2082\u2081 \u22a2\n    <;> linarith\n  \n  have h\u2083 : x ^ 2 - 7 * x + 12 = 0 := by\n    have h\u2083\u2081 : x + y = 7 := h\u2081\n    have h\u2083\u2082 : x ^ 2 + y ^ 2 = 25 := h\u2082\n    have h\u2083\u2083 : y = 7 - x := by linarith\n    rw [h\u2083\u2083] at h\u2083\u2082\n    ring_nf at h\u2083\u2082 \u22a2\n    linarith\n  \n  have h\u2084 : x = 3 \u2228 x = 4 := by\n    have h\u2084\u2081 : x ^ 2 - 7 * x + 12 = 0 := h\u2083\n    have h\u2084\u2082 : (x - 3) * (x - 4) = 0 := by\n      ring_nf at h\u2084\u2081 \u22a2\n      linarith\n    have h\u2084\u2083 : x - 3 = 0 \u2228 x - 4 = 0 := by\n      apply eq_zero_or_eq_zero_of_mul_eq_zero h\u2084\u2082\n    cases h\u2084\u2083 with\n    | inl h\u2084\u2083 =>\n      have h\u2084\u2084 : x = 3 := by linarith\n      exact Or.inl h\u2084\u2084\n    | inr h\u2084\u2083 =>\n      have h\u2084\u2084 : x = 4 := by linarith\n      exact Or.inr h\u2084\u2084\n  \n  have h\u2085 : z = 3 + 4 * Complex.I := by\n    cases h\u2084 with\n    | inl h\u2084 =>\n      have h\u2085\u2081 : x = 3 := h\u2084\n      have h\u2085\u2082 : x + y = 7 := h\u2081\n      have h\u2085\u2083 : y = 4 := by\n        have h\u2085\u2084 : x + y = 7 := h\u2081\n        have h\u2085\u2085 : x = 3 := h\u2084\n        linarith\n      have h\u2085\u2086 : z.re = x := by\n        rw [tc_1]\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n        <;> norm_num\n      have h\u2085\u2087 : z.im = y := by\n        rw [tc_1]\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n        <;> norm_num\n      have h\u2085\u2088 : z.re = 3 := by\n        rw [h\u2085\u2086]\n        <;> linarith\n      have h\u2085\u2089 : z.im = 4 := by\n        rw [h\u2085\u2087]\n        <;> linarith\n      have h\u2085\u2081\u2080 : z = 3 + 4 * Complex.I := by\n        have h\u2085\u2081\u2081 : z.re = 3 := h\u2085\u2088\n        have h\u2085\u2081\u2082 : z.im = 4 := h\u2085\u2089\n        have h\u2085\u2081\u2083 : z = 3 + 4 * Complex.I := by\n          apply Complex.ext <;> simp_all [Complex.ext_iff, Complex.I_mul_I]\n          <;> norm_num <;> linarith\n        exact h\u2085\u2081\u2083\n      exact h\u2085\u2081\u2080\n    | inr h\u2084 =>\n      have h\u2085\u2081 : x = 4 := h\u2084\n      have h\u2085\u2082 : x + y = 7 := h\u2081\n      have h\u2085\u2083 : y = 3 := by\n        have h\u2085\u2084 : x + y = 7 := h\u2081\n        have h\u2085\u2085 : x = 4 := h\u2084\n        linarith\n      have h\u2085\u2086 : z.re = x := by\n        rw [tc_1]\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n        <;> norm_num\n      have h\u2085\u2087 : z.im = y := by\n        rw [tc_1]\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n        <;> norm_num\n      have h\u2085\u2088 : z.re = 4 := by\n        rw [h\u2085\u2086]\n        <;> linarith\n      have h\u2085\u2089 : z.im = 3 := by\n        rw [h\u2085\u2087]\n        <;> linarith\n      have h\u2085\u2081\u2080 : z.re < z.im := tc_4\n      have h\u2085\u2081\u2081 : z.re = 4 := h\u2085\u2088\n      have h\u2085\u2081\u2082 : z.im = 3 := h\u2085\u2089\n      have h\u2085\u2081\u2083 : (4 : \u211d) < (3 : \u211d) := by\n        linarith\n      norm_num at h\u2085\u2081\u2083\n      <;> linarith\n  \n  exact h\u2085", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["tc_1 correctly represents the complex number z as x + iy using Lean's Complex.I notation", "tc_2 correctly uses Complex.normSq which is equivalent to z * z.conj = 25", "tc_3 correctly represents the sum of real and imaginary parts using z.re and z.im", "tc_4 correctly represents the inequality constraint between real and imaginary parts", "The conclusion only states z = 3 + 4*Complex.I, missing the disjunctive form 'z = 3+4i or z = 4+3i' from the natural language. While the final result is mathematically correct given all constraints, it doesn't fully capture the logical structure presented in the natural language where both solutions are initially considered before applying the constraint tc_4", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "The final condition $\\operatorname{Re}(z) < \\operatorname{Im}(z)$ is satisfied only by $z=3+4i$, which is therefore the solution.", "statement": "We assume:\n\u2022 z is a complex number, represented as z = x+iy where x and y are real numbers [tc_1];\n\u2022 The product of z and its conjugate equals 25, i.e. z * z.conj = 25 [tc_2];\n\u2022 The sum of the real and imaginary parts of z is 7, i.e. Re(z) + Im(z) = 7 [tc_3];\n\u2022 The real part of z is less than its imaginary part, i.e. Re(z) < Im(z) [tc_4];\n\u2022 x^2 + y^2 = 25 [l1];\n\u2022 x + y = 7 [l2];\n\u2022 x^2 + (7-x)^2 = 25 [l3];\n\u2022 x^2 - 7*x + 12 = 0 [l4];\n\u2022 x = 3 or x = 4 [l5];\n\u2022 z = 3+4i or z = 4+3i [l6].\nTherefore, we conclude:\n\u2022 z = 3+4i [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25)\n  (l4 : x^2 - 7 * x + 12 = 0)\n  (l5 : x = 3 \u2228 x = 4)\n  (l6 : z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I) :\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * Complex.I)\n  (tc_2 : Complex.normSq z = 25)\n  (tc_3 : z.re + z.im = 7)\n  (tc_4 : z.re < z.im)\n  (l1 : x^2 + y^2 = 25)\n  (l2 : x + y = 7)\n  (l3 : x^2 + (7 - x)^2 = 25)\n  (l4 : x^2 - 7 * x + 12 = 0)\n  (l5 : x = 3 \u2228 x = 4)\n  (l6 : z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I) :\n  z = 3 + 4 * Complex.I := by\n  have h : x = 3 := by\n    cases l5 with\n    | inl h =>\n      exact h\n    | inr h =>\n      -- If x = 4, then y = 3 from l2: x + y = 7\n      have h\u2081 : y = 3 := by\n        have h\u2082 : x + y = 7 := l2\n        rw [h] at h\u2082\n        linarith\n      -- Check the condition z.re < z.im\n      have h\u2082 : z.re < z.im := tc_4\n      have h\u2083 : z.re = x := by\n        rw [tc_1]\n        simp [Complex.ext_iff]\n        <;> ring_nf\n        <;> norm_num\n      have h\u2084 : z.im = y := by\n        rw [tc_1]\n        simp [Complex.ext_iff]\n        <;> ring_nf\n        <;> norm_num\n      rw [h\u2083, h\u2084] at h\u2082\n      rw [h\u2081] at h\u2082\n      -- This leads to a contradiction since 4 < 3 is false\n      norm_num [h] at h\u2082 \u22a2\n      <;> linarith\n  -- Now we know x = 3, we can find y and z\n  have h\u2081 : y = 4 := by\n    have h\u2082 : x + y = 7 := l2\n    rw [h] at h\u2082\n    linarith\n  -- Check which case in l6 is valid\n  cases l6 with\n  | inl h\u2082 =>\n    exact h\u2082\n  | inr h\u2082 =>\n    have h\u2083 : z.re < z.im := tc_4\n    have h\u2084 : z.re = x := by\n      rw [tc_1]\n      simp [Complex.ext_iff]\n      <;> ring_nf\n      <;> norm_num\n    have h\u2085 : z.im = y := by\n      rw [tc_1]\n      simp [Complex.ext_iff]\n      <;> ring_nf\n      <;> norm_num\n    rw [h\u2084, h\u2085] at h\u2083\n    rw [h, h\u2081] at h\u2083\n    -- This leads to a contradiction since 3 < 4 is true, but we need to check the actual z value\n    norm_num [h\u2082] at h\u2083 \u22a2\n    <;> simp_all [Complex.ext_iff, pow_two]\n    <;> norm_num at *\n    <;> nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["tc_1 correctly represents z as x + iy using Lean's complex number notation", "tc_2 uses Complex.normSq which is mathematically equivalent to z * z.conj = 25", "tc_3 correctly captures the sum of real and imaginary parts equals 7", "tc_4 properly represents the inequality between real and imaginary parts", "l1 correctly represents the Pythagorean relationship x^2 + y^2 = 25", "l2 accurately captures the linear constraint x + y = 7", "l3 properly represents the substituted quadratic equation", "l4 correctly shows the simplified quadratic equation", "l5 accurately represents the disjunction of possible x values", "l6 correctly represents the two possible complex number values", "ts_1 properly concludes with the specific complex number z = 3 + 4i"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    