
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z$ be a complex number. If $|z| = 2$, $\frac{z}{\bar{z}} = -\frac{1}{2} + i\frac{\sqrt{3}}{2}$, and $\operatorname{Re}(z) > 0$, then $z^3 = -8$.

Proof: From the condition $|z|=2$, we compute the product of $z$ and its conjugate as $z\bar{z} = |z|^2 = 4$. We then multiply this result by the second condition, $\frac{z}{\bar{z}} = -\frac{1}{2} + i\frac{\sqrt{3}}{2}$, to find $z^2$: $z^2 = (z\bar{z}) \cdot (\frac{z}{\bar{z}}) = 4(-\frac{1}{2} + i\frac{\sqrt{3}}{2}) = -2 + 2i\sqrt{3}$. The two square roots of $-2 + 2i\sqrt{3}$ are $1+i\sqrt{3}$ and $-1-i\sqrt{3}$, so these are the possible values for $z$. From the condition $\operatorname{Re}(z) > 0$, we select the solution with a positive real part, which is $z = 1+i\sqrt{3}$. Finally, we compute $z^3$ using the previously found values for $z$ and $z^2$: $z^3 = z \cdot z^2 = (1+i\sqrt{3})(-2+2i\sqrt{3}) = -8$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $z$ be a complex number.", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration 'variable (z : \u2102)' perfectly captures the condition that z is a complex number, where \u2102 represents the complex number type in Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "If $|z| = 2$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)\n(hz : Complex.abs z = 2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration (z : \u2102) directly and correctly specifies that z is a complex number, matching the natural language condition exactly.", "The Lean expression Complex.abs z = 2 is the precise formalization of |z| = 2, where Complex.abs is the standard way to represent absolute value (modulus) of complex numbers in Lean."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "$\frac{z}{\bar{z}} = -\frac{1}{2} + i\frac{\\sqrt{3}}{2}$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_3 (z : \u2102) \n  (hz : Complex.abs z = 2)\n  (hz_ratio : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (hz_real : 0 < z.re) :\n  z^3 = -8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean declaration (z : \u2102) correctly captures that z is a complex number", "Complex.abs z = 2 correctly formalizes |z| = 2", "The Lean expression z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2) correctly formalizes the ratio condition, where starRingEnd \u2102 z represents the complex conjugate", "The condition (hz_real : 0 < z.re) introduces an additional constraint that z has positive real part, which is not mentioned in the natural language premises", "The conclusion z^3 = -8 is not present in the natural language, which states there are no conclusions derived yet from the premises"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean declaration (z : \u2102) correctly captures that z is a complex number', 'Complex.abs z = 2 correctly formalizes |z| = 2', 'The Lean expression z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2) correctly formalizes the ratio condition, where starRingEnd \u2102 z represents the complex conjugate', 'The condition (hz_real : 0 < z.re) introduces an additional constraint that z has positive real part, which is not mentioned in the natural language premises', 'The conclusion z^3 = -8 is not present in the natural language, which states there are no conclusions derived yet from the premises']"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "and $\\operatorname{Re}(z) > 0$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re) :\n  z^3 = -8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["Both declare z as a complex number", "Both state |z| = 2 using appropriate notation (Complex.abs in Lean)", "Both express the same ratio condition: z/conjugate(z) equals the same complex number. starRingEnd \u2102 z is Lean's notation for complex conjugate, and I * (Real.sqrt 3 / 2) correctly represents i\u221a3/2", "Both require the real part of z to be positive, using equivalent notation (0 < z.re in Lean)", "The natural language explicitly states no conclusions are derived yet, but the Lean theorem introduces a conclusion z^3 = -8 that is not mentioned in the natural language statement"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Both declare z as a complex number', 'Both state |z| = 2 using appropriate notation (Complex.abs in Lean)', \"Both express the same ratio condition: z/conjugate(z) equals the same complex number. starRingEnd \u2102 z is Lean's notation for complex conjugate, and I * (Real.sqrt 3 / 2) correctly represents i\u221a3/2\", 'Both require the real part of z to be positive, using equivalent notation (0 < z.re in Lean)', 'The natural language explicitly states no conclusions are derived yet, but the Lean theorem introduces a conclusion z^3 = -8 that is not mentioned in the natural language statement']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "From the condition $|z|=2$, we compute the product of $z$ and its conjugate as $z\\bar{z} = |z|^2 = 4$.", "statement": "We assume:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4].\nTherefore, we conclude:\n\u2022 $z\\bar{z} = 4$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re) :\n  z * (starRingEnd \u2102 z) = 4 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re) :\n  z * (starRingEnd \u2102 z) = 4 := by\n  have h4 : z * (starRingEnd \u2102 z) = 4 := by\n    have h5 : Complex.abs z ^ 2 = 4 := by\n      rw [h1]\n      <;> norm_num\n    have h6 : z.re * z.re + z.im * z.im = 4 := by\n      have h7 : Complex.abs z ^ 2 = z.re * z.re + z.im * z.im := by\n        simp [Complex.sq_abs, Complex.normSq]\n        <;> ring_nf\n        <;> simp [Complex.normSq]\n        <;> ring_nf\n      linarith\n    have h8 : z * (starRingEnd \u2102 z) = 4 := by\n      calc\n        z * (starRingEnd \u2102 z) = (z.re * z.re + z.im * z.im : \u2102) := by\n          simp [Complex.ext_iff, Complex.mul_re, Complex.mul_im, starRingEnd_apply]\n          <;> ring_nf\n          <;> simp_all [Complex.ext_iff, pow_two]\n          <;> norm_num\n          <;>\n          (try\n            {\n              nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)]\n            })\n        _ = (4 : \u2102) := by\n          have h9 : (z.re * z.re + z.im * z.im : \u211d) = 4 := by\n            exact_mod_cast h6\n          norm_num [Complex.ext_iff, h9]\n          <;>\n          (try\n            {\n              simp_all [Complex.ext_iff, pow_two]\n              <;> norm_num\n              <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)]\n            })\n    exact h8\n  exact h4", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 23, "column": 10, "endLine": 23, "endColumn": 83, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all assumptions and the conclusion from the natural language. The complex number z is properly typed, the modulus condition |z| = 2 is correctly represented as Complex.abs z = 2, the ratio condition z/z\u0304 = -1/2 + i\u221a3/2 is properly formalized using starRingEnd \u2102 z for complex conjugation, the real part condition Re(z) > 0 is correctly expressed as 0 < z.re, and the conclusion z\u00b7z\u0304 = 4 is properly stated as z * (starRingEnd \u2102 z) = 4. All mathematical content and logical structure is preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re) :\n  z * (starRingEnd \u2102 z) = 4 := by\n  have h4 : z.re * z.re + z.im * z.im = 4 := by\n    have h4\u2081 : Complex.abs z ^ 2 = 4 := by\n      rw [h1]\n      <;> norm_num\n    have h4\u2082 : Complex.abs z ^ 2 = (z.re * z.re + z.im * z.im : \u211d) := by\n      simp [Complex.sq_abs, Complex.normSq]\n      <;> ring_nf\n      <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n      <;> ring_nf\n      <;> linarith [sq_nonneg z.re, sq_nonneg z.im]\n    have h4\u2083 : (z.re * z.re + z.im * z.im : \u211d) = 4 := by\n      linarith\n    exact by\n      norm_cast at h4\u2083 \u22a2\n      <;>\n      (try\n        norm_num at h4\u2083 \u22a2) <;>\n      (try\n        linarith) <;>\n      (try\n        nlinarith) <;>\n      (try\n        ring_nf at h4\u2083 \u22a2 <;>\n        nlinarith) <;>\n      (try\n        linarith)\n  \n  have h5 : (z * (starRingEnd \u2102 z)).re = 4 := by\n    simp [Complex.ext_iff, Complex.mul_re, Complex.mul_im, starRingEnd_apply, Complex.conj_re, Complex.conj_im]\n    <;> ring_nf at *\n    <;> norm_num at *\n    <;> nlinarith\n  \n  have h6 : (z * (starRingEnd \u2102 z)).im = 0 := by\n    simp [Complex.ext_iff, Complex.mul_re, Complex.mul_im, starRingEnd_apply, Complex.conj_re, Complex.conj_im]\n    <;> ring_nf at *\n    <;> norm_num at *\n    <;> nlinarith\n  \n  have h7 : z * (starRingEnd \u2102 z) = 4 := by\n    have h7\u2081 : z * (starRingEnd \u2102 z) = \u2191((z * (starRingEnd \u2102 z)).re) := by\n      apply Complex.ext <;> simp [Complex.ext_iff, h6] <;> ring_nf <;> simp_all [Complex.ext_iff]\n      <;> norm_num <;> linarith\n    rw [h7\u2081]\n    norm_num [h5]\n    <;>\n    simp_all [Complex.ext_iff]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  apply h7"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "$z^2 = (z\\bar{z}) \\cdot (\\frac{z}{\\bar{z}}) = 4(-\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}) = -2 + 2i\\sqrt{3}$.", "statement": "We assume:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4];\n\u2022 $z\\bar{z} = 4$ [l1].\nTherefore, we conclude:\n\u2022 $z^2 = -2 + 2i\\sqrt{3}$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4) :\n  z^2 = -2 + 2 * I * Real.sqrt 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4) :\n  z^2 = -2 + 2 * I * Real.sqrt 3 := by\n  have h5 : z \u2260 0 := by\n    by_contra h\n    rw [h] at h4\n    norm_num [Complex.ext_iff, pow_two, Complex.normSq] at h4 \u22a2\n    <;> simp_all [Complex.abs, Complex.normSq, Real.sqrt_eq_iff_sq_eq]\n    <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)]\n  \n  have h6 : starRingEnd \u2102 z = z.conj := by\n    rfl\n  \n  have h7 : z / (starRingEnd \u2102 z) = z / z.conj := by\n    rw [h6]\n  \n  have h8 : z / z.conj = -1 / 2 + I * (Real.sqrt 3 / 2) := by\n    calc\n      z / z.conj = z / (starRingEnd \u2102 z) := by rw [h6]\n      _ = -1 / 2 + I * (Real.sqrt 3 / 2) := by rw [h2]\n  \n  have h9 : z.re ^ 2 + z.im ^ 2 = 4 := by\n    have h9\u2081 : Complex.abs z = 2 := h1\n    have h9\u2082 : Complex.abs z = Real.sqrt (z.re ^ 2 + z.im ^ 2) := by\n      simp [Complex.abs, Complex.normSq, Real.sqrt_eq_iff_sq_eq]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff]\n      <;> nlinarith\n    rw [h9\u2082] at h9\u2081\n    have h9\u2083 : Real.sqrt (z.re ^ 2 + z.im ^ 2) = 2 := by\n      linarith\n    have h9\u2084 : z.re ^ 2 + z.im ^ 2 = 4 := by\n      have h9\u2085 : Real.sqrt (z.re ^ 2 + z.im ^ 2) = 2 := h9\u2083\n      have h9\u2086 : 0 \u2264 z.re ^ 2 + z.im ^ 2 := by positivity\n      have h9\u2087 : Real.sqrt (z.re ^ 2 + z.im ^ 2) ^ 2 = z.re ^ 2 + z.im ^ 2 := by\n        rw [Real.sq_sqrt] <;> positivity\n      nlinarith\n    exact h9\u2084\n  \n  have h10 : z.re > 0 := h3\n  \n  have h11 : z.re ^ 2 + z.im ^ 2 = 4 := by\n    have h11\u2081 : Complex.abs z = 2 := h1\n    have h11\u2082 : Complex.abs z = Real.sqrt (z.re ^ 2 + z.im ^ 2) := by\n      simp [Complex.abs, Complex.normSq, Real.sqrt_eq_iff_sq_eq]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff]\n      <;> nlinarith\n    rw [h11\u2082] at h11\u2081\n    have h11\u2083 : Real.sqrt (z.re ^ 2 + z.im ^ 2) = 2 := by\n      linarith\n    have h11\u2084 : z.re ^ 2 + z.im ^ 2 = 4 := by\n      have h11\u2085 : Real.sqrt (z.re ^ 2 + z.im ^ 2) = 2 := h11\u2083\n      have h11\u2086 : 0 \u2264 z.re ^ 2 + z.im ^ 2 := by positivity\n      have h11\u2087 : Real.sqrt (z.re ^ 2 + z.im ^ 2) ^ 2 = z.re ^ 2 + z.im ^ 2 := by\n        rw [Real.sq_sqrt] <;> positivity\n      nlinarith\n    exact h11\u2084\n  \n  have h12 : z / z.conj = (z.re + z.im * I) / (z.re - z.im * I) := by\n    field_simp [Complex.ext_iff, Complex.conj_re, Complex.conj_im, Complex.div_re, Complex.div_im, Complex.normSq]\n    <;> ring_nf <;> simp_all [Complex.ext_iff, Complex.conj_re, Complex.conj_im, Complex.div_re, Complex.div_im, Complex.normSq]\n    <;> norm_num <;> field_simp [h5] <;> ring_nf <;> simp_all [Complex.ext_iff, Complex.conj_re, Complex.conj_im, Complex.div_re, Complex.div_im, Complex.normSq]\n    <;> norm_num <;> linarith\n  \n  have h13 : (z.re + z.im * I) / (z.re - z.im * I) = -1 / 2 + I * (Real.sqrt 3 / 2) := by\n    calc\n      (z.re + z.im * I) / (z.re - z.im * I) = z / z.conj := by rw [h12]\n      _ = -1 / 2 + I * (Real.sqrt 3 / 2) := by rw [h8]\n  \n  have h14 : (z.re + z.im * I) / (z.re - z.im * I) = (-1 / 2 + I * (Real.sqrt 3 / 2)) := by\n    rw [h13]\n  \n  have h15 : (z.re - z.im * I) \u2260 0 := by\n    by_contra h\n    have h\u2081 := h14\n    have h\u2082 : (z.re : \u2102) - z.im * I = 0 := by\n      simpa [Complex.ext_iff] using h\n    rw [h\u2082] at h\u2081\n    norm_num [Complex.ext_iff, Complex.div_re, Complex.div_im, Complex.normSq] at h\u2081 \u22a2\n    <;>\n    (try contradiction) <;>\n    (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)])\n  \n  have h16 : (z.re + z.im * I) = (-1 / 2 + I * (Real.sqrt 3 / 2)) * (z.re - z.im * I) := by\n    have h16\u2081 : (z.re + z.im * I) / (z.re - z.im * I) = (-1 / 2 + I * (Real.sqrt 3 / 2)) := by\n      rw [h14]\n    have h16\u2082 : (z.re - z.im * I) \u2260 0 := h15\n    field_simp [h16\u2082] at h16\u2081 \u22a2\n    <;> ring_nf at h16\u2081 \u22a2 <;>\n    simp_all [Complex.ext_iff, Complex.mul_re, Complex.mul_im]\n    <;> norm_num at *\n    <;>\n    (try constructor <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)])\n    <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n    <;>\n    (try\n      {\n        ring_nf at *\n        <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n  \n  have h17 : z.re = 1 := by\n    have h17\u2081 := h16\n    simp [Complex.ext_iff, pow_two, Complex.I_mul_I] at h17\u2081 \u22a2\n    norm_num at h17\u2081 \u22a2\n    <;>\n    (try ring_nf at h17\u2081 \u22a2) <;>\n    (try norm_num at h17\u2081 \u22a2) <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num),\n          sq_nonneg (z.im - Real.sqrt 3), sq_nonneg (z.re - 1)]\n      }) <;>\n    (try\n      {\n        cases' le_or_lt 0 (z.im - Real.sqrt 3) with h h <;>\n        cases' le_or_lt 0 (z.re - 1) with h\u2082 h\u2082 <;>\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num),\n          sq_nonneg (z.im - Real.sqrt 3), sq_nonneg (z.re - 1)]\n      })\n  \n  have h18 : z.im = Real.sqrt 3 := by\n    have h18\u2081 := h16\n    simp [Complex.ext_iff, pow_two, Complex.I_mul_I] at h18\u2081 \u22a2\n    norm_num at h18\u2081 \u22a2\n    <;>\n    (try ring_nf at h18\u2081 \u22a2) <;>\n    (try norm_num at h18\u2081 \u22a2) <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num),\n          sq_nonneg (z.im - Real.sqrt 3), sq_nonneg (z.re - 1)]\n      }) <;>\n    (try\n      {\n        cases' le_or_lt 0 (z.im - Real.sqrt 3) with h h <;>\n        cases' le_or_lt 0 (z.re - 1) with h\u2082 h\u2082 <;>\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num),\n          sq_nonneg (z.im - Real.sqrt 3), sq_nonneg (z.re - 1)]\n      })\n  \n  have h19 : z = 1 + Real.sqrt 3 * I := by\n    apply Complex.ext <;> simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I]\n    <;> ring_nf at * <;> norm_num at * <;>\n    (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n    (try linarith)\n    <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n  \n  have h20 : z ^ 2 = -2 + 2 * I * Real.sqrt 3 := by\n    rw [h19]\n    simp [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.I_mul_I]\n    <;> ring_nf <;> norm_num <;>\n    (try\n      {\n        simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I]\n        <;> ring_nf at * <;> norm_num at * <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)])\n      })\n    <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n    <;>\n    (try\n      {\n        field_simp [Complex.ext_iff, pow_two, Complex.I_mul_I] at *\n        <;> ring_nf at * <;> norm_num at * <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)])\n      })\n    <;>\n    (try\n      {\n        norm_num [Complex.ext_iff, pow_two, Complex.I_mul_I] at *\n        <;> ring_nf at * <;> norm_num at * <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)])\n      })\n  \n  exact h20", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0, "semantic_feedback": ["The complex number type declaration z : \u2102 correctly captures that z is a complex number", "Complex.abs z = 2 accurately represents the modulus condition |z| = 2", "The ratio z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2) correctly formalizes z/z\u0304 = -1/2 + i\u221a3/2 using appropriate Lean syntax", "The condition 0 < z.re properly represents Re(z) > 0", "The equation z * (starRingEnd \u2102 z) = 4 correctly captures zz\u0304 = 4", "The conclusion z^2 = -2 + 2 * I * Real.sqrt 3 accurately represents z\u00b2 = -2 + 2i\u221a3", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "The two square roots of $-2 + 2i\\sqrt{3}$ are $1+i\\sqrt{3}$ and $-1-i\\sqrt{3}$, so these are the possible values for $z$.", "statement": "We assume:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4];\n\u2022 $z\\bar{z} = 4$ [l1];\n\u2022 $z^2 = -2 + 2i\\sqrt{3}$ [l2].\nTherefore, we conclude:\n\u2022 $z = 1+i\\sqrt{3}$ or $z = -1-i\\sqrt{3}$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3) :\n  z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3) :\n  z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3 := by\n  have h6 : z.re * z.re + z.im * z.im = 4 := by\n    have h6\u2081 : z.re * z.re + z.im * z.im = Complex.abs z ^ 2 := by\n      simp [Complex.sq_abs, Complex.normSq]\n      <;> ring_nf\n      <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n      <;> nlinarith [Real.sqrt_nonneg (z.re * z.re + z.im * z.im)]\n    rw [h6\u2081]\n    rw [h1]\n    norm_num\n    <;>\n    ring_nf at *\n    <;>\n    nlinarith [Real.sqrt_nonneg 3]\n  \n  have h7 : z.re = 1 \u2227 z.im = Real.sqrt 3 := by\n    have h7\u2081 : z.re \u2260 0 := by\n      by_contra h\n      have h7\u2082 : z.re = 0 := by\n        linarith\n      have h7\u2083 : z.re = 0 := by linarith\n      simp [h7\u2083, Complex.ext_iff, pow_two] at h2 h4 h5 h6 \u22a2\n      <;> norm_num at h2 h4 h5 h6 \u22a2 <;>\n      (try ring_nf at h2 h4 h5 h6 \u22a2) <;>\n      (try norm_num at h2 h4 h5 h6 \u22a2) <;>\n      (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n      (try\n        {\n          field_simp [Complex.ext_iff, pow_two] at h2 h4 h5 h6 \u22a2 <;>\n          ring_nf at h2 h4 h5 h6 \u22a2 <;>\n          norm_num at h2 h4 h5 h6 \u22a2 <;>\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try\n        {\n          simp_all [Complex.ext_iff, pow_two]\n          <;> norm_num at *\n          <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n    have h7\u2082 : z.re \u2260 0 := h7\u2081\n    have h7\u2083 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2) := h2\n    have h7\u2084 : z.re * z.re + z.im * z.im = 4 := h6\n    have h7\u2085 : z * (starRingEnd \u2102 z) = 4 := h4\n    have h7\u2086 : z ^ 2 = -2 + 2 * I * Real.sqrt 3 := h5\n    have h7\u2087 : z.re = 1 := by\n      -- Simplify the given equation z / conj(z) = -1/2 + i\u221a3/2\n      have h7\u2088 := h7\u2083\n      field_simp [Complex.ext_iff, Complex.normSq, pow_two, Complex.div_re, Complex.div_im, Complex.conj_re,\n        Complex.conj_im, starRingEnd_apply] at h7\u2088 h7\u2085 h7\u2086 \u22a2\n      <;> ring_nf at h7\u2088 h7\u2085 h7\u2086 \u22a2 <;> norm_num at h7\u2088 h7\u2085 h7\u2086 \u22a2 <;>\n        (try norm_num) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try {\n          simp_all [Complex.ext_iff, pow_two]\n          <;> ring_nf at *\n          <;> norm_num at *\n          <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        }) <;>\n        (try {\n          apply mul_left_cancel\u2080 (sub_ne_zero.mpr h7\u2082)\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n    have h7\u2088 : z.im = Real.sqrt 3 := by\n      -- Simplify the given equation z / conj(z) = -1/2 + i\u221a3/2\n      have h7\u2089 := h7\u2083\n      field_simp [Complex.ext_iff, Complex.normSq, pow_two, Complex.div_re, Complex.div_im, Complex.conj_re,\n        Complex.conj_im, starRingEnd_apply] at h7\u2089 h7\u2085 h7\u2086 \u22a2\n      <;> ring_nf at h7\u2089 h7\u2085 h7\u2086 \u22a2 <;> norm_num at h7\u2089 h7\u2085 h7\u2086 \u22a2 <;>\n        (try norm_num) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try {\n          simp_all [Complex.ext_iff, pow_two]\n          <;> ring_nf at *\n          <;> norm_num at *\n          <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        }) <;>\n        (try {\n          apply mul_left_cancel\u2080 (sub_ne_zero.mpr h7\u2082)\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n    exact \u27e8h7\u2087, h7\u2088\u27e9\n  \n  have h8 : z = 1 + I * Real.sqrt 3 := by\n    have h8\u2081 : z.re = 1 := h7.1\n    have h8\u2082 : z.im = Real.sqrt 3 := h7.2\n    have h8\u2083 : z = 1 + I * Real.sqrt 3 := by\n      apply Complex.ext <;> simp [Complex.ext_iff, pow_two, h8\u2081, h8\u2082] <;>\n      ring_nf <;>\n      norm_num <;>\n      simp_all [Complex.ext_iff, pow_two] <;>\n      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n    exact h8\u2083\n  \n  \n  exact Or.inl h8", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 58, "column": 6, "endLine": 59, "endColumn": 60, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}, {"line": 92, "column": 6, "endLine": 93, "endColumn": 60, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical assumptions and the conclusion from the natural language. The complex conjugation is properly represented using starRingEnd, the imaginary unit is correctly denoted as I, and all numerical conditions and logical structure (including the disjunctive conclusion) are faithfully translated. The theorem structure appropriately takes all assumptions as hypotheses and states the desired conclusion.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3) :\n  z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3 := by\n  have h6 : z.re = 1 := by\n    have h6\u2081 : z.re * z.re + z.im * z.im = 4 := by\n      have h6\u2082 : Complex.abs z = 2 := h1\n      have h6\u2083 : Complex.abs z = Real.sqrt (z.re * z.re + z.im * z.im) := by\n        simp [Complex.abs, Complex.normSq]\n        <;> ring_nf\n        <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n        <;> ring_nf\n        <;> simp [Complex.ext_iff, pow_two]\n        <;> nlinarith\n      rw [h6\u2083] at h6\u2082\n      have h6\u2084 : Real.sqrt (z.re * z.re + z.im * z.im) = 2 := by rw [h6\u2082]\n      have h6\u2085 : z.re * z.re + z.im * z.im = 4 := by\n        have h6\u2086 : Real.sqrt (z.re * z.re + z.im * z.im) = 2 := h6\u2084\n        have h6\u2087 : 0 \u2264 z.re * z.re + z.im * z.im := by nlinarith\n        have h6\u2088 : Real.sqrt (z.re * z.re + z.im * z.im) ^ 2 = z.re * z.re + z.im * z.im := by\n          rw [Real.sq_sqrt] <;> nlinarith\n        nlinarith\n      exact h6\u2085\n    have h6\u2082 : (z.re * z.re - z.im * z.im) / 4 = -1 / 2 := by\n      have h6\u2083 : z / (starRingEnd \u2102 z) = -1 / 2 + I * (Real.sqrt 3 / 2) := h2\n      have h6\u2084 : z.re * z.re + z.im * z.im \u2260 0 := by\n        nlinarith\n      have h6\u2085 : z / (starRingEnd \u2102 z) = (\u2191(z.re * z.re - z.im * z.im) / (z.re * z.re + z.im * z.im) : \u2102) + I * (\u2191(2 * z.re * z.im) / (z.re * z.re + z.im * z.im) : \u2102) := by\n        field_simp [Complex.ext_iff, Complex.star_def, Complex.div_re, Complex.div_im, Complex.normSq]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> field_simp [h6\u2084]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num\n        <;> linarith\n      rw [h6\u2085] at h6\u2083\n      have h6\u2086 := congr_arg Complex.re h6\u2083\n      simp [Complex.ext_iff, pow_two] at h6\u2086\n      <;> field_simp [h6\u2084] at h6\u2086 \u22a2\n      <;> ring_nf at h6\u2086 \u22a2 <;> norm_num at h6\u2086 \u22a2 <;>\n        (try norm_num) <;>\n        (try linarith) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try\n          {\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          }) <;>\n        (try\n          {\n            field_simp at h6\u2086 \u22a2 <;>\n            ring_nf at h6\u2086 \u22a2 <;>\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n      <;>\n      (try\n        {\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try\n        {\n          linarith\n        })\n    have h6\u2083 : (2 * z.re * z.im) / 4 = Real.sqrt 3 / 2 := by\n      have h6\u2084 : z / (starRingEnd \u2102 z) = -1 / 2 + I * (Real.sqrt 3 / 2) := h2\n      have h6\u2085 : z.re * z.re + z.im * z.im \u2260 0 := by\n        nlinarith\n      have h6\u2086 : z / (starRingEnd \u2102 z) = (\u2191(z.re * z.re - z.im * z.im) / (z.re * z.re + z.im * z.im) : \u2102) + I * (\u2191(2 * z.re * z.im) / (z.re * z.re + z.im * z.im) : \u2102) := by\n        field_simp [Complex.ext_iff, Complex.star_def, Complex.div_re, Complex.div_im, Complex.normSq]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> field_simp [h6\u2085]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num\n        <;> linarith\n      rw [h6\u2086] at h6\u2084\n      have h6\u2087 := congr_arg Complex.im h6\u2084\n      simp [Complex.ext_iff, pow_two] at h6\u2087\n      <;> field_simp [h6\u2085] at h6\u2087 \u22a2\n      <;> ring_nf at h6\u2087 \u22a2 <;> norm_num at h6\u2087 \u22a2 <;>\n        (try norm_num) <;>\n        (try linarith) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try\n          {\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          }) <;>\n        (try\n          {\n            field_simp at h6\u2087 \u22a2 <;>\n            ring_nf at h6\u2087 \u22a2 <;>\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n      <;>\n      (try\n        {\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try\n        {\n          linarith\n        })\n    have h6\u2084 : z.re * z.re - z.im * z.im = -2 := by\n      have h6\u2085 : (z.re * z.re - z.im * z.im) / 4 = -1 / 2 := h6\u2082\n      linarith\n    have h6\u2085 : 2 * z.re * z.im = 2 * Real.sqrt 3 := by\n      have h6\u2086 : (2 * z.re * z.im) / 4 = Real.sqrt 3 / 2 := h6\u2083\n      linarith\n    have h6\u2086 : z.re = 1 := by\n      have h6\u2087 : z.re > 0 := h3\n      have h6\u2088 : z.re * z.re + z.im * z.im = 4 := h6\u2081\n      have h6\u2089 : z.re * z.re - z.im * z.im = -2 := h6\u2084\n      have h6\u2081\u2080 : 2 * z.re * z.im = 2 * Real.sqrt 3 := h6\u2085\n      have h6\u2081\u2081 : z.re * z.re = 1 := by\n        nlinarith\n      have h6\u2081\u2082 : z.re > 0 := h3\n      have h6\u2081\u2083 : z.re = 1 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      exact h6\u2081\u2083\n    exact h6\u2086\n  \n  have h7 : z.im = Real.sqrt 3 := by\n    have h7\u2081 : z.re * z.re + z.im * z.im = 4 := by\n      have h7\u2082 : Complex.abs z = 2 := h1\n      have h7\u2083 : Complex.abs z = Real.sqrt (z.re * z.re + z.im * z.im) := by\n        simp [Complex.abs, Complex.normSq]\n        <;> ring_nf\n        <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n        <;> ring_nf\n        <;> simp [Complex.ext_iff, pow_two]\n        <;> nlinarith\n      rw [h7\u2083] at h7\u2082\n      have h7\u2084 : Real.sqrt (z.re * z.re + z.im * z.im) = 2 := by rw [h7\u2082]\n      have h7\u2085 : z.re * z.re + z.im * z.im = 4 := by\n        have h7\u2086 : Real.sqrt (z.re * z.re + z.im * z.im) = 2 := h7\u2084\n        have h7\u2087 : 0 \u2264 z.re * z.re + z.im * z.im := by nlinarith\n        have h7\u2088 : Real.sqrt (z.re * z.re + z.im * z.im) ^ 2 = z.re * z.re + z.im * z.im := by\n          rw [Real.sq_sqrt] <;> nlinarith\n        nlinarith\n      exact h7\u2085\n    have h7\u2082 : (z.re * z.re - z.im * z.im) / 4 = -1 / 2 := by\n      have h7\u2083 : z / (starRingEnd \u2102 z) = -1 / 2 + I * (Real.sqrt 3 / 2) := h2\n      have h7\u2084 : z.re * z.re + z.im * z.im \u2260 0 := by\n        nlinarith\n      have h7\u2085 : z / (starRingEnd \u2102 z) = (\u2191(z.re * z.re - z.im * z.im) / (z.re * z.re + z.im * z.im) : \u2102) + I * (\u2191(2 * z.re * z.im) / (z.re * z.re + z.im * z.im) : \u2102) := by\n        field_simp [Complex.ext_iff, Complex.star_def, Complex.div_re, Complex.div_im, Complex.normSq]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> field_simp [h7\u2084]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num\n        <;> linarith\n      rw [h7\u2085] at h7\u2083\n      have h7\u2086 := congr_arg Complex.re h7\u2083\n      simp [Complex.ext_iff, pow_two] at h7\u2086\n      <;> field_simp [h7\u2084] at h7\u2086 \u22a2\n      <;> ring_nf at h7\u2086 \u22a2 <;> norm_num at h7\u2086 \u22a2 <;>\n        (try norm_num) <;>\n        (try linarith) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try\n          {\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          }) <;>\n        (try\n          {\n            field_simp at h7\u2086 \u22a2 <;>\n            ring_nf at h7\u2086 \u22a2 <;>\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n      <;>\n      (try\n        {\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try\n        {\n          linarith\n        })\n    have h7\u2083 : (2 * z.re * z.im) / 4 = Real.sqrt 3 / 2 := by\n      have h7\u2084 : z / (starRingEnd \u2102 z) = -1 / 2 + I * (Real.sqrt 3 / 2) := h2\n      have h7\u2085 : z.re * z.re + z.im * z.im \u2260 0 := by\n        nlinarith\n      have h7\u2086 : z / (starRingEnd \u2102 z) = (\u2191(z.re * z.re - z.im * z.im) / (z.re * z.re + z.im * z.im) : \u2102) + I * (\u2191(2 * z.re * z.im) / (z.re * z.re + z.im * z.im) : \u2102) := by\n        field_simp [Complex.ext_iff, Complex.star_def, Complex.div_re, Complex.div_im, Complex.normSq]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> field_simp [h7\u2085]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num\n        <;> linarith\n      rw [h7\u2086] at h7\u2084\n      have h7\u2087 := congr_arg Complex.im h7\u2084\n      simp [Complex.ext_iff, pow_two] at h7\u2087\n      <;> field_simp [h7\u2085] at h7\u2087 \u22a2\n      <;> ring_nf at h7\u2087 \u22a2 <;> norm_num at h7\u2087 \u22a2 <;>\n        (try norm_num) <;>\n        (try linarith) <;>\n        (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]) <;>\n        (try\n          {\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          }) <;>\n        (try\n          {\n            field_simp at h7\u2087 \u22a2 <;>\n            ring_nf at h7\u2087 \u22a2 <;>\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n      <;>\n      (try\n        {\n          nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        })\n      <;>\n      (try\n        {\n          linarith\n        })\n    have h7\u2084 : z.re * z.re - z.im * z.im = -2 := by\n      have h7\u2085 : (z.re * z.re - z.im * z.im) / 4 = -1 / 2 := h7\u2082\n      linarith\n    have h7\u2085 : 2 * z.re * z.im = 2 * Real.sqrt 3 := by\n      have h7\u2086 : (2 * z.re * z.im) / 4 = Real.sqrt 3 / 2 := h7\u2083\n      linarith\n    have h7\u2086 : z.re = 1 := h6\n    have h7\u2087 : z.im = Real.sqrt 3 := by\n      have h7\u2088 : z.re * z.re + z.im * z.im = 4 := h7\u2081\n      have h7\u2089 : z.re * z.re - z.im * z.im = -2 := h7\u2084\n      have h7\u2081\u2080 : 2 * z.re * z.im = 2 * Real.sqrt 3 := h7\u2085\n      have h7\u2081\u2081 : z.re = 1 := h6\n      rw [h7\u2081\u2081] at h7\u2088 h7\u2089 h7\u2081\u2080\n      have h7\u2081\u2082 : (1 : \u211d) * (1 : \u211d) + z.im * z.im = 4 := by\n        ring_nf at h7\u2088 \u22a2\n        <;> linarith\n      have h7\u2081\u2083 : (1 : \u211d) * (1 : \u211d) - z.im * z.im = -2 := by\n        ring_nf at h7\u2089 \u22a2\n        <;> linarith\n      have h7\u2081\u2084 : 2 * (1 : \u211d) * z.im = 2 * Real.sqrt 3 := by\n        ring_nf at h7\u2081\u2080 \u22a2\n        <;> linarith\n      have h7\u2081\u2085 : z.im > 0 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      have h7\u2081\u2086 : z.im = Real.sqrt 3 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      exact h7\u2081\u2086\n    exact h7\u2087\n  \n  have h8 : z = 1 + I * Real.sqrt 3 := by\n    have h8\u2081 : z.re = 1 := h6\n    have h8\u2082 : z.im = Real.sqrt 3 := h7\n    have h8\u2083 : z = 1 + I * Real.sqrt 3 := by\n      apply Complex.ext <;> simp [Complex.ext_iff, h8\u2081, h8\u2082, Complex.I_mul_I]\n      <;> ring_nf <;> norm_num <;>\n      (try simp_all [Complex.ext_iff, pow_two]) <;>\n      (try nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)])\n    exact h8\u2083\n  \n  exact Or.inl h8"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "From the condition $\\operatorname{Re}(z) > 0$, we select the solution with a positive real part, which is $z = 1+i\\sqrt{3}$.", "statement": "We assume:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4];\n\u2022 $z\\bar{z} = 4$ [l1];\n\u2022 $z^2 = -2 + 2i\\sqrt{3}$ [l2];\n\u2022 $z = 1+i\\sqrt{3}$ or $z = -1-i\\sqrt{3}$ [l3].\nTherefore, we conclude:\n\u2022 $z = 1+i\\sqrt{3}$ [l4].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3)\n  (h6 : z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3) :\n  z = 1 + I * Real.sqrt 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3)\n  (h6 : z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3) :\n  z = 1 + I * Real.sqrt 3 := by\n  have h7 : z = 1 + I * Real.sqrt 3 := by\n    cases h6 with\n    | inl h6 =>\n      exact h6\n    | inr h6 =>\n      have h8 : z.re > 0 := h3\n      have h9 : z = -1 - I * Real.sqrt 3 := h6\n      have h10 : z.re = -1 := by\n        simp [h9, Complex.ext_iff, pow_two]\n        <;> ring_nf <;> norm_num\n        <;>\n        simp_all [Complex.ext_iff, pow_two, Complex.abs, Complex.normSq, Real.sqrt_eq_iff_sq_eq,\n          Real.sqrt_nonneg, add_nonneg, mul_self_nonneg]\n        <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      linarith\n  exact h7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Complex number type declaration correctly captures that z is a complex number", "Complex.abs z = 2 perfectly represents |z| = 2", "The division z / (starRingEnd \u2102 z) correctly represents z/z\u0304 with proper complex conjugate notation", "The condition 0 < z.re correctly represents Re(z) > 0", "The product z * (starRingEnd \u2102 z) = 4 correctly represents zz\u0304 = 4", "The equation z^2 = -2 + 2 * I * Real.sqrt 3 correctly represents z\u00b2 = -2 + 2i\u221a3", "The disjunction using \u2228 correctly represents the 'or' condition for the two possible values of z", "The conclusion z = 1 + I * Real.sqrt 3 correctly represents z = 1+i\u221a3"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Finally, we compute $z^3$ using the previously found values for $z$ and $z^2$: $z^3 = z \\cdot z^2 = (1+i\\sqrt{3})(-2+2i\\sqrt{3}) = -8$.", "statement": "We assume:\n\u2022 $z$ is a complex number [tc_1];\n\u2022 $|z| = 2$ [tc_2];\n\u2022 $\\frac{z}{\\bar{z}} = -\\frac{1}{2} + i\\frac{\\sqrt{3}}{2}$ [tc_3];\n\u2022 $\\operatorname{Re}(z) > 0$ [tc_4];\n\u2022 $z\\bar{z} = 4$ [l1];\n\u2022 $z^2 = -2 + 2i\\sqrt{3}$ [l2];\n\u2022 $z = 1+i\\sqrt{3}$ or $z = -1-i\\sqrt{3}$ [l3];\n\u2022 $z = 1+i\\sqrt{3}$ [l4].\nTherefore, we conclude:\n\u2022 $z^3 = -8$ [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3)\n  (h6 : z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3) :\n  z^3 = -8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * I * Real.sqrt 3)\n  (h6 : z = 1 + I * Real.sqrt 3 \u2228 z = -1 - I * Real.sqrt 3) :\n  z^3 = -8 := by\n  have h7 : z = 1 + I * Real.sqrt 3 := by\n    cases h6 with\n    | inl h =>\n      exact h\n    | inr h =>\n      have h8 : z.re < 0 := by\n        rw [h]\n        simp [Complex.ext_iff, Complex.re, Complex.im, Complex.I_re]\n        <;> norm_num <;>\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      have h9 : 0 < z.re := h3\n      linarith\n  \n  rw [h7]\n  simp [Complex.ext_iff, pow_three, pow_two, Complex.ext_iff, Complex.I_mul_I]\n  <;>\n  norm_num <;>\n  ring_nf <;>\n  norm_num <;>\n  simp_all [Complex.ext_iff, pow_three, pow_two, Complex.ext_iff, Complex.I_mul_I] <;>\n  norm_num <;>\n  (try\n    nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)]) <;>\n  (try\n    {\n      simp_all [Complex.ext_iff, pow_three, pow_two, Complex.ext_iff, Complex.I_mul_I]\n      <;>\n      norm_num <;>\n      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show (0 : \u211d) \u2264 3 by norm_num)]\n    })", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 21, "column": 8, "endLine": 21, "endColumn": 77, "data": "linarith failed to find a contradiction\ncase h\nI z : \u2102\nh1 : Complex.abs z = 2\nh2 : z / (starRingEnd \u2102) z = -1 / 2 + I * (\u2191\u221a3 / 2)\nh3 : 0 < z.re\nh4 : z * (starRingEnd \u2102) z = 4\nh5 : z ^ 2 = -2 + 2 * I * \u2191\u221a3\nh : z = -1 - I * \u2191\u221a3\na\u271d : -1 \u2265 I.re * \u221a3\n\u22a2 False failed"}, {"line": 11, "column": 14, "endLine": 41, "endColumn": 6, "data": "unsolved goals\nI z : \u2102\nh1 : Complex.abs (1 + I * \u2191\u221a3) = 2\nh2 :\n  ((1 + I * \u2191\u221a3) / (1 + (starRingEnd \u2102) I * \u2191\u221a3)).re = -1 / 2 + I.re * (\u221a3 / 2) \u2227\n    ((1 + I * \u2191\u221a3) / (1 + (starRingEnd \u2102) I * \u2191\u221a3)).im = I.im * (\u221a3 / 2)\nh3 : 0 < 1 + I.re * \u221a3\nh4 :\n  (1 + I.re * \u221a3) * (1 + I.re * \u221a3) + I.im * \u221a3 * (I.im * \u221a3) = 4 \u2227\n    -((1 + I.re * \u221a3) * (I.im * \u221a3)) + I.im * \u221a3 * (1 + I.re * \u221a3) = 0\nh5 :\n  (1 + I.re * \u221a3) * (1 + I.re * \u221a3) - I.im * \u221a3 * (I.im * \u221a3) = -2 + 2 * I.re * \u221a3 \u2227\n    (1 + I.re * \u221a3) * (I.im * \u221a3) + I.im * \u221a3 * (1 + I.re * \u221a3) = 2 * I.im * \u221a3\nh7 : z.re = 1 + I.re * \u221a3 \u2227 z.im = I.im * \u221a3\n\u22a2 1 + (I.re * \u221a3 * 3 - I.re * (\u221a3 * 3) * (I.im * I.im) * 3) + I.re * I.re * 3 * 3 +\n        (I.re * (I.re * I.re) * (\u221a3 * 3) - 3 * (I.im * I.im) * 3) =\n      -8 \u2227\n    I.re * 3 * I.im * 6 + I.re * I.re * (\u221a3 * 3) * I.im * 3 + (\u221a3 * I.im * 3 - \u221a3 * 3 * (I.im * (I.im * I.im))) = 0"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical content from the natural language. All assumptions (tc_1 through tc_4), intermediate results (l1, l2, l3), and the conclusion (ts_1) are properly represented. The fact that l4 (z = 1 + i\u221a3) is not explicitly stated as a separate hypothesis is not problematic, as it can be derived from h3 and h6 - the constraint Re(z) > 0 eliminates the negative option from the disjunction. The mathematical expressions are accurately translated using appropriate Lean syntax for complex numbers, and the overall logical structure is preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (z : \u2102) \n  (h1 : Complex.abs z = 2)\n  (h2 : z / (starRingEnd \u2102 z) = -1/2 + Complex.I * (Real.sqrt 3 / 2))\n  (h3 : 0 < z.re)\n  (h4 : z * (starRingEnd \u2102 z) = 4)\n  (h5 : z^2 = -2 + 2 * Complex.I * Real.sqrt 3)\n  (h6 : z = 1 + Complex.I * Real.sqrt 3 \u2228 z = -1 - Complex.I * Real.sqrt 3) :\n  z^3 = -8 := by\n  have h_sqrt : (Real.sqrt 3 : \u211d) ^ 2 = 3 := by\n    norm_num [Real.sqrt_eq_iff_sq_eq]\n    <;>\n    (try\n      {\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      })\n  \n  have h_main : z^3 = -8 := by\n    cases h6 with\n    | inl h =>\n      -- Case: z = 1 + i\u221a3\n      have h7 : z = 1 + Complex.I * Real.sqrt 3 := h\n      rw [h7]\n      -- Compute (1 + i\u221a3)^3\n      have h8 : (1 + Complex.I * Real.sqrt 3 : \u2102) ^ 3 = -8 := by\n        -- Expand (1 + i\u221a3)^3\n        calc\n          (1 + Complex.I * Real.sqrt 3 : \u2102) ^ 3 = (1 + Complex.I * Real.sqrt 3 : \u2102) ^ 2 * (1 + Complex.I * Real.sqrt 3 : \u2102) := by ring\n          _ = (-2 + 2 * Complex.I * Real.sqrt 3) * (1 + Complex.I * Real.sqrt 3 : \u2102) := by\n            -- Compute (1 + i\u221a3)^2 = -2 + 2i\u221a3\n            have h9 : (1 + Complex.I * Real.sqrt 3 : \u2102) ^ 2 = (-2 + 2 * Complex.I * Real.sqrt 3 : \u2102) := by\n              calc\n                (1 + Complex.I * Real.sqrt 3 : \u2102) ^ 2 = (1 + Complex.I * Real.sqrt 3 : \u2102) * (1 + Complex.I * Real.sqrt 3 : \u2102) := by ring\n                _ = (1 : \u2102) * 1 + (1 : \u2102) * (Complex.I * Real.sqrt 3) + (Complex.I * Real.sqrt 3) * 1 + (Complex.I * Real.sqrt 3) * (Complex.I * Real.sqrt 3) := by ring\n                _ = 1 + Complex.I * Real.sqrt 3 + Complex.I * Real.sqrt 3 + (Complex.I * Real.sqrt 3) * (Complex.I * Real.sqrt 3) := by ring\n                _ = 1 + Complex.I * Real.sqrt 3 + Complex.I * Real.sqrt 3 + (Complex.I * Complex.I) * (Real.sqrt 3 * Real.sqrt 3) := by ring\n                _ = 1 + Complex.I * Real.sqrt 3 + Complex.I * Real.sqrt 3 + (-1 : \u2102) * (Real.sqrt 3 * Real.sqrt 3) := by\n                  simp [Complex.ext_iff, Complex.I_mul_I, pow_two]\n                  <;> norm_num\n                  <;>\n                  simp_all [Complex.ext_iff, Complex.I_mul_I, pow_two]\n                  <;> ring_nf\n                  <;> norm_num\n                  <;>\n                  (try\n                    {\n                      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n                    })\n                _ = 1 + Complex.I * Real.sqrt 3 + Complex.I * Real.sqrt 3 + (-1 : \u2102) * 3 := by\n                  have h10 : Real.sqrt 3 * Real.sqrt 3 = 3 := by\n                    have h10 : (Real.sqrt 3 : \u211d) ^ 2 = 3 := h_sqrt\n                    nlinarith [Real.sqrt_nonneg 3]\n                  simp [h10]\n                  <;> ring_nf\n                  <;> norm_num\n                _ = 1 + Complex.I * Real.sqrt 3 + Complex.I * Real.sqrt 3 - 3 := by ring\n                _ = -2 + 2 * Complex.I * Real.sqrt 3 := by\n                  ring_nf\n                  <;> simp [Complex.ext_iff, pow_two]\n                  <;> norm_num\n                  <;>\n                  (try\n                    {\n                      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n                    })\n            rw [h9]\n            <;> ring_nf\n          _ = -8 := by\n            -- Multiply (-2 + 2i\u221a3)(1 + i\u221a3) = -8\n            calc\n              (-2 + 2 * Complex.I * Real.sqrt 3) * (1 + Complex.I * Real.sqrt 3 : \u2102) = (-2 : \u2102) * 1 + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) * 1 + (2 * Complex.I * Real.sqrt 3) * (Complex.I * Real.sqrt 3) := by ring\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) * (Complex.I * Real.sqrt 3) := by ring\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) + 2 * (Complex.I * Real.sqrt 3) * (Complex.I * Real.sqrt 3) := by ring\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) + 2 * (Complex.I * Complex.I) * (Real.sqrt 3 * Real.sqrt 3) := by ring\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) + 2 * (-1 : \u2102) * (Real.sqrt 3 * Real.sqrt 3) := by\n                simp [Complex.ext_iff, Complex.I_mul_I, pow_two]\n                <;> norm_num\n                <;>\n                (try\n                  {\n                    simp_all [Complex.ext_iff, Complex.I_mul_I, pow_two]\n                    <;> ring_nf\n                    <;> norm_num\n                    <;>\n                    (try\n                      {\n                        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n                      })\n                  })\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) + 2 * (-1 : \u2102) * 3 := by\n                have h10 : Real.sqrt 3 * Real.sqrt 3 = 3 := by\n                  have h10 : (Real.sqrt 3 : \u211d) ^ 2 = 3 := h_sqrt\n                  nlinarith [Real.sqrt_nonneg 3]\n                simp [h10]\n                <;> ring_nf\n                <;> norm_num\n              _ = (-2 : \u2102) + (-2 : \u2102) * (Complex.I * Real.sqrt 3) + (2 * Complex.I * Real.sqrt 3) - 6 := by ring\n              _ = -8 := by\n                ring_nf\n                <;> simp [Complex.ext_iff, pow_two]\n                <;> norm_num\n                <;>\n                (try\n                  {\n                    nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n                  })\n      rw [h8]\n    | inr h =>\n      -- Case: z = -1 - i\u221a3\n      have h7 : z = -1 - Complex.I * Real.sqrt 3 := h\n      have h8 : z.re = -1 := by\n        rw [h7]\n        simp [Complex.ext_iff, Complex.I_re, Complex.I_im, Real.sqrt_eq_iff_sq_eq]\n        <;> ring_nf <;> norm_num\n        <;>\n        (try\n          {\n            nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n        <;>\n        (try\n          {\n            field_simp [Real.sqrt_eq_iff_sq_eq]\n            <;> ring_nf\n            <;> norm_num\n            <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n          })\n      have h9 : z.re > 0 := h3\n      linarith\n  exact h_main"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    