
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any triangle with side lengths $a, b, c$ and semi-perimeter $s$, the following inequality holds: $a^{2}(s-a) + b^{2}(s-a) + c^{2}(s-a) \\leq \\frac{3}{2} a b c$.

Proof: Let $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ with $s=	frac{a+b+c}{2}$. Substituting $s-a=	frac{b+c-a}{2}$ and similar expressions gives $2E=(a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3})$. On the other hand, expanding $(b+c-a)(c+a-b)(a+b-c)$ yields the same expression but with an extra $-2abc$, so $2E=(b+c-a)(c+a-b)(a+b-c)+2abc$, hence $E=	frac{(b+c-a)(c+a-b)(a+b-c)}{2}+abc$. To prove $E\leq 	frac{3}{2}abc$ it suffices to show $(b+c-a)(c+a-b)(a+b-c)\leq abc$. Setting $a=	frac{y+z}{2},\;b=	frac{x+z}{2},\;c=	frac{x+y}{2}$ with $x,y,z>0$, this becomes $8xyz\leq (x+y)(y+z)(z+x)$. Expanding the right-hand side gives $2xyz+(x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+x^{2}z)$, so the inequality reduces to $6xyz\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+x^{2}z$. Grouping terms shows the right-hand side equals $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2})$, which is at least $2yzx+2xzy+2xy z=6xyz$ by AMâ€“GM. Therefore the inequality holds, and we conclude $E\leq	frac{3}{2}abc$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "for any triangle with side lengths $a, b, c$", "statement": "Premise:\n\u2022 a, b, c are the side lengths of a triangle, which implies a>0, b>0, c>0 and the triangle inequalities a+b>c, a+c>b, b+c>a [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are real numbers representing triangle side lengths through the variable declarations and the comprehensive triangle inequality constraint", "The Lean constraint 0 < a is mathematically equivalent to a > 0", "The Lean constraint 0 < b is mathematically equivalent to b > 0", "The Lean constraint 0 < c is mathematically equivalent to c > 0", "The triangle inequality a + b > c matches exactly", "The triangle inequality a + c > b matches exactly", "The triangle inequality b + c > a matches exactly"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Let $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ with $s=\tfrac{a+b+c}{2}$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\nDefinition:\n\u2022 E is defined as the expression $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ [def_1a].\n\u2022 s is the semi-perimeter, $s = \\frac{a+b+c}{2}$ [def_1b].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\nvariable (s E : \u211d)\n(def_1b : s = (a + b + c) / 2)\n(def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are side lengths of a triangle. While the natural language simply states 'side lengths of a triangle', the Lean version provides the complete mathematical conditions (positive lengths and triangle inequalities) that formally define what it means to be side lengths of a triangle. This is an appropriate and more precise formalization.", "The Lean formalization exactly matches the mathematical expression for E, with multiplication explicitly denoted using * operator instead of implicit multiplication in the mathematical notation.", "The Lean formalization exactly matches the definition of s as the semi-perimeter, with division explicitly denoted using / operator."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Substituting $s-a=\tfrac{b+c-a}{2}$ and similar expressions gives $2E=(a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3})$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 E is defined as the expression $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ [def_1a].\n\u2022 s is the semi-perimeter, $s = \\frac{a+b+c}{2}$ [def_1b].\nTherefore, we conclude:\n\u2022 $2E=(a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3})$ [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)) :\n  2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)) :\n  2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) := by\n  have h2E : 2 * E = 2 * (a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)) := by\n    rw [def_1a]\n    <;> ring_nf\n    <;> linarith\n  \n  have h2E_expanded : 2 * E = 2 * s * (a^2 + b^2 + c^2) - 2 * (a^3 + b^3 + c^3) := by\n    have h\u2081 : 2 * E = 2 * (a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)) := h2E\n    have h\u2082 : 2 * (a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)) = 2 * s * (a^2 + b^2 + c^2) - 2 * (a^3 + b^3 + c^3) := by\n      ring_nf\n      <;>\n      (try norm_num) <;>\n      (try linarith) <;>\n      (try nlinarith)\n    linarith\n  \n  have h_substitute_s : 2 * E = (a + b + c) * (a^2 + b^2 + c^2) - 2 * (a^3 + b^3 + c^3) := by\n    have h\u2081 : 2 * E = 2 * s * (a^2 + b^2 + c^2) - 2 * (a^3 + b^3 + c^3) := h2E_expanded\n    have h\u2082 : s = (a + b + c) / 2 := def_1b\n    rw [h\u2081]\n    rw [h\u2082]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  have h_expand_product : (a + b + c) * (a^2 + b^2 + c^2) = a^3 + b^3 + c^3 + (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) := by\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  have h_final : 2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) := by\n    have h\u2081 : 2 * E = (a + b + c) * (a^2 + b^2 + c^2) - 2 * (a^3 + b^3 + c^3) := h_substitute_s\n    have h\u2082 : (a + b + c) * (a^2 + b^2 + c^2) = a^3 + b^3 + c^3 + (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) := h_expand_product\n    rw [h\u2081]\n    rw [h\u2082]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  rw [h_final]\n  <;>\n  (try norm_num) <;>\n  (try linarith) <;>\n  (try nlinarith)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle condition is correctly formalized. The natural language states 'a, b, c are the side lengths of a triangle' and the Lean code properly captures this with positivity constraints and triangle inequalities. The additional explicit constraints (positivity and triangle inequalities) are mathematically necessary and consistent with the natural language meaning.", "The semi-perimeter definition matches perfectly. Both the natural language and Lean express s = (a+b+c)/2 identically.", "The expression E definition is correctly formalized. The mathematical expression a\u00b2(s-a)+b\u00b2(s-b)+c\u00b2(s-c) is accurately represented in Lean syntax with appropriate multiplication operators.", "The conclusion statement matches perfectly. The equation 2E=(a\u00b2b+a\u00b2c+b\u00b2a+b\u00b2c+c\u00b2a+c\u00b2b)-(a\u00b3+b\u00b3+c\u00b3) is correctly translated to Lean with proper operator precedence and grouping."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "On the other hand, expanding $(b+c-a)(c+a-b)(a+b-c)$ yields the same expression but with an extra $-2abc$", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 E is defined as the expression $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ [def_1a].\n\u2022 s is the semi-perimeter, $s = \\frac{a+b+c}{2}$ [def_1b].\n\u2022 $2E=(a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3})$ [l1].\nTherefore, we conclude:\n\u2022 $(b+c-a)(c+a-b)(a+b-c) = (a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3}) - 2abc$ [l2].", "dependencies": ["tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem triangle_inequality (a b c : \u211d) \n  (h_pos : 0 < a \u2227 0 < b \u2227 0 < c)\n  (h_triangle : a + b > c \u2227 a + c > b \u2227 b + c > a) :\n  let s := (a + b + c) / 2\n  a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem triangle_inequality (a b c : \u211d) \n  (h_pos : 0 < a \u2227 0 < b \u2227 0 < c)\n  (h_triangle : a + b > c \u2227 a + c > b \u2227 b + c > a) :\n  let s := (a + b + c) / 2\n  a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by\n  intro s\n  have h_s : s = (a + b + c) / 2 := by\n    dsimp only [s]\n    <;>\n    ring_nf\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  have h_main_ineq : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b - a^3 - b^3 - c^3) / 2 := by\n    have h1 : s = (a + b + c) / 2 := h_s\n    rw [h1]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try ring_nf at *) <;>\n    (try field_simp at *) <;>\n    (try nlinarith)\n    <;>\n    linarith\n  \n  have h_key : a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b \u2264 a^3 + b^3 + c^3 + 3 * a * b * c := by\n    have h\u2081 : 0 < a := by linarith\n    have h\u2082 : 0 < b := by linarith\n    have h\u2083 : 0 < c := by linarith\n    have h\u2084 : 0 < a * b := by positivity\n    have h\u2085 : 0 < a * c := by positivity\n    have h\u2086 : 0 < b * c := by positivity\n    have h\u2087 : 0 < a * b * c := by positivity\n    -- Use nlinarith to prove the inequality based on squares and triangle inequalities\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n      mul_pos h\u2081 h\u2082, mul_pos h\u2082 h\u2083, mul_pos h\u2083 h\u2081,\n      mul_pos (sub_pos.mpr h_triangle.1) (sub_pos.mpr h_triangle.2.1),\n      mul_pos (sub_pos.mpr h_triangle.2.1) (sub_pos.mpr h_triangle.2.2),\n      mul_pos (sub_pos.mpr h_triangle.2.2) (sub_pos.mpr h_triangle.1),\n      sq_nonneg (a + b - c), sq_nonneg (b + c - a), sq_nonneg (c + a - b)]\n  \n  have h_final : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by\n    have h\u2081 : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b - a^3 - b^3 - c^3) / 2 := by\n      rw [h_main_ineq]\n    rw [h\u2081]\n    have h\u2082 : a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b \u2264 a^3 + b^3 + c^3 + 3 * a * b * c := by\n      exact h_key\n    have h\u2083 : (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b - a^3 - b^3 - c^3) / 2 \u2264 (3 * a * b * c) / 2 := by\n      linarith\n    have h\u2084 : (3 * a * b * c) / 2 = (3 / 2) * a * b * c := by\n      ring\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The triangle conditions are properly captured. The Lean formalization includes both positivity constraints and triangle inequality conditions, which correctly represent 'a, b, c are the side lengths of a triangle'.", "The expression E = a\u00b2(s-a) + b\u00b2(s-b) + c\u00b2(s-c) is correctly represented in Lean as 'a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)'.", "The semi-perimeter definition s = (a+b+c)/2 is correctly captured as 's := (a + b + c) / 2'.", "The natural language presents an algebraic identity [l1] about 2E equaling a specific expression, but the Lean formalization completely omits this mathematical relationship.", "The natural language concludes with a specific algebraic identity [l2] involving (b+c-a)(c+a-b)(a+b-c), but the Lean formalization instead proves a completely different inequality statement about E \u2264 (3/2)*a*b*c. This is a fundamental mismatch in the mathematical conclusion being established."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The triangle conditions are properly captured. The Lean formalization includes both positivity constraints and triangle inequality conditions, which correctly represent 'a, b, c are the side lengths of a triangle'.\", \"The expression E = a\u00b2(s-a) + b\u00b2(s-b) + c\u00b2(s-c) is correctly represented in Lean as 'a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c)'.\", \"The semi-perimeter definition s = (a+b+c)/2 is correctly captured as 's := (a + b + c) / 2'.\", 'The natural language presents an algebraic identity [l1] about 2E equaling a specific expression, but the Lean formalization completely omits this mathematical relationship.', 'The natural language concludes with a specific algebraic identity [l2] involving (b+c-a)(c+a-b)(a+b-c), but the Lean formalization instead proves a completely different inequality statement about E \u2264 (3/2)*a*b*c. This is a fundamental mismatch in the mathematical conclusion being established.']"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "so $2E=(b+c-a)(c+a-b)(a+b-c)+2abc$, hence $E=\tfrac{(b+c-a)(c+a-b)(a+b-c)}{2}+abc$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 E is defined as the expression $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ [def_1a].\n\u2022 s is the semi-perimeter, $s = \\frac{a+b+c}{2}$ [def_1b].\n\u2022 $2E=(a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3})$ [l1].\n\u2022 $(b+c-a)(c+a-b)(a+b-c) = (a^{2}b+a^{2}c+b^{2}a+b^{2}c+c^{2}a+c^{2}b)-(a^{3}+b^{3}+c^{3}) - 2abc$ [l2].\nTherefore, we conclude:\n\u2022 $E = \\frac{(b+c-a)(c+a-b)(a+b-c)}{2} + abc$ [l3].", "dependencies": ["tc_1", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l1 : 2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3))\n  (l2 : (b + c - a) * (c + a - b) * (a + b - c) = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) - 2 * a * b * c) :\n  E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l1 : 2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3))\n  (l2 : (b + c - a) * (c + a - b) * (a + b - c) = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) - 2 * a * b * c) :\n  E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by\n  have h_step1 : (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) = (b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c := by\n    have h2 : (b + c - a) * (c + a - b) * (a + b - c) = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) - 2 * a * b * c := l2\n    have h3 : (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) = (b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c := by\n      linarith\n    exact h3\n  \n  have h_step2 : 2 * E = (b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c := by\n    have h3 : 2 * E = (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) := l1\n    have h4 : (a^2 * b + a^2 * c + b^2 * a + b^2 * c + c^2 * a + c^2 * b) - (a^3 + b^3 + c^3) = (b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c := h_step1\n    linarith\n  \n  have h_step3 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by\n    have h3 : 2 * E = (b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c := h_step2\n    have h4 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by\n      have h5 : E = ((b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c) / 2 := by\n        linarith\n      have h6 : ((b + c - a) * (c + a - b) * (a + b - c) + 2 * a * b * c) / 2 = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by\n        ring\n      linarith\n    exact h4\n  \n  exact h_step3", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Triangle condition tc_1 is correctly formalized with positivity and triangle inequality constraints that properly capture 'side lengths of a triangle'", "Definition of E (def_1a) is perfectly translated with correct mathematical notation", "Semi-perimeter definition (def_1b) matches exactly", "Equation l1 is correctly formalized with proper operator precedence and grouping", "Equation l2 is accurately captured with all terms in correct positions", "Conclusion l3 correctly represents the final equation with proper division and addition operations"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "To prove $E\\leq \tfrac{3}{2}abc$ it suffices to show $(b+c-a)(c+a-b)(a+b-c)\\leq abc$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 $E = \\frac{(b+c-a)(c+a-b)(a+b-c)}{2} + abc$ [l3].\nTherefore, we conclude:\n\u2022 The inequality $E_\\text{def} \\leq \\frac{3}{2}abc$ is equivalent to proving $(b+c-a)(c+a-b)(a+b-c) \\leq abc$ [l4].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l3 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c) :\n  (E \u2264 (3/2) * a * b * c \u2194 (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l3 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c) :\n  (E \u2264 (3/2) * a * b * c \u2194 (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c) := by\n  have h_main : (E \u2264 (3/2) * a * b * c \u2194 (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c) := by\n    constructor\n    \u00b7 -- Prove the forward direction: E \u2264 (3/2) * a * b * c \u2192 (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c\n      intro h\n      have h\u2081 : (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c \u2264 (3 / 2 : \u211d) * a * b * c := by\n        linarith [l3]\n      -- Subtract a * b * c from both sides\n      have h\u2082 : (b + c - a) * (c + a - b) * (a + b - c) / 2 \u2264 (1 / 2 : \u211d) * a * b * c := by\n        linarith\n      -- Multiply both sides by 2\n      have h\u2083 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c := by\n        linarith\n      exact h\u2083\n    \u00b7 -- Prove the reverse direction: (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c \u2192 E \u2264 (3/2) * a * b * c\n      intro h\n      have h\u2081 : (b + c - a) * (c + a - b) * (a + b - c) / 2 \u2264 (1 / 2 : \u211d) * a * b * c := by\n        linarith\n      -- Add a * b * c to both sides\n      have h\u2082 : (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c \u2264 (3 / 2 : \u211d) * a * b * c := by\n        linarith\n      -- Substitute E using l3\n      linarith [l3]\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle condition is correctly formalized with appropriate positivity and triangle inequality constraints that properly capture 'side lengths of a triangle'", "The definition of E matches exactly between natural language and Lean formalization, with correct mathematical notation translation", "The main equivalence statement is perfectly captured in Lean, with the logical structure (E \u2264 3/2*abc \u2194 product \u2264 abc) correctly formalized. The additional definitions in Lean (def_1a, def_1b) provide extra context but don't contradict the natural language statement"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Setting $a=\tfrac{y+z}{2},\\;b=\tfrac{x+z}{2},\\;c=\tfrac{x+y}{2}$ with $x,y,z>0$,", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\nDefinition:\n\u2022 We introduce a change of variables (Ravi substitution) where $a = \\frac{y+z}{2}$, $b = \\frac{x+z}{2}$, $c = \\frac{x+y}{2}$ for some positive real numbers x, y, z [def_2]. Note that $x=b+c-a$, $y=c+a-b$, $z=a+b-c$, and $x,y,z > 0$ is guaranteed by the triangle inequalities in [tc_1].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem def_2\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a) :\n  \u2203 x y z : \u211d,\n    a = (y + z) / 2 \u2227 \n    b = (x + z) / 2 \u2227 \n    c = (x + y) / 2 \u2227\n    x = b + c - a \u2227 \n    y = c + a - b \u2227 \n    z = a + b - c \u2227\n    0 < x \u2227 0 < y \u2227 0 < z := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are side lengths of a triangle by including positivity conditions and all three triangle inequalities", "The Lean formalization correctly represents the change of variables as an existential statement with the three defining equations for a, b, c in terms of x, y, z", "The equation x = b + c - a matches exactly between natural language and Lean", "The equation y = c + a - b matches exactly between natural language and Lean", "The equation z = a + b - c matches exactly between natural language and Lean", "The positivity conditions 0 < x \u2227 0 < y \u2227 0 < z in Lean correctly capture that x, y, z > 0 from the natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l5": {"id": "l5", "natural_language": "this becomes $8xyz\\leq (x+y)(y+z)(z+x)$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 The original inequality is equivalent to $(b+c-a)(c+a-b)(a+b-c) \\leq abc$ [l4].\n\u2022 We use the substitution $a = \\frac{y+z}{2}$, $b = \\frac{x+z}{2}$, $c = \\frac{x+y}{2}$ [def_2].\nTherefore, we conclude:\n\u2022 The inequality from [l4] is equivalent to $8xyz \\leq (x+y)(y+z)(z+x)$ [l5].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (x y z : \u211d)\n  (def_2 : a = (y + z) / 2 \u2227 b = (x + z) / 2 \u2227 c = (x + y) / 2 \u2227 0 < x \u2227 0 < y \u2227 0 < z)\n  (l4 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c) :\n  8 * x * y * z \u2264 (x + y) * (y + z) * (z + x) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (x y z : \u211d)\n  (def_2 : a = (y + z) / 2 \u2227 b = (x + z) / 2 \u2227 c = (x + y) / 2 \u2227 0 < x \u2227 0 < y \u2227 0 < z)\n  (l4 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c) :\n  8 * x * y * z \u2264 (x + y) * (y + z) * (z + x) := by\n  have h\u2081 : b + c - a = x := by\n    have h\u2081\u2081 : a = (y + z) / 2 := def_2.1\n    have h\u2081\u2082 : b = (x + z) / 2 := def_2.2.1\n    have h\u2081\u2083 : c = (x + y) / 2 := def_2.2.2.1\n    rw [h\u2081\u2081, h\u2081\u2082, h\u2081\u2083]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith [def_2.2.2.2.1, def_2.2.2.2.2.1, def_2.2.2.2.2.2])\n    <;>\n    (try nlinarith)\n  \n  have h\u2082 : c + a - b = y := by\n    have h\u2082\u2081 : a = (y + z) / 2 := def_2.1\n    have h\u2082\u2082 : b = (x + z) / 2 := def_2.2.1\n    have h\u2082\u2083 : c = (x + y) / 2 := def_2.2.2.1\n    rw [h\u2082\u2081, h\u2082\u2082, h\u2082\u2083]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith [def_2.2.2.2.1, def_2.2.2.2.2.1, def_2.2.2.2.2.2])\n    <;>\n    (try nlinarith)\n  \n  have h\u2083 : a + b - c = z := by\n    have h\u2083\u2081 : a = (y + z) / 2 := def_2.1\n    have h\u2083\u2082 : b = (x + z) / 2 := def_2.2.1\n    have h\u2083\u2083 : c = (x + y) / 2 := def_2.2.2.1\n    rw [h\u2083\u2081, h\u2083\u2082, h\u2083\u2083]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith [def_2.2.2.2.1, def_2.2.2.2.2.1, def_2.2.2.2.2.2])\n    <;>\n    (try nlinarith)\n  \n  have h\u2084 : (b + c - a) * (c + a - b) * (a + b - c) = x * y * z := by\n    calc\n      (b + c - a) * (c + a - b) * (a + b - c) = x * (c + a - b) * (a + b - c) := by rw [h\u2081]\n      _ = x * y * (a + b - c) := by rw [h\u2082]\n      _ = x * y * z := by rw [h\u2083]\n      _ = x * y * z := by ring\n  \n  have h\u2085 : a * b * c = (x + y) * (y + z) * (z + x) / 8 := by\n    have h\u2085\u2081 : a = (y + z) / 2 := def_2.1\n    have h\u2085\u2082 : b = (x + z) / 2 := def_2.2.1\n    have h\u2085\u2083 : c = (x + y) / 2 := def_2.2.2.1\n    rw [h\u2085\u2081, h\u2085\u2082, h\u2085\u2083]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith [def_2.2.2.2.1, def_2.2.2.2.2.1, def_2.2.2.2.2.2])\n    <;>\n    (try nlinarith)\n  \n  have h\u2086 : x * y * z \u2264 (x + y) * (y + z) * (z + x) / 8 := by\n    have h\u2086\u2081 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c := l4\n    have h\u2086\u2082 : (b + c - a) * (c + a - b) * (a + b - c) = x * y * z := h\u2084\n    have h\u2086\u2083 : a * b * c = (x + y) * (y + z) * (z + x) / 8 := h\u2085\n    linarith\n  \n  have h\u2087 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x) := by\n    have h\u2087\u2081 : 0 < x := def_2.2.2.2.1\n    have h\u2087\u2082 : 0 < y := def_2.2.2.2.2.1\n    have h\u2087\u2083 : 0 < z := def_2.2.2.2.2.2\n    have h\u2087\u2084 : 0 < x * y := by positivity\n    have h\u2087\u2085 : 0 < x * y * z := by positivity\n    have h\u2087\u2086 : x * y * z \u2264 (x + y) * (y + z) * (z + x) / 8 := h\u2086\n    have h\u2087\u2087 : 8 * (x * y * z) \u2264 (x + y) * (y + z) * (z + x) := by\n      calc\n        8 * (x * y * z) = 8 * (x * y * z) := by rfl\n        _ \u2264 8 * ((x + y) * (y + z) * (z + x) / 8) := by gcongr <;> nlinarith\n        _ = (x + y) * (y + z) * (z + x) := by ring\n    calc\n      8 * x * y * z = 8 * (x * y * z) := by ring\n      _ \u2264 (x + y) * (y + z) * (z + x) := by linarith\n  \n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Triangle conditions are correctly formalized with positivity and triangle inequalities", "Original inequality l4 is perfectly translated mathematically", "Substitution formulas are correct; additional positivity conditions are logically consistent", "Target inequality l5 is perfectly translated", "Overall logical structure and dependencies are correctly captured"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "Expanding the right-hand side gives $2xyz+(x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+x^{2}z)$,", "statement": "We assume:\n\u2022 The inequality to prove is $8xyz \\leq (x+y)(y+z)(z+x)$ [l5].\nTherefore, we conclude:\n\u2022 $(x+y)(y+z)(z+x) = 2xyz + x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l6].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l3 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c)\n  (l4 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c)\n  (x y z : \u211d)\n  (def_2 : a = (y + z) / 2 \u2227 b = (x + z) / 2 \u2227 c = (x + y) / 2 \u2227 0 < x \u2227 0 < y \u2227 0 < z)\n  (l5 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x)) :\n  (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s E : \u211d)\n  (def_1b : s = (a + b + c) / 2)\n  (def_1a : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c))\n  (l3 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c)\n  (l4 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c)\n  (x y z : \u211d)\n  (def_2 : a = (y + z) / 2 \u2227 b = (x + z) / 2 \u2227 c = (x + y) / 2 \u2227 0 < x \u2227 0 < y \u2227 0 < z)\n  (l5 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x)) :\n  (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n  have h\u2081 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + x^2 * z + x * z^2 + y^2 * z + y * z^2 := by\n    have h\u2081 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + x^2 * z + x * z^2 + y^2 * z + y * z^2 := by\n      ring_nf\n      <;>\n      (try norm_num) <;>\n      (try linarith [def_2.2.2.2, def_2.2.2.3, def_2.2.2.4]) <;>\n      (try nlinarith [def_2.2.2.2, def_2.2.2.3, def_2.2.2.4]) <;>\n      (try ring_nf at * <;> nlinarith [def_2.2.2.2, def_2.2.2.3, def_2.2.2.4])\n    exact h\u2081\n  \n  have h\u2082 : x = z := by\n    have h\u2083 : a = (y + z) / 2 := def_2.1\n    have h\u2084 : b = (x + z) / 2 := def_2.2.1\n    have h\u2085 : c = (x + y) / 2 := def_2.2.2.1\n    have h\u2086 : 0 < x := def_2.2.2.2\n    have h\u2087 : 0 < y := def_2.2.2.3\n    have h\u2088 : 0 < z := def_2.2.2.4\n    have h\u2089 : 0 < a := by linarith [tc_1.1]\n    have h\u2081\u2080 : 0 < b := by linarith [tc_1.2.1]\n    have h\u2081\u2081 : 0 < c := by linarith [tc_1.2.2.1]\n    have h\u2081\u2082 : a + b > c := by linarith [tc_1.2.2.2.1]\n    have h\u2081\u2083 : a + c > b := by linarith [tc_1.2.2.2.2.1]\n    have h\u2081\u2084 : b + c > a := by linarith [tc_1.2.2.2.2.2]\n    have h\u2081\u2085 : s = (a + b + c) / 2 := by rw [def_1b]\n    have h\u2081\u2086 : E = a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) := by rw [def_1a]\n    have h\u2081\u2087 : E = (b + c - a) * (c + a - b) * (a + b - c) / 2 + a * b * c := by rw [l3]\n    have h\u2081\u2088 : (b + c - a) * (c + a - b) * (a + b - c) \u2264 a * b * c := by linarith [l4]\n    have h\u2081\u2089 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x) := by linarith [l5]\n    have h\u2082\u2080 : (b + c - a) = x := by\n      have h\u2082\u2080\u2081 : b + c - a = x := by\n        rw [h\u2084, h\u2085, h\u2083]\n        ring_nf\n        <;> linarith\n      linarith\n    have h\u2082\u2081 : (c + a - b) = y := by\n      have h\u2082\u2081\u2081 : c + a - b = y := by\n        rw [h\u2085, h\u2083, h\u2084]\n        ring_nf\n        <;> linarith\n      linarith\n    have h\u2082\u2082 : (a + b - c) = z := by\n      have h\u2082\u2082\u2081 : a + b - c = z := by\n        rw [h\u2083, h\u2084, h\u2085]\n        ring_nf\n        <;> linarith\n      linarith\n    have h\u2082\u2083 : (b + c - a) * (c + a - b) * (a + b - c) = x * y * z := by\n      calc\n        (b + c - a) * (c + a - b) * (a + b - c) = x * y * z := by\n          rw [h\u2082\u2080, h\u2082\u2081, h\u2082\u2082]\n          <;> ring\n        _ = x * y * z := by ring\n    have h\u2082\u2084 : x * y * z \u2264 a * b * c := by\n      calc\n        x * y * z = (b + c - a) * (c + a - b) * (a + b - c) := by\n          rw [h\u2082\u2083]\n          <;> ring\n        _ \u2264 a * b * c := by linarith [l4]\n    have h\u2082\u2085 : a * b * c = (y + z) / 2 * ((x + z) / 2) * ((x + y) / 2) := by\n      rw [h\u2083, h\u2084, h\u2085]\n      <;> ring\n    have h\u2082\u2086 : x * y * z \u2264 (y + z) / 2 * ((x + z) / 2) * ((x + y) / 2) := by\n      linarith\n    have h\u2082\u2087 : 0 < x * y := by positivity\n    have h\u2082\u2088 : 0 < x * z := by positivity\n    have h\u2082\u2089 : 0 < y * z := by positivity\n    have h\u2083\u2080 : 0 < x * y * z := by positivity\n    have h\u2083\u2081 : (x - z) ^ 2 = 0 := by\n      nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x)]\n    have h\u2083\u2082 : x - z = 0 := by\n      nlinarith\n    linarith\n  \n  have h\u2083 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    have h\u2084 : x = z := h\u2082\n    have h\u2085 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + x^2 * z + x * z^2 + y^2 * z + y * z^2 := h\u2081\n    have h\u2086 : 2 * x * y * z + x^2 * y + x * y^2 + x^2 * z + x * z^2 + y^2 * z + y * z^2 = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n      have h\u2087 : x = z := h\u2082\n      rw [h\u2087]\n      <;> ring_nf\n      <;> nlinarith [def_2.2.2.2, def_2.2.2.3, def_2.2.2.4]\n    linarith\n  \n  apply h\u2083", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0, "semantic_feedback": ["The inequality l5 is correctly formalized as '8 * x * y * z \u2264 (x + y) * (y + z) * (z + x)', which perfectly captures the mathematical meaning of the natural language statement.", "The algebraic identity l6 is correctly formalized, with the expansion of (x+y)(y+z)(z+x) matching exactly the terms listed in the natural language. The additional context and variables in the Lean code don't affect the correctness of this specific identity.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "so the inequality reduces to $6xyz\\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+x^{2}z$.", "statement": "We assume:\n\u2022 The inequality to prove is $8xyz \\leq (x+y)(y+z)(z+x)$ [l5].\n\u2022 The expansion of the right side is $(x+y)(y+z)(z+x) = 2xyz + x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l6].\nTherefore, we conclude:\n\u2022 The inequality from [l5] is equivalent to $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l7].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (l5 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x))\n  (l6 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) :\n  6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (l5 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x))\n  (l6 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) :\n  6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n  have h_main : 8 * x * y * z \u2264 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    have h\u2081 : 8 * x * y * z \u2264 (x + y) * (y + z) * (z + x) := l5\n    have h\u2082 : (x + y) * (y + z) * (z + x) = 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := l6\n    linarith\n  \n  have h_final : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    have h\u2081 : 8 * x * y * z \u2264 2 * x * y * z + x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := h_main\n    have h\u2082 : 0 < x := h_pos.1\n    have h\u2083 : 0 < y := h_pos.2.1\n    have h\u2084 : 0 < z := h_pos.2.2\n    have h\u2085 : 0 < x * y := mul_pos h\u2082 h\u2083\n    have h\u2086 : 0 < y * z := mul_pos h\u2083 h\u2084\n    have h\u2087 : 0 < z * x := mul_pos h\u2084 h\u2082\n    -- Subtract 2 * x * y * z from both sides of the inequality\n    have h\u2088 : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n      nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x)]\n    exact h\u2088\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The main inequality l5 is correctly formalized with identical mathematical meaning", "The algebraic expansion l6 is perfectly captured with all terms matching exactly", "The equivalent inequality conclusion l7 correctly represents the logical deduction", "Additional Lean elements (type declarations, positivity constraints) are appropriate mathematical context that don't contradict the natural language", "The logical structure from assumptions to conclusion is properly formalized as a theorem with hypotheses"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "Grouping terms shows the right-hand side equals $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2})$", "statement": "We assume:\n\u2022 We need to prove $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l7].\nTherefore, we conclude:\n\u2022 $x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2} = x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2})$ [l8].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l8\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (l7 : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) :\n  x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = \n  x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l8\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (l7 : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) :\n  x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = \n  x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) := by\n  have h_main : x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) := by\n    have h\u2081 : x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := rfl\n    have h\u2082 : x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) = x * y^2 + x * z^2 + y * x^2 + y * z^2 + z * x^2 + z * y^2 := by ring\n    have h\u2083 : x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = x * y^2 + x * z^2 + y * x^2 + y * z^2 + z * x^2 + z * y^2 := by\n      ring_nf\n      <;>\n      (try linarith [h_pos.1, h_pos.2.1, h_pos.2.2]) <;>\n      (try nlinarith [h_pos.1, h_pos.2.1, h_pos.2.2])\n      <;>\n      (try\n        {\n          nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x),\n            mul_pos h_pos.1 h_pos.2.1, mul_pos h_pos.2.1 h_pos.2.2,\n            mul_pos h_pos.2.2 h_pos.1]\n        })\n    linarith\n  \n  apply h_main", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 135, "endLine": 24, "endColumn": 10, "data": "unsolved goals\nx y z : \u211d\nh_pos : 0 < x \u2227 0 < y \u2227 0 < z\nl7 : 6 * x * y * z \u2264 x ^ 2 * y + x * y ^ 2 + y ^ 2 * z + y * z ^ 2 + z ^ 2 * x + x * z ^ 2\nh\u2081 :\n  x ^ 2 * y + x * y ^ 2 + y ^ 2 * z + y * z ^ 2 + z ^ 2 * x + x * z ^ 2 =\n    x ^ 2 * y + x * y ^ 2 + y ^ 2 * z + y * z ^ 2 + z ^ 2 * x + x * z ^ 2\nh\u2082 :\n  x * (y ^ 2 + z ^ 2) + y * (x ^ 2 + z ^ 2) + z * (x ^ 2 + y ^ 2) =\n    x * y ^ 2 + x * z ^ 2 + y * x ^ 2 + y * z ^ 2 + z * x ^ 2 + z * y ^ 2\n\u22a2 x * y ^ 2 + x * z ^ 2 * 2 + x ^ 2 * y + y * z ^ 2 + y ^ 2 * z =\n    x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption l7 is correctly captured in Lean with the same inequality relationship and identical mathematical expressions.", "The conclusion/goal is properly formalized as the theorem statement to be proved, with the algebraic identity correctly represented.", "The additional positivity constraints (h_pos) in Lean are extra conditions not mentioned in natural language, but this is acceptable as they don't contradict the natural language and are logically consistent additions.", "All mathematical expressions are correctly translated from mathematical notation to Lean syntax, preserving the exact same algebraic relationships and structure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "NL statement", "error_report": "Formalization appears correct (score=1.0 > 0.6), and the prover could prove the NEGATION of the NL lemma. The NL statement is likely incorrect."}, "solved_negation": {"lean_verify": true, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nexample : \u00ac (\u2200 (x y z : \u211d), (0 < x \u2227 0 < y \u2227 0 < z) \u2192 (6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) \u2192 (x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2))) := by\n  have h : (\u2200 (x y z : \u211d), (0 < x \u2227 0 < y \u2227 0 < z) \u2192 (6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2) \u2192 (x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 = x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2))) \u2192 False := by\n    intro h\u2081\n    have h\u2082 := h\u2081 1 1 2 (by norm_num) (by norm_num)\n    norm_num at h\u2082\n    <;>\n    (try contradiction)\n    <;>\n    (try linarith)\n  \n  exact h"}, "type": "lemma"}, "l9": {"id": "l9", "natural_language": "which is at least $2yzx+2xzy+2xy z=6xyz$ by AM\u2013GM.", "statement": "We assume:\n\u2022 x, y, z are positive real numbers [def_2].\n\u2022 The right-hand side of the inequality in [l7] can be written as $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2})$ [l8].\nTherefore, we conclude:\n\u2022 $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2}) \\geq 6xyz$ [l9].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l9\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z) :\n  x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) \u2265 6 * x * y * z := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l9\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z) :\n  x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) \u2265 6 * x * y * z := by\n  have h1 : x * (y^2 + z^2) \u2265 2 * x * y * z := by\n    have h1\u2081 : y ^ 2 + z ^ 2 \u2265 2 * y * z := by\n      nlinarith [sq_nonneg (y - z)]\n    have h1\u2082 : 0 < x := h_pos.1\n    nlinarith [h1\u2081, h1\u2082]\n  \n  have h2 : y * (x^2 + z^2) \u2265 2 * x * y * z := by\n    have h2\u2081 : x ^ 2 + z ^ 2 \u2265 2 * x * z := by\n      nlinarith [sq_nonneg (x - z)]\n    have h2\u2082 : 0 < y := h_pos.2.1\n    nlinarith [h2\u2081, h2\u2082]\n  \n  have h3 : z * (x^2 + y^2) \u2265 2 * x * y * z := by\n    have h3\u2081 : x ^ 2 + y ^ 2 \u2265 2 * x * y := by\n      nlinarith [sq_nonneg (x - y)]\n    have h3\u2082 : 0 < z := h_pos.2.2\n    nlinarith [h3\u2081, h3\u2082]\n  \n  have h_main : x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) \u2265 6 * x * y * z := by\n    have h4 : x * (y ^ 2 + z ^ 2) + y * (x ^ 2 + z ^ 2) + z * (x ^ 2 + y ^ 2) \u2265 2 * x * y * z + 2 * x * y * z + 2 * x * y * z := by\n      linarith\n    have h5 : 2 * x * y * z + 2 * x * y * z + 2 * x * y * z = 6 * x * y * z := by\n      ring\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable declarations and positivity constraints are correctly captured. The Lean formalization properly declares x, y, z as real numbers and includes the positivity constraints 0 < x \u2227 0 < y \u2227 0 < z, which perfectly matches the natural language requirement that they are positive real numbers.", "The algebraic expression is accurately translated from mathematical notation to Lean syntax. The expression x(y\u00b2+z\u00b2)+y(x\u00b2+z\u00b2)+z(x\u00b2+y\u00b2) is correctly represented as x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2), maintaining the exact same mathematical meaning.", "The inequality conclusion is perfectly captured. The natural language inequality x(y\u00b2+z\u00b2)+y(x\u00b2+z\u00b2)+z(x\u00b2+y\u00b2) \u2265 6xyz is correctly formalized as x * (y^2 + z^2) + y * (x^2 + z^2) + z * (x^2 + y^2) \u2265 6 * x * y * z, preserving the mathematical relationship exactly."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l10": {"id": "l10", "natural_language": "Therefore the inequality holds", "statement": "We assume:\n\u2022 The inequality to be proven is $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l7].\n\u2022 The right-hand side is equal to $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2})$ [l8].\n\u2022 $x(y^{2}+z^{2})+y(x^{2}+z^{2})+z(x^{2}+y^{2}) \\geq 6xyz$ [l9].\nTherefore, we conclude:\n\u2022 The inequality $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ is true [l10].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5", "l6", "l7", "l8", "l9"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l10\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z) :\n  6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l10\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z) :\n  6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n  have h_main : x * (y - z)^2 + y * (z - x)^2 + z * (x - y)^2 \u2265 0 := by\n    have h\u2081 : 0 \u2264 x * (y - z)^2 := by\n      have h\u2081 : 0 \u2264 (y - z)^2 := sq_nonneg (y - z)\n      have h\u2082 : 0 < x := h_pos.1\n      nlinarith\n    have h\u2082 : 0 \u2264 y * (z - x)^2 := by\n      have h\u2081 : 0 \u2264 (z - x)^2 := sq_nonneg (z - x)\n      have h\u2082 : 0 < y := h_pos.2.1\n      nlinarith\n    have h\u2083 : 0 \u2264 z * (x - y)^2 := by\n      have h\u2081 : 0 \u2264 (x - y)^2 := sq_nonneg (x - y)\n      have h\u2082 : 0 < z := h_pos.2.2\n      nlinarith\n    linarith\n  \n  have h_expand : (x + y + z) * (x * y + y * z + z * x) - 9 * x * y * z = x * (y - z)^2 + y * (z - x)^2 + z * (x - y)^2 := by\n    have h\u2081 : (x + y + z) * (x * y + y * z + z * x) - 9 * x * y * z = x * (y - z)^2 + y * (z - x)^2 + z * (x - y)^2 := by\n      ring_nf\n      <;>\n      (try norm_num) <;>\n      (try linarith) <;>\n      (try ring_nf at *) <;>\n      (try nlinarith)\n    rw [h\u2081]\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try ring_nf at *) <;>\n    (try nlinarith)\n  \n  have h_sum : (x + y + z) * (x * y + y * z + z * x) \u2265 9 * x * y * z := by\n    have h\u2081 : (x + y + z) * (x * y + y * z + z * x) - 9 * x * y * z \u2265 0 := by\n      linarith\n    linarith\n  \n  have h_expand2 : (x + y + z) * (x * y + y * z + z * x) = 3 * x * y * z + x * y^2 + x * z^2 + x^2 * y + x^2 * z + y * z^2 + y^2 * z := by\n    have h1 : (x + y + z) * (x * y + y * z + z * x) = 3 * x * y * z + x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z := by\n      ring_nf\n      <;>\n      (try norm_num) <;>\n      (try linarith) <;>\n      (try ring_nf at *) <;>\n      (try nlinarith)\n    rw [h1]\n  \n  have h_ineq : 3 * x * y * z + x * y^2 + x * z^2 + x^2 * y + x^2 * z + y * z^2 + y^2 * z \u2265 9 * x * y * z := by\n    linarith\n  \n  have h_ineq2 : x * y^2 + x * z^2 + x^2 * y + x^2 * z + y * z^2 + y^2 * z \u2265 6 * x * y * z := by\n    linarith\n  \n  have h_final : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    have h\u2081 : x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z \u2265 6 * x * y * z := h_ineq2\n    have h\u2082 : x ^ 2 * y + x * y ^ 2 + y ^ 2 * z + y * z ^ 2 + z ^ 2 * x + x * z ^ 2 = x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z := by\n      ring_nf\n      <;>\n      (try norm_num) <;>\n      (try linarith) <;>\n      (try ring_nf at *) <;>\n      (try nlinarith)\n    linarith\n  \n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 61, "column": 159, "endLine": 67, "endColumn": 21, "data": "unsolved goals\nx y z : \u211d\nh_pos : 0 < x \u2227 0 < y \u2227 0 < z\nh\u2081 h_ineq2 : x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z \u2265 x * y * z * 6\nh_ineq : x * y * z * 3 + x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z \u2265 x * y * z * 9\nh_expand2 : True\nh_sum : x * y * z * 3 + x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z \u2265 x * y * z * 9\nh_expand : True\nh_main : -(x * y * z * 6) + x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z + y * z ^ 2 + y ^ 2 * z \u2265 0\n\u22a2 x * y ^ 2 + x * z ^ 2 * 2 + x ^ 2 * y = x * y ^ 2 + x * z ^ 2 + x ^ 2 * y + x ^ 2 * z"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the main mathematical content from the natural language. The inequality statement is identical, and the addition of positivity constraints for the variables is a reasonable mathematical assumption that doesn't contradict the natural language description. While the natural language describes proof steps that aren't implemented in the Lean code (which uses 'sorry'), the theorem statement itself perfectly matches the conclusion stated in the natural language.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l10\n  (x y z : \u211d)\n  (h_pos : 0 < x \u2227 0 < y \u2227 0 < z) :\n  6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n  have h\u2081 : 0 < x := by linarith\n  have h\u2082 : 0 < y := by linarith\n  have h\u2083 : 0 < z := by linarith\n  have h\u2084 : 0 < x * y := by positivity\n  have h\u2085 : 0 < y * z := by positivity\n  have h\u2086 : 0 < z * x := by positivity\n  have h\u2087 : (x + y + z) * (x * y + y * z + z * x) \u2265 9 * x * y * z := by\n    nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x),\n      mul_pos h\u2081 h\u2082, mul_pos h\u2082 h\u2083, mul_pos h\u2083 h\u2081,\n      sq_nonneg (x * y - y * z), sq_nonneg (y * z - z * x), sq_nonneg (z * x - x * y)]\n  \n  have h\u2088 : x^2 * (y + z) + y^2 * (z + x) + z^2 * (x + y) = (x + y + z) * (x * y + y * z + z * x) - 3 * x * y * z := by\n    have h\u2088\u2081 : x ^ 2 * (y + z) + y ^ 2 * (z + x) + z ^ 2 * (x + y) = x ^ 2 * y + x ^ 2 * z + y ^ 2 * z + y ^ 2 * x + z ^ 2 * x + z ^ 2 * y := by\n      ring\n    have h\u2088\u2082 : (x + y + z) * (x * y + y * z + z * x) - 3 * x * y * z = x ^ 2 * y + x ^ 2 * z + y ^ 2 * z + y ^ 2 * x + z ^ 2 * x + z ^ 2 * y := by\n      ring_nf\n      <;>\n      nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x)]\n    linarith\n  \n  have h\u2089 : x^2 * (y + z) + y^2 * (z + x) + z^2 * (x + y) \u2265 6 * x * y * z := by\n    have h\u2089\u2081 : (x + y + z) * (x * y + y * z + z * x) \u2265 9 * x * y * z := h\u2087\n    have h\u2089\u2082 : x ^ 2 * (y + z) + y ^ 2 * (z + x) + z ^ 2 * (x + y) = (x + y + z) * (x * y + y * z + z * x) - 3 * x * y * z := h\u2088\n    have h\u2089\u2083 : x ^ 2 * (y + z) + y ^ 2 * (z + x) + z ^ 2 * (x + y) \u2265 6 * x * y * z := by\n      nlinarith [h\u2089\u2081, h\u2089\u2082]\n    exact h\u2089\u2083\n  \n  have h\u2081\u2080 : x^2 * (y + z) + y^2 * (z + x) + z^2 * (x + y) = x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    ring_nf at h\u2088 \u22a2\n    <;>\n    (try linarith)\n    <;>\n    (try nlinarith)\n    <;>\n    (try ring_nf at *)\n    <;>\n    (try nlinarith)\n  \n  have h\u2081\u2081 : 6 * x * y * z \u2264 x^2 * y + x * y^2 + y^2 * z + y * z^2 + z^2 * x + x * z^2 := by\n    have h\u2081\u2081\u2081 : x ^ 2 * (y + z) + y ^ 2 * (z + x) + z ^ 2 * (x + y) \u2265 6 * x * y * z := h\u2089\n    have h\u2081\u2081\u2082 : x ^ 2 * (y + z) + y ^ 2 * (z + x) + z ^ 2 * (x + y) = x ^ 2 * y + x * y ^ 2 + y ^ 2 * z + y * z ^ 2 + z ^ 2 * x + x * z ^ 2 := by\n      linarith\n    linarith\n  \n  exact h\u2081\u2081"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "and we conclude $E\\leq\tfrac{3}{2}abc$.", "statement": "We assume:\n\u2022 a, b, c are the side lengths of a triangle [tc_1].\n\u2022 E is defined as the expression $E=a^{2}(s-a)+b^{2}(s-b)+c^{2}(s-c)$ [def_1a].\n\u2022 s is the semi-perimeter, $s = \\frac{a+b+c}{2}$ [def_1b].\n\u2022 The inequality $E_\\text{def} \\leq \\frac{3}{2}abc$ is equivalent to proving $(b+c-a)(c+a-b)(a+b-c) \\leq abc$ [l4].\n\u2022 The inequality from [l4] is equivalent to $8xyz \\leq (x+y)(y+z)(z+x)$ [l5].\n\u2022 The inequality from [l5] is equivalent to $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ [l7].\n\u2022 The inequality $6xyz \\leq x^{2}y+xy^{2}+y^{2}z+yz^{2}+z^{2}x+xz^{2}$ is true [l10].\nTherefore, we conclude:\n\u2022 $a^{2}(s-a) + b^{2}(s-b) + c^{2}(s-b) \\leq \\frac{3}{2} a b c$ [ts_1].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3", "l4", "def_2", "l5", "l6", "l7", "l8", "l9", "l10"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s : \u211d)\n  (def_1b : s = (a + b + c) / 2) :\n  a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a)\n  (s : \u211d)\n  (def_1b : s = (a + b + c) / 2) :\n  a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by\n  have h_main : a^2 * (b + c - a) + b^2 * (a + c - b) + c^2 * (a + b - c) \u2264 3 * a * b * c := by\n    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),\n      mul_pos tc_1.1 tc_1.2.1, mul_pos tc_1.2.1 tc_1.2.2.1,\n      mul_pos tc_1.2.2.1 tc_1.1,\n      mul_pos (sub_pos.mpr tc_1.2.2.2.1) (sub_pos.mpr tc_1.2.2.2.2.1),\n      mul_pos (sub_pos.mpr tc_1.2.2.2.2.1) (sub_pos.mpr tc_1.2.2.2.2.2),\n      mul_pos (sub_pos.mpr tc_1.2.2.2.2.2) (sub_pos.mpr tc_1.2.2.2.1),\n      sq_nonneg (a + b - c), sq_nonneg (a + c - b), sq_nonneg (b + c - a)]\n  \n  have h_s : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) = (a^2 * (b + c - a) + b^2 * (a + c - b) + c^2 * (a + b - c)) / 2 := by\n    have h\u2081 : s - a = (b + c - a) / 2 := by\n      rw [def_1b]\n      ring_nf\n      <;> linarith\n    have h\u2082 : s - b = (a + c - b) / 2 := by\n      rw [def_1b]\n      ring_nf\n      <;> linarith\n    have h\u2083 : s - c = (a + b - c) / 2 := by\n      rw [def_1b]\n      ring_nf\n      <;> linarith\n    calc\n      a ^ 2 * (s - a) + b ^ 2 * (s - b) + c ^ 2 * (s - c)\n        = a ^ 2 * ((b + c - a) / 2) + b ^ 2 * ((a + c - b) / 2) + c ^ 2 * ((a + b - c) / 2) := by\n          rw [h\u2081, h\u2082, h\u2083]\n          <;> ring_nf\n        _ = (a ^ 2 * (b + c - a) + b ^ 2 * (a + c - b) + c ^ 2 * (a + b - c)) / 2 := by\n          ring_nf\n          <;> field_simp\n          <;> ring_nf\n  \n  have h_final : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) \u2264 (3/2) * a * b * c := by\n    have h\u2081 : a^2 * (s - a) + b^2 * (s - b) + c^2 * (s - c) = (a^2 * (b + c - a) + b^2 * (a + c - b) + c^2 * (a + b - c)) / 2 := h_s\n    rw [h\u2081]\n    have h\u2082 : a ^ 2 * (b + c - a) + b ^ 2 * (a + c - b) + c ^ 2 * (a + b - c) \u2264 3 * a * b * c := h_main\n    have h\u2083 : (a ^ 2 * (b + c - a) + b ^ 2 * (a + c - b) + c ^ 2 * (a + b - c)) / 2 \u2264 (3 * a * b * c) / 2 := by\n      linarith\n    have h\u2084 : (3 * a * b * c) / 2 = (3 / 2) * a * b * c := by ring\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content. The triangle conditions are properly formalized with positivity and triangle inequalities. The semi-perimeter definition matches exactly. The main theorem statement correctly uses c\u00b2(s-c) rather than the apparent typo c\u00b2(s-b) in the natural language conclusion, which aligns with the earlier definition [def_1a]. The intermediate proof steps (l4, l5, l7, l10) are not included in the Lean formalization, but these are proof methodology rather than the core theorem statement. The Lean code focuses on the essential theorem to be proved, which is mathematically sound and complete.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l9", "label": "l9", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l10", "label": "l10", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l10", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    