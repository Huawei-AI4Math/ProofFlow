
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z_0$ be a complex number. If $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ and $\operatorname{Re}(z_0) = 3$, then $\operatorname{Im}(z_0) = 1$.

Proof: From the condition $\operatorname{Re}(z_0) = 3$, we can write $z_0 = 3 + iy$ for some real number $y$. Using this form, we compute the term $z_0^2$ as $(3 + iy)^2 = (9 - y^2) + 6iy$. Similarly, we compute the term $(-2 - 3i)z_0$ as $(-2 - 3i)(3 + iy) = (-6 + 3y) - i(2y + 9)$. Substituting these results into the main equation $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ and setting the imaginary part of the resulting expression to zero gives $6y - (2y + 9) + 5 = 0$. Solving this equation for $y$ yields $4y - 4 = 0$, which simplifies to $y = 1$, and thus $\operatorname{Im}(z_0) = 1$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$", "statement": "Premise:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem_condition tc_1 : \n  \u2203 (z\u2080 : \u2102), z\u2080^2 + ((-2 : \u2102) - 3 * Complex.I) * z\u2080 + ((-5 : \u2102) + 5 * Complex.I) = 0 := by sorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 0, "endLine": 7, "endColumn": 17, "data": "unexpected identifier; expected command"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "and $\\operatorname{Re}(z_0) = 3$", "statement": "Premise:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_2\n  (z\u2080 : \u2102)\n  (h1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (h2 : z\u2080.re = 3) :\n  z\u2080.im = 1 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The quadratic equation is identical in both versions, with Lean using I for the imaginary unit instead of i, which is standard notation in Lean", "The real part condition matches perfectly, with Lean using z\u2080.re notation instead of Re(z\u2080), both representing the same mathematical concept", "The natural language explicitly states there are no conclusions derived (it's just a premise statement), but the Lean formalization introduces a conclusion z\u2080.im = 1 that was not mentioned in the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The quadratic equation is identical in both versions, with Lean using I for the imaginary unit instead of i, which is standard notation in Lean', 'The real part condition matches perfectly, with Lean using z\u2080.re notation instead of Re(z\u2080), both representing the same mathematical concept', \"The natural language explicitly states there are no conclusions derived (it's just a premise statement), but the Lean formalization introduces a conclusion z\u2080.im = 1 that was not mentioned in the natural language\"]"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "From the condition $\\operatorname{Re}(z_0) = 3$, we can write $z_0 = 3 + iy$ for some real number $y$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2].\nDefinition:\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z\u2080 : \u2102)\nvariable (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\nvariable (tc_2 : z\u2080.re = 3)\n\ndef def_1 : \u2203 y : \u211d, z\u2080 = 3 + I*y \u2227 y = z\u2080.im := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The quadratic equation is identical in both versions, with only notational differences (i vs I, explicit multiplication in Lean)", "The real part condition is identical in both versions, with only notational differences (Re(z\u2080) vs z\u2080.re)", "The existential statement is identical in both versions, correctly capturing the existence of y, the representation z\u2080 = 3 + iy, and the condition y = Im(z\u2080)"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Using this form, we compute the term $z_0^2$ as $(3 + iy)^2 = (9 - y^2) + 6iy$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1].\nTherefore, we conclude:\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1].", "dependencies": ["tc_1", "tc_2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im) :\n  z\u2080^2 = (9 - y^2) + 6*I*y := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im) :\n  z\u2080^2 = (9 - y^2) + 6*I*y := by\n  have h_z\u2080_form : z\u2080 = 3 + I*y := by\n    have h\u2081 : z\u2080 = 3 + I*y := def_1.1\n    exact h\u2081\n  \n  have h_z\u2080_sq : z\u2080^2 = (9 - y^2) + 6*I*y := by\n    rw [h_z\u2080_form]\n    -- Expand (3 + I*y)^2 and simplify using Complex.I_sq\n    simp [pow_two, Complex.ext_iff, Complex.I_mul_I, Complex.I_mul_I, Complex.I_mul_I,\n      Complex.I_mul_I, mul_comm]\n    <;> ring_nf\n    <;> norm_num\n    <;> simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I]\n    <;> norm_num\n    <;>\n    (try constructor <;>\n      ring_nf <;>\n      simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I] <;>\n      norm_num <;>\n      linarith)\n    <;>\n    simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  exact h_z\u2080_sq", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 21, "column": 8, "endLine": 21, "endColumn": 60, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture the types of z\u2080 and y", "The quadratic equation condition tc_1 is faithfully represented with proper complex number notation", "The real part condition tc_2 uses appropriate Lean syntax for accessing complex number components", "The definition def_1 correctly captures both conditions using conjunction, which is semantically equivalent to the existential statement since y is a parameter", "The conclusion l1 accurately represents the algebraic identity for z\u2080\u00b2", "The overall theorem structure properly formalizes the logical flow from premises to conclusion", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im) :\n  z\u2080^2 = (9 - y^2) + 6*I*y := by\n  have h_z\u2080_re : z\u2080.re = 3 := by\n    exact tc_2\n\n  have h_z\u2080_im : z\u2080.im = y := by\n    have h\u2081 : y = z\u2080.im := def_1.2\n    linarith\n\n  have h_z\u2080_sq_re : (z\u2080^2).re = 9 - y^2 := by\n    have h\u2081 : (z\u2080^2).re = (z\u2080.re)^2 - (z\u2080.im)^2 := by\n      simp [Complex.ext_iff, pow_two, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf\n      <;> simp [Complex.ext_iff, pow_two, Complex.mul_re, Complex.mul_im]\n      <;> norm_num\n      <;> linarith\n    rw [h\u2081]\n    rw [h_z\u2080_re]\n    rw [h_z\u2080_im]\n    <;> ring_nf\n    <;> norm_num\n    <;> linarith\n\n  have h_z\u2080_sq_im : (z\u2080^2).im = 6 * y := by\n    have h\u2081 : (z\u2080^2).im = 2 * z\u2080.re * z\u2080.im := by\n      simp [Complex.ext_iff, pow_two, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf\n      <;> simp [Complex.ext_iff, pow_two, Complex.mul_re, Complex.mul_im]\n      <;> norm_num\n      <;> linarith\n    rw [h\u2081]\n    rw [h_z\u2080_re]\n    rw [h_z\u2080_im]\n    <;> ring_nf\n    <;> norm_num\n    <;> linarith\n\n  have h_main : z\u2080^2 = (9 - y^2) + 6*I*y := by\n    have h\u2081 : z\u2080 = 3 + I * y := def_1.1\n    rw [h\u2081]\n    simp [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.mul_re, Complex.mul_im, Complex.add_re, Complex.add_im]\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    (try constructor <;> ring_nf <;> norm_num <;> linarith)\n    <;>\n    (try\n      {\n        simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.mul_re, Complex.mul_im, Complex.add_re, Complex.add_im]\n        <;> ring_nf at *\n        <;> norm_num at *\n        <;> linarith\n      })\n\n  exact h_main"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Similarly, we compute the term $(-2 - 3i)z_0$ as $(-2 - 3i)(3 + iy) = (-6 + 3y) - i(2y + 9)$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1];\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1].\nTherefore, we conclude:\n\u2022 $(-2 - 3i)z_0 = (-6 + 3y) - i(2y + 9)$ [l2].", "dependencies": ["tc_1", "tc_2", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y) :\n  (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y) :\n  (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9) := by\n  have h_main : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9) := by\n    have h\u2081 : z\u2080 = 3 + I * y := def_1.1\n    rw [h\u2081]\n    simp [Complex.ext_iff, Complex.mul_re, Complex.mul_im, Complex.add_re, Complex.add_im,\n      Complex.sub_re, Complex.sub_im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat,\n      Complex.I_re, Complex.I_im]\n    <;> norm_num <;>\n    (try ring_nf at *) <;>\n    (try norm_num at *) <;>\n    (try linarith)\n    <;>\n    (try\n      {\n        norm_num at *\n        <;>\n        linarith\n      })\n    <;>\n    (try\n      {\n        constructor <;>\n        ring_nf at * <;>\n        norm_num at * <;>\n        linarith\n      })\n  exact h_main", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 60, "endLine": 35, "endColumn": 8, "data": "unsolved goals\nI z\u2080 : \u2102\ny : \u211d\ntc_2 : z\u2080.re = 3\ndef_1 : z\u2080 = 3 + I * \u2191y \u2227 y = z\u2080.im\nh\u2081 : z\u2080 = 3 + I * \u2191y\nl1 : z\u2080 ^ 2 = 9 + (I * \u2191y * 6 - \u2191y ^ 2)\ntc_1 : -5 + I * 5 + (-(I * z\u2080 * 3) - z\u2080 * 2) + z\u2080 ^ 2 = 0\n\u22a2 -6 - I.re * 9 + (-(I.re * y * 2) - I.re ^ 2 * y * 3) + y * I.im ^ 2 * 3 = -6 + (-(I.re * 9) - I.re * y * 2) + y * 3 \u2227\n    ((I.re = 0 \u2228 y = 0) \u2228 I.im = 0)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The complex equation tc_1 is correctly formalized with proper Lean complex number notation", "The real part condition tc_2 is accurately expressed using Lean's .re accessor", "The existence statement def_1 is properly captured as a conjunction of both required conditions", "The equation l1 for z\u2080\u00b2 is correctly formalized with appropriate complex arithmetic", "The conclusion l2 perfectly matches the natural language statement with correct complex number operations and parentheses", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y) :\n  (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9) := by\n  have h_z\u2080 : z\u2080 = 3 + I*y := by\n    have h\u2081 : z\u2080 = 3 + I*y := def_1.1\n    exact h\u2081\n  \n  have h_main : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9) := by\n    rw [h_z\u2080]\n    simp [Complex.ext_iff, Complex.I_mul_I, Complex.mul_re, Complex.mul_im, Complex.add_re, Complex.add_im,\n      Complex.sub_re, Complex.sub_im]\n    <;> ring_nf <;> norm_num <;>\n    (try constructor <;> ring_nf <;> norm_num <;> linarith) <;>\n    (try simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.mul_re, Complex.mul_im,\n      Complex.add_re, Complex.add_im, Complex.sub_re, Complex.sub_im]) <;>\n    (try norm_num) <;>\n    (try linarith)\n  \n  rw [h_main]"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Substituting these results into the main equation $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ and setting the imaginary part of the resulting expression to zero gives $6y - (2y + 9) + 5 = 0$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1];\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1];\n\u2022 $(-2 - 3i)z_0 = (-6 + 3y) - i(2y + 9)$ [l2].\nTherefore, we conclude:\n\u2022 $6y - (2y + 9) + 5 = 0$ [l3].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9)) :\n  6*y - (2*y + 9) + 5 = 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9)) :\n  6*y - (2*y + 9) + 5 = 0 := by\n  have h_imaginary : (6 : \u211d)*y - (2*y + 9) + 5 = 0 := by\n    have h3 : z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I) = 0 := tc_1\n    have h4 : (z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I)).im = 0 := by\n      rw [h3]\n      simp [Complex.ext_iff]\n    have h5 : (z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I)).im = (z\u2080 ^ 2).im + ((-2 - 3 * I) * z\u2080).im + (-5 + 5 * I).im := by\n      simp [Complex.ext_iff, Complex.add_im, Complex.add_re]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff, Complex.add_im, Complex.add_re]\n      <;> linarith\n    rw [h5] at h4\n    have h6 : (z\u2080 ^ 2).im = 6 * y := by\n      have h7 : z\u2080 ^ 2 = (9 - y ^ 2 : \u2102) + 6 * I * (y : \u2102) := by\n        simpa [Complex.ext_iff, pow_two] using l1\n      have h8 : (z\u2080 ^ 2).im = ( (9 - y ^ 2 : \u2102) + 6 * I * (y : \u2102) ).im := by rw [h7]\n      rw [h8]\n      simp [Complex.ext_iff, pow_two, Complex.ext_iff, pow_two, Complex.I_mul_I]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff, pow_two, Complex.ext_iff, pow_two, Complex.I_mul_I]\n      <;> norm_num\n      <;> linarith\n    have h7 : ((-2 - 3 * I) * z\u2080).im = -(2 * y + 9) := by\n      have h8 : (-2 - 3 * I) * z\u2080 = (-6 + 3 * (y : \u211d) : \u2102) - I * (2 * (y : \u211d) + 9) := by\n        simpa [Complex.ext_iff, pow_two] using l2\n      have h9 : ((-2 - 3 * I) * z\u2080).im = ( (-6 + 3 * (y : \u211d) : \u2102) - I * (2 * (y : \u211d) + 9) ).im := by rw [h8]\n      rw [h9]\n      simp [Complex.ext_iff, pow_two, Complex.ext_iff, pow_two, Complex.I_mul_I]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff, pow_two, Complex.ext_iff, pow_two, Complex.I_mul_I]\n      <;> norm_num\n      <;> linarith\n    have h8 : (-5 + 5 * I : \u2102).im = 5 := by\n      simp [Complex.ext_iff]\n      <;> norm_num\n    rw [h6, h7, h8] at h4\n    ring_nf at h4 \u22a2\n    <;> linarith\n  \n  have h_main : 6*y - (2*y + 9) + 5 = 0 := by\n    exact h_imaginary\n  \n  exact h_main", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 30, "column": 10, "endLine": 30, "endColumn": 88, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}, {"line": 40, "column": 10, "endLine": 40, "endColumn": 88, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}, {"line": 43, "column": 41, "endLine": 45, "endColumn": 18, "data": "unsolved goals\nI z\u2080 : \u2102\ny : \u211d\ntc_1 : z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I) = 0\ntc_2 : z\u2080.re = 3\ndef_1 : z\u2080 = 3 + I * \u2191y \u2227 y = z\u2080.im\nl1 : z\u2080 ^ 2 = 9 - \u2191y ^ 2 + 6 * I * \u2191y\nl2 : (-2 - 3 * I) * z\u2080 = -6 + 3 * \u2191y - I * (2 * \u2191y + 9)\nh3 : z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I) = 0\nh4 : (z\u2080 ^ 2).im + ((-2 - 3 * I) * z\u2080).im + (-5 + 5 * I).im = 0\nh5 : (z\u2080 ^ 2 + (-2 - 3 * I) * z\u2080 + (-5 + 5 * I)).im = (z\u2080 ^ 2).im + ((-2 - 3 * I) * z\u2080).im + (-5 + 5 * I).im\nh6 : (z\u2080 ^ 2).im = 6 * y\nh7 : ((-2 - 3 * I) * z\u2080).im = -(2 * y + 9)\n\u22a2 I.im = 1"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The quadratic equation is correctly formalized with appropriate Lean syntax for complex arithmetic", "The real part condition is properly expressed using Lean's complex number real part accessor", "The definition captures both the form of z\u2080 and the relationship with y correctly, with the existential quantification appropriately handled as an assumption", "The expansion of z\u2080\u00b2 is accurately represented with correct complex arithmetic", "The expansion of the product term is correctly formalized with proper complex multiplication", "The final conclusion equation is perfectly captured with correct arithmetic expression", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9)) :\n  6*y - (2*y + 9) + 5 = 0 := by\n  have h : 4*y - 4 = 0 := by\n    have h\u2081 : (z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I)).im = 0 := by\n      rw [tc_1]\n      simp [Complex.ext_iff]\n    -- The imaginary part of the sum is the sum of the imaginary parts\n    have h\u2082 : (z\u2080^2).im + ((-2 - 3*I)*z\u2080).im + (5 : \u211d) = 0 := by\n      simp [Complex.ext_iff, pow_two, Complex.add_im, Complex.mul_re, Complex.mul_im] at h\u2081 \u22a2\n      <;>\n      (try ring_nf at h\u2081 \u22a2) <;>\n      (try norm_num at h\u2081 \u22a2) <;>\n      (try linarith) <;>\n      (try nlinarith) <;>\n      (try\n        {\n          simp_all [Complex.ext_iff, pow_two, Complex.add_im, Complex.mul_re, Complex.mul_im]\n          <;> ring_nf at * <;> linarith\n        })\n      <;>\n      (try\n        {\n          norm_num at h\u2081 \u22a2\n          <;> linarith\n        })\n    -- From l1, (z\u2080\u00b2).im = 6*y\n    have h\u2083 : (z\u2080^2).im = 6*y := by\n      rw [l1]\n      simp [Complex.ext_iff, pow_two, Complex.add_im, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf <;> norm_num <;>\n      (try linarith)\n      <;>\n      (try nlinarith)\n    -- From l2, ((-2 -3i)*z\u2080).im = -(2*y +9)\n    have h\u2084 : ((-2 - 3*I)*z\u2080).im = -(2*y + 9) := by\n      rw [l2]\n      simp [Complex.ext_iff, pow_two, Complex.add_im, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf <;> norm_num <;>\n      (try linarith)\n      <;>\n      (try nlinarith)\n    -- Substitute into h\u2082 to get 6*y - (2*y +9) +5 = 0\n    rw [h\u2083, h\u2084] at h\u2082\n    ring_nf at h\u2082 \u22a2\n    linarith\n  \n  have h_final : 6*y - (2*y + 9) + 5 = 0 := by\n    have h\u2081 : 4*y - 4 = 0 := h\n    have h\u2082 : 4*y = 4 := by linarith\n    have h\u2083 : y = 1 := by linarith\n    rw [h\u2083]\n    <;> norm_num\n  \n  exact h_final"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Solving this equation for $y$ yields $4y - 4 = 0$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1];\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1];\n\u2022 $(-2 - 3i)z_0 = (-6 + 3y) - i(2y + 9)$ [l2];\n\u2022 $6y - (2y + 9) + 5 = 0$ [l3].\nTherefore, we conclude:\n\u2022 $4y - 4 = 0$ [l4].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9))\n  (l3 : 6*y - (2*y + 9) + 5 = 0) :\n  4*y - 4 = 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9))\n  (l3 : 6*y - (2*y + 9) + 5 = 0) :\n  4*y - 4 = 0 := by\n  have h_main : 4*y - 4 = 0 := by\n    have h4 : (4 : \u211d) * y - 4 = 0 := by\n      ring_nf at l3 \u22a2\n      <;> linarith\n    exact h4\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The complex equation tc_1 is correctly formalized with I representing the imaginary unit", "The real part condition tc_2 is correctly expressed using z\u2080.re", "The existential statement about y is equivalently expressed as a parameter with conjunction", "The complex arithmetic in l1 is perfectly captured", "The complex arithmetic in l2 is perfectly captured", "The real equation l3 is identical in both versions", "The conclusion l4 is identical in both versions"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "which simplifies to $y = 1$", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1];\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1];\n\u2022 $(-2 - 3i)z_0 = (-6 + 3y) - i(2y + 9)$ [l2];\n\u2022 $6y - (2y + 9) + 5 = 0$ [l3];\n\u2022 $4y - 4 = 0$ [l4].\nTherefore, we conclude:\n\u2022 $y = 1$ [l5].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9))\n  (l3 : 6*y - (2*y + 9) + 5 = 0)\n  (l4 : 4*y - 4 = 0) :\n  y = 1 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5\n  (z\u2080 : \u2102) (y : \u211d)\n  (tc_1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (tc_2 : z\u2080.re = 3)\n  (def_1 : z\u2080 = 3 + I*y \u2227 y = z\u2080.im)\n  (l1 : z\u2080^2 = (9 - y^2) + 6*I*y)\n  (l2 : (-2 - 3*I)*z\u2080 = (-6 + 3*y) - I*(2*y + 9))\n  (l3 : 6*y - (2*y + 9) + 5 = 0)\n  (l4 : 4*y - 4 = 0) :\n  y = 1 := by\n  have h_main : y = 1 := by\n    have h5 : 4 * y - 4 = 0 := l4\n    -- Solve the equation 4 * y - 4 = 0 to get y = 1\n    have h6 : y = 1 := by\n      -- Add 4 to both sides: 4 * y = 4\n      -- Divide both sides by 4: y = 1\n      linarith\n    exact h6\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The complex equation is correctly formalized with proper Lean syntax for complex numbers using I instead of i", "The real part condition is correctly expressed using Lean's complex number real part accessor", "The existential statement about y and the compound condition are properly captured as a conjunction in Lean", "The expression for z\u2080\u00b2 is correctly formalized with proper complex number notation", "The multiplication expression is correctly formalized with appropriate parentheses and complex notation", "The algebraic equation l3 is correctly represented with explicit multiplication operators", "The simplified equation l4 is correctly formalized", "The final conclusion y = 1 is perfectly matched between natural language and Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "and thus $\\operatorname{Im}(z_0) = 1$.", "statement": "We assume:\n\u2022 $z_0$ is a complex number such that $z_0^2 + (-2 - 3i)z_0 + (-5 + 5i) = 0$ [tc_1];\n\u2022 $\\operatorname{Re}(z_0) = 3$ [tc_2];\n\u2022 There exists a real number $y$ such that $z_0 = 3 + iy$ and $y = \\operatorname{Im}(z_0)$ [def_1];\n\u2022 $z_0^2 = (9 - y^2) + 6iy$ [l1];\n\u2022 $(-2 - 3i)z_0 = (-6 + 3y) - i(2y + 9)$ [l2];\n\u2022 $6y - (2y + 9) + 5 = 0$ [l3];\n\u2022 $4y - 4 = 0$ [l4];\n\u2022 $y = 1$ [l5].\nTherefore, we conclude:\n\u2022 $\\operatorname{Im}(z_0) = 1$ [ts_1].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z\u2080 : \u2102) \n  (h1 : z\u2080^2 + (-2 - 3*I)*z\u2080 + (-5 + 5*I) = 0)\n  (h2 : z\u2080.re = 3) :\n  z\u2080.im = 1 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z\u2080 : \u2102) \n  (h1 : z\u2080^2 + (-2 - 3*Complex.I)*z\u2080 + (-5 + 5*Complex.I) = 0)\n  (h2 : z\u2080.re = 3) :\n  z\u2080.im = 1 := by\n  have h_im : 2 * z\u2080.re * z\u2080.im + (-2 * z\u2080.im - 3 * z\u2080.re) + 5 = 0 := by\n    have h3 : (z\u2080 ^ 2 + (-2 - 3 * Complex.I) * z\u2080 + (-5 + 5 * Complex.I)).im = 0 := by\n      rw [h1]\n      simp [Complex.ext_iff]\n    have h4 : (z\u2080 ^ 2 + (-2 - 3 * Complex.I) * z\u2080 + (-5 + 5 * Complex.I)).im = (z\u2080 ^ 2).im + ((-2 - 3 * Complex.I) * z\u2080).im + (-5 + 5 * Complex.I).im := by\n      simp [Complex.ext_iff, pow_two, Complex.add_im, Complex.add_re, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf\n      <;> norm_num\n      <;> linarith\n    rw [h4] at h3\n    have h5 : (z\u2080 ^ 2).im = 2 * z\u2080.re * z\u2080.im := by\n      simp [Complex.ext_iff, pow_two, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf\n      <;> norm_num\n      <;> linarith\n    have h6 : ((-2 - 3 * Complex.I) * z\u2080).im = (-2 : \u211d) * z\u2080.im + (-3 : \u211d) * z\u2080.re := by\n      simp [Complex.ext_iff, Complex.mul_re, Complex.mul_im]\n      <;> ring_nf\n      <;> norm_num\n      <;> linarith\n    have h7 : (-5 + 5 * Complex.I : \u2102).im = (5 : \u211d) := by\n      simp [Complex.ext_iff]\n      <;> norm_num\n    rw [h5, h6, h7] at h3\n    ring_nf at h3 \u22a2\n    <;> linarith\n  \n  have h_im_subst : 2 * (3 : \u211d) * z\u2080.im + (-2 * z\u2080.im - 3 * (3 : \u211d)) + 5 = 0 := by\n    have h3 : z\u2080.re = 3 := h2\n    have h4 : (2 : \u211d) * z\u2080.re * z\u2080.im + (-2 * z\u2080.im - 3 * z\u2080.re) + 5 = 0 := by\n      exact_mod_cast h_im\n    rw [h3] at h4\n    norm_num at h4 \u22a2\n    <;>\n    (try ring_nf at h4 \u22a2) <;>\n    (try linarith) <;>\n    (try norm_num at h4 \u22a2) <;>\n    (try simp_all [Complex.ext_iff, pow_two, Complex.add_im, Complex.add_re, Complex.mul_re, Complex.mul_im]) <;>\n    (try ring_nf at * ) <;>\n    (try norm_num at * ) <;>\n    (try linarith)\n  \n  have h_simplify : (4 : \u211d) * z\u2080.im - 4 = 0 := by\n    have h3 : (2 : \u211d) * (3 : \u211d) * z\u2080.im + (-2 * z\u2080.im - 3 * (3 : \u211d)) + 5 = 0 := by\n      exact_mod_cast h_im_subst\n    ring_nf at h3 \u22a2\n    <;> linarith\n  \n  have h_final : z\u2080.im = 1 := by\n    have h3 : (4 : \u211d) * z\u2080.im - 4 = 0 := h_simplify\n    have h4 : (4 : \u211d) * z\u2080.im = 4 := by linarith\n    have h5 : z\u2080.im = 1 := by\n      apply mul_left_cancel\u2080 (show (4 : \u211d) \u2260 0 by norm_num)\n      linarith\n    exact h5\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 4}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the essential mathematical content from the natural language. The theorem statement includes both key assumptions (the quadratic equation and the real part constraint) and the correct conclusion (imaginary part equals 1). The intermediate algebraic steps shown in the natural language (def_1, l1-l5) are computational details that belong in the proof rather than the theorem statement, so their absence from the theorem signature is appropriate. The logical structure and mathematical meaning are preserved."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    