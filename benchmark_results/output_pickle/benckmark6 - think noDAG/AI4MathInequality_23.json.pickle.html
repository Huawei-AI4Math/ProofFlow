
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that if $x, y, z$ are positive real numbers satisfying $x^2 + y^2 + z^2 + 2xyz = 1$, then $xyz \leq \\frac{1}{8}$.

Proof: Let $x, y, z > 0$ satisfy $x^2+y^2+z^2+2xyz=1$ and denote $P = xyz$. Then $x^2+y^2+z^2 = 1-2P$, and by AMâ€“GM, $x^2+y^2+z^2 \ge 3(xyz)^{2/3} = 3P^{2/3}$. Combining these gives $1-2P \ge 3P^{2/3}$. Letting $t = P^{1/3}$, this becomes $1 - 2t^3 \ge 3t^2$, or equivalently $2t^3 + 3t^2 - 1 \le 0$. Factoring, we get $(2t-1)(t+1)^2 \le 0$, and since $t>0$, it follows that $2t-1 \le 0$, so $t \le rac{1}{2}$. Therefore $xyz = t^3 \le rac{1}{8}$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $x, y, z > 0$", "statement": "Premise:\n\u2022 $x, y, z$ are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (x y z : \u211d)\n(tc_1 : 0 < x \u2227 0 < y \u2227 0 < z)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly declares x, y, z as real numbers (\u211d) and states they are positive through the condition 0 < x \u2227 0 < y \u2227 0 < z, which perfectly captures 'positive real numbers'", "Both the natural language and Lean formalization are premise-only statements with no conclusions to derive, which matches perfectly"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "satisfy $x^2+y^2+z^2+2xyz=1$", "statement": "Premise:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (x y z : \u211d)\n(tc_2 : 0 < x \u2227 0 < y \u2227 0 < z \u2227 x^2 + y^2 + z^2 + 2*x*y*z = 1)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that x, y, z are real numbers (via variable declaration) and positive (via 0 < x \u2227 0 < y \u2227 0 < z). The conjunction properly represents all three positivity conditions.", "The equation x^2 + y^2 + z^2 + 2*x*y*z = 1 in Lean exactly matches the mathematical expression x^2 + y^2 + z^2 + 2xyz = 1, with the multiplication explicitly denoted by * which is standard in Lean."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "denote $P = xyz$", "statement": "Definition:\n\u2022 $P = xyz$ [def_1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem def_1 (x y z : \u211d) (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z) \n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x*y*z \u2264 1/8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language states there are no prior conditions since this is a definition, but the Lean theorem introduces multiple conditions including positivity constraints and an algebraic constraint that are not mentioned in the natural language definition.", "The natural language conclusion is a simple definition P = xyz, but the Lean conclusion is an inequality x*y*z \u2264 1/8, which is completely different from the stated definition. The Lean appears to be proving a bound rather than defining a variable."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language states there are no prior conditions since this is a definition, but the Lean theorem introduces multiple conditions including positivity constraints and an algebraic constraint that are not mentioned in the natural language definition.', 'The natural language conclusion is a simple definition P = xyz, but the Lean conclusion is an inequality x*y*z \u2264 1/8, which is completely different from the stated definition. The Lean appears to be proving a bound rather than defining a variable.']"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Then $x^2+y^2+z^2 = 1-2P$", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1].\nTherefore, we conclude:\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1].", "dependencies": ["tc_1", "tc_2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x^2 + y^2 + z^2 = 1 - 2*(x*y*z) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x^2 + y^2 + z^2 = 1 - 2*(x*y*z) := by\n  have h_main : x^2 + y^2 + z^2 = 1 - 2*(x*y*z) := by\n    have h1 : x^2 + y^2 + z^2 + 2*x*y*z = 1 := hconstraint\n    have h2 : x^2 + y^2 + z^2 = 1 - 2*x*y*z := by\n      linarith\n    -- The above step uses linear arithmetic to subtract 2*x*y*z from both sides of the equation.\n    -- However, we need to match the exact form in the goal, which uses parentheses.\n    -- So we adjust the expression to match the required form.\n    have h3 : x^2 + y^2 + z^2 = 1 - 2*(x*y*z) := by\n      ring_nf at h2 \u22a2\n      <;> linarith\n    exact h3\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly captured in Lean with appropriate types and logical conjunctions.", "The constraint equation x^2 + y^2 + z^2 + 2xyz = 1 is accurately represented with proper operator precedence.", "While P is not defined as a separate variable in Lean, this is acceptable since it's directly substituted in the conclusion, maintaining mathematical equivalence.", "The conclusion correctly represents the relationship x^2+y^2+z^2 = 1-2P by directly substituting xyz for P, which is mathematically equivalent and logically sound."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "by AM\u2013GM, $x^2+y^2+z^2 \\ge 3(xyz)^{2/3} = 3P^{2/3}$.", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1].\nTherefore, we conclude:\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2].", "dependencies": ["tc_1", "tc_2", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x^2 + y^2 + z^2 \u2265 3*(x*y*z)^((2:\u211d)/3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x^2 + y^2 + z^2 \u2265 3*(x*y*z)^((2:\u211d)/3) := by\n  have h_main : (x^2 + y^2 + z^2)^3 \u2265 27 * (x*y*z)^2 := by\n    have h\u2081 : 0 < x := by linarith\n    have h\u2082 : 0 < y := by linarith\n    have h\u2083 : 0 < z := by linarith\n    have h\u2084 : 0 < x * y * z := by positivity\n    have h\u2085 : 0 < x ^ 2 := by positivity\n    have h\u2086 : 0 < y ^ 2 := by positivity\n    have h\u2087 : 0 < z ^ 2 := by positivity\n    have h\u2088 : 0 < x ^ 2 * y ^ 2 := by positivity\n    have h\u2089 : 0 < x ^ 2 * z ^ 2 := by positivity\n    have h\u2081\u2080 : 0 < y ^ 2 * z ^ 2 := by positivity\n    -- Use AM-GM inequality to show that (x\u00b2 + y\u00b2 + z\u00b2)\u00b3 \u2265 27x\u00b2y\u00b2z\u00b2\n    have h\u2081\u2081 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 \u2265 27 * (x ^ 2 * y ^ 2 * z ^ 2) := by\n      nlinarith [sq_nonneg (x ^ 2 - y ^ 2), sq_nonneg (y ^ 2 - z ^ 2), sq_nonneg (z ^ 2 - x ^ 2),\n        sq_nonneg (x ^ 2 + y ^ 2 + z ^ 2), sq_nonneg (x ^ 2 + y ^ 2 - z ^ 2),\n        sq_nonneg (x ^ 2 + z ^ 2 - y ^ 2), sq_nonneg (y ^ 2 + z ^ 2 - x ^ 2)]\n    -- Simplify 27 * (x\u00b2 * y\u00b2 * z\u00b2) to 27 * (xyz)\u00b2\n    have h\u2081\u2082 : 27 * (x ^ 2 * y ^ 2 * z ^ 2) = 27 * (x * y * z) ^ 2 := by\n      ring_nf\n    -- Combine the inequalities to get the final result\n    have h\u2081\u2083 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 \u2265 27 * (x * y * z) ^ 2 := by\n      linarith\n    linarith\n  \n  have h_cube : (3 * (x*y*z)^((2:\u211d)/3))^3 = 27 * (x*y*z)^2 := by\n    have h\u2081 : 0 < x := by linarith\n    have h\u2082 : 0 < y := by linarith\n    have h\u2083 : 0 < z := by linarith\n    have h\u2084 : 0 < x * y * z := by positivity\n    have h\u2085 : (3 : \u211d) > 0 := by norm_num\n    -- Use the property of exponents to simplify the expression\n    have h\u2086 : (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 = 3 ^ 3 * ((x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n      ring_nf\n      <;> field_simp [pow_three]\n      <;> ring_nf\n    rw [h\u2086]\n    -- Simplify the exponents\n    have h\u2087 : ((x * y * z : \u211d) : \u211d) > 0 := by positivity\n    have h\u2088 : ((x * y * z : \u211d) ^ ((2 : \u211d) / 3 : \u211d)) > 0 := by positivity\n    have h\u2089 : ((x * y * z : \u211d) ^ ((2 : \u211d) / 3 : \u211d)) ^ 3 = (x * y * z : \u211d) ^ 2 := by\n      have h\u2081\u2080 : ((x * y * z : \u211d) ^ ((2 : \u211d) / 3 : \u211d)) ^ 3 = (x * y * z : \u211d) ^ (((2 : \u211d) / 3 : \u211d) * 3) := by\n        rw [\u2190 Real.rpow_nat_cast]\n        rw [\u2190 Real.rpow_mul] <;>\n        (try positivity) <;>\n        (try norm_num) <;>\n        (try ring_nf) <;>\n        (try linarith)\n      rw [h\u2081\u2080]\n      have h\u2081\u2081 : ((2 : \u211d) / 3 : \u211d) * 3 = (2 : \u211d) := by\n        norm_num\n      rw [h\u2081\u2081]\n      <;>\n      (try ring_nf) <;>\n      (try norm_num) <;>\n      (try linarith)\n    -- Combine the results\n    have h\u2081\u2080 : (3 : \u211d) ^ 3 = 27 := by norm_num\n    rw [h\u2089]\n    <;>\n    (try norm_num) <;>\n    (try ring_nf at * <;> nlinarith)\n    <;>\n    (try linarith)\n  \n  have h_final : x^2 + y^2 + z^2 \u2265 3*(x*y*z)^((2:\u211d)/3) := by\n    have h\u2081 : 0 < x := by linarith\n    have h\u2082 : 0 < y := by linarith\n    have h\u2083 : 0 < z := by linarith\n    have h\u2084 : 0 < x * y * z := by positivity\n    have h\u2085 : 0 < x ^ 2 + y ^ 2 + z ^ 2 := by positivity\n    have h\u2086 : 0 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by positivity\n    -- Use the fact that the cube function is increasing to deduce the desired inequality\n    have h\u2087 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 \u2265 (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n      calc\n        (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 \u2265 27 * (x * y * z) ^ 2 := by\n          exact h_main\n        _ = (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n          rw [h_cube]\n        _ \u2265 (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by linarith\n    -- Use the fact that the cube function is increasing to deduce the desired inequality\n    have h\u2088 : x ^ 2 + y ^ 2 + z ^ 2 \u2265 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by\n      by_contra h\n      -- If the inequality does not hold, then we have a contradiction\n      have h\u2089 : x ^ 2 + y ^ 2 + z ^ 2 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by linarith\n      have h\u2081\u2080 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 < (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n        -- Use the fact that the cube function is increasing\n        have h\u2081\u2081 : 0 < x ^ 2 + y ^ 2 + z ^ 2 := by positivity\n        have h\u2081\u2082 : 0 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by positivity\n        have h\u2081\u2083 : x ^ 2 + y ^ 2 + z ^ 2 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by linarith\n        have h\u2081\u2084 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 < (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n          -- Use the fact that the cube function is increasing\n          have h\u2081\u2085 : 0 < x ^ 2 + y ^ 2 + z ^ 2 := by positivity\n          have h\u2081\u2086 : 0 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by positivity\n          have h\u2081\u2087 : x ^ 2 + y ^ 2 + z ^ 2 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by linarith\n          -- Use the fact that the cube function is increasing\n          have h\u2081\u2088 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 < (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n            -- Use the fact that the cube function is increasing\n            have h\u2081\u2089 : 0 < x ^ 2 + y ^ 2 + z ^ 2 := by positivity\n            have h\u2082\u2080 : 0 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by positivity\n            have h\u2082\u2081 : x ^ 2 + y ^ 2 + z ^ 2 < 3 * (x * y * z) ^ ((2 : \u211d) / 3) := by linarith\n            -- Use the fact that the cube function is increasing\n            have h\u2082\u2082 : (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 < (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n              -- Use the fact that the cube function is increasing\n              calc\n                (x ^ 2 + y ^ 2 + z ^ 2) ^ 3 < (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by\n                  -- Use the fact that the cube function is increasing\n                  gcongr <;> nlinarith\n                _ = (3 * (x * y * z) ^ ((2 : \u211d) / 3)) ^ 3 := by rfl\n            exact h\u2082\u2082\n          exact h\u2081\u2088\n        linarith\n      linarith\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly captured with appropriate Lean syntax", "The main constraint equation is exactly represented, with only notational differences in multiplication", "While P is not explicitly defined as a separate variable, using x*y*z directly in the conclusion is mathematically equivalent and acceptable", "The derived relationship l1 is not explicitly stated but can be derived from the given constraints, which is standard in Lean theorem statements", "The main conclusion perfectly captures the inequality with proper type annotation for the fractional exponent"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Combining these gives $1-2P \\ge 3P^{2/3}$.", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2].\nTherefore, we conclude:\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3)) :\n  1 - 2*P \u2265 3*P^((2:\u211d)/3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (x y z : \u211d) \n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3)) :\n  1 - 2*P \u2265 3*P^((2:\u211d)/3) := by\n  have h_main : 1 - 2*P \u2265 3*P^((2:\u211d)/3) := by\n    have h3 : 1 - 2 * P = x ^ 2 + y ^ 2 + z ^ 2 := by\n      linarith\n    have h4 : x ^ 2 + y ^ 2 + z ^ 2 \u2265 3 * P ^ ((2 : \u211d) / 3) := hl2\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "The main constraint equation x^2 + y^2 + z^2 + 2*x*y*z = 1 is exactly captured", "The definition P = x*y*z is properly formalized with explicit typing", "Lemma l1 stating x^2+y^2+z^2 = 1-2P is exactly represented", "Lemma l2 with the inequality and fractional exponent 2/3 is correctly formalized", "The conclusion 1-2P \u2265 3P^(2/3) perfectly matches the natural language statement"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Letting $t = P^{1/3}$", "statement": "Definition:\n\u2022 $t = P^{1/3}$ [def_2].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem def_2 (P : \u211d) (hP : P > 0) : \n  \u2203 t : \u211d, t = P^(1/3 : \u211d) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.67, "semantic_feedback": ["Lean formalization matches the condition that P is given by declaring P as a real number", "The additional constraint P > 0 in Lean is mathematically reasonable and doesn't contradict the natural language statement", "The natural language defines t = P^(1/3) as a direct definition, while Lean formulates this as an existence statement. The mathematical content is the same but the logical structure differs slightly"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l4": {"id": "l4", "natural_language": "this becomes $1 - 2t^3 \\ge 3t^2$", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2].\nTherefore, we conclude:\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3))\n  (hl3 : 1 - 2*P \u2265 3*P^((2:\u211d)/3)) :\n  1 - 2*t^3 \u2265 3*t^2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3))\n  (hl3 : 1 - 2*P \u2265 3*P^((2:\u211d)/3)) :\n  1 - 2*t^3 \u2265 3*t^2 := by\n  have hP_pos : 0 < P := by\n    rw [hP_def]\n    have h\u2081 : 0 < x * y := by positivity\n    have h\u2082 : 0 < x * y * z := by positivity\n    linarith\n  \n  have ht_pos : 0 < t := by\n    rw [ht_def]\n    have h\u2081 : 0 < P := hP_pos\n    -- Use the property that the real power of a positive number is positive\n    have h\u2082 : 0 < (P : \u211d) ^ (1 / 3 : \u211d) := by positivity\n    linarith\n  \n  have ht3_eq_P : t^3 = P := by\n    rw [ht_def]\n    have h\u2081 : 0 < P := hP_pos\n    -- Use the property of real powers to simplify (P^(1/3))^3\n    have h\u2082 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = (P : \u211d) := by\n      have h\u2083 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = (P : \u211d) ^ ((1 / 3 : \u211d) * 3 : \u211d) := by\n        rw [\u2190 Real.rpow_nat_cast]\n        rw [\u2190 Real.rpow_mul] <;>\n          (try norm_num) <;>\n          (try linarith) <;>\n          (try positivity)\n        <;>\n        ring_nf\n        <;>\n        norm_num\n      rw [h\u2083]\n      have h\u2084 : (P : \u211d) ^ ((1 / 3 : \u211d) * 3 : \u211d) = (P : \u211d) ^ (1 : \u211d) := by\n        norm_num\n      rw [h\u2084]\n      have h\u2085 : (P : \u211d) ^ (1 : \u211d) = (P : \u211d) := by\n        simp\n      rw [h\u2085]\n    -- Use the simplified form to conclude the proof\n    have h\u2083 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = (P : \u211d) := h\u2082\n    norm_num at h\u2083 \u22a2\n    <;>\n    (try simp_all [pow_three]) <;>\n    (try ring_nf at * <;> linarith) <;>\n    (try nlinarith)\n    <;>\n    (try linarith)\n  \n  have ht2_eq_P23 : t^2 = P^((2:\u211d)/3) := by\n    rw [ht_def]\n    have h\u2081 : 0 < P := hP_pos\n    -- Use the property of real powers to simplify (P^(1/3))^2\n    have h\u2082 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 2 = (P : \u211d) ^ ((2 : \u211d) / 3 : \u211d) := by\n      have h\u2083 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 2 = (P : \u211d) ^ ((1 / 3 : \u211d) * 2 : \u211d) := by\n        rw [\u2190 Real.rpow_nat_cast]\n        rw [\u2190 Real.rpow_mul] <;>\n          (try norm_num) <;>\n          (try linarith) <;>\n          (try positivity)\n        <;>\n        ring_nf\n        <;>\n        norm_num\n      rw [h\u2083]\n      <;>\n      norm_num <;>\n      ring_nf <;>\n      norm_num <;>\n      field_simp <;>\n      ring_nf\n      <;>\n      norm_num\n    -- Use the simplified form to conclude the proof\n    have h\u2083 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 2 = (P : \u211d) ^ ((2 : \u211d) / 3 : \u211d) := h\u2082\n    norm_num at h\u2083 \u22a2\n    <;>\n    (try simp_all [pow_two]) <;>\n    (try ring_nf at * <;> linarith) <;>\n    (try nlinarith)\n    <;>\n    (try linarith)\n  \n  have h_main : 1 - 2*t^3 \u2265 3*t^2 := by\n    have h\u2081 : 1 - 2 * t ^ 3 = 1 - 2 * P := by\n      have h\u2082 : t ^ 3 = P := ht3_eq_P\n      linarith\n    have h\u2082 : 3 * t ^ 2 = 3 * P ^ ((2 : \u211d) / 3) := by\n      have h\u2083 : t ^ 2 = P ^ ((2 : \u211d) / 3) := ht2_eq_P23\n      linarith\n    have h\u2083 : 1 - 2 * P \u2265 3 * P ^ ((2 : \u211d) / 3) := hl3\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly capture positivity constraints for x, y, z. Additional variables P and t are appropriately included as they are defined later.", "The main constraint equation x\u00b2 + y\u00b2 + z\u00b2 + 2xyz = 1 is perfectly translated.", "The definition P = xyz is correctly formalized.", "The relationship l1: x\u00b2+y\u00b2+z\u00b2 = 1-2P is accurately captured.", "The inequality l2: x\u00b2+y\u00b2+z\u00b2 \u2265 3P^(2/3) is correctly formalized with proper type annotation for the exponent.", "The inequality l3: 1-2P \u2265 3P^(2/3) is accurately translated.", "The definition t = P^(1/3) is correctly formalized with appropriate type annotation.", "The final conclusion 1 - 2t\u00b3 \u2265 3t\u00b2 is perfectly captured in the goal statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "or equivalently $2t^3 + 3t^2 - 1 \\le 0$.", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4].\nTherefore, we conclude:\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (x y z : \u211d)\n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (t : \u211d) (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3))\n  (l3 : 1 - 2*P \u2265 3*P^((2:\u211d)/3))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2) :\n  2*t^3 + 3*t^2 - 1 \u2264 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (x y z : \u211d)\n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (t : \u211d) (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^((2:\u211d)/3))\n  (l3 : 1 - 2*P \u2265 3*P^((2:\u211d)/3))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2) :\n  2*t^3 + 3*t^2 - 1 \u2264 0 := by\n  have h_main : 2*t^3 + 3*t^2 - 1 \u2264 0 := by\n    have h\u2081 : 1 - 2 * t ^ 3 - 3 * t ^ 2 \u2265 0 := by\n      linarith [l4]\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization accurately captures all components from the natural language. All assumptions (positivity of variables, constraint equation, definitions of P and t, intermediate inequalities l1-l4) are properly represented as hypotheses, and the conclusion l5 is correctly stated as the theorem goal. The mathematical expressions are equivalent and the logical structure is preserved. The additional type declarations and explicit real number annotations in Lean are standard formalization practices that don't change the mathematical meaning."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "Factoring, we get $(2t-1)(t+1)^2 \\le 0$", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4];\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5].\nTherefore, we conclude:\n\u2022 $(2t-1)(t+1)^2 \\le 0$ [l6].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (hl3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (hl4 : 1 - 2*t^3 \u2265 3*t^2)\n  (hl5 : 2*t^3 + 3*t^2 - 1 \u2264 0) :\n  (2*t - 1) * (t + 1)^2 \u2264 0 := by\n  sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (hl3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (hl4 : 1 - 2*t^3 \u2265 3*t^2)\n  (hl5 : 2*t^3 + 3*t^2 - 1 \u2264 0) :\n  (2*t - 1) * (t + 1)^2 \u2264 0 := by\n  have h_expand : (2*t - 1) * (t + 1)^2 = 2*t^3 + 3*t^2 - 1 := by\n    have h\u2081 : (2*t - 1) * (t + 1)^2 = (2*t - 1) * (t^2 + 2*t + 1) := by\n      ring_nf\n    rw [h\u2081]\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  have h_main : (2*t - 1) * (t + 1)^2 \u2264 0 := by\n    have h\u2081 : (2*t - 1) * (t + 1)^2 = 2*t^3 + 3*t^2 - 1 := h_expand\n    rw [h\u2081]\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly capture positive real numbers x, y, z with explicit positivity constraints", "The constraint equation x\u00b2 + y\u00b2 + z\u00b2 + 2xyz = 1 is perfectly translated", "Definition P = xyz is correctly formalized", "Definition t = P^(1/3) is correctly formalized with proper type annotation", "Statement l1: x\u00b2+y\u00b2+z\u00b2 = 1-2P matches exactly", "Statement l2: inequality x\u00b2+y\u00b2+z\u00b2 \u2265 3P^(2/3) matches exactly with proper type annotation", "Statement l3: inequality 1-2P \u2265 3P^(2/3) matches exactly", "Statement l4: inequality 1 - 2t\u00b3 \u2265 3t\u00b2 matches exactly", "Statement l5: inequality 2t\u00b3 + 3t\u00b2 - 1 \u2264 0 matches exactly", "The conclusion (2t-1)(t+1)\u00b2 \u2264 0 is perfectly captured", "All mathematical expressions, logical relationships, and the overall structure are faithfully represented in the Lean formalization"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "since $t>0$", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4];\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5];\n\u2022 $(2t-1)(t+1)^2 \\le 0$ [l6].\nTherefore, we conclude:\n\u2022 $t > 0$ [l7].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (hl3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (hl4 : 1 - 2*t^3 \u2265 3*t^2)\n  (hl5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (hl6 : (2*t - 1) * (t + 1)^2 \u2264 0) :\n  0 < t := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP_def : P = x*y*z)\n  (ht_def : t = P^(1/3 : \u211d))\n  (hl1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (hl2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (hl3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (hl4 : 1 - 2*t^3 \u2265 3*t^2)\n  (hl5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (hl6 : (2*t - 1) * (t + 1)^2 \u2264 0) :\n  0 < t := by\n  have hP_pos : 0 < P := by\n    rw [hP_def]\n    have h\u2081 : 0 < x * y := mul_pos hpos_x hpos_y\n    have h\u2082 : 0 < x * y * z := mul_pos h\u2081 hpos_z\n    linarith\n  \n  have ht_pos : 0 < t := by\n    rw [ht_def]\n    -- Use the property that the real power of a positive number is positive\n    have h\u2081 : 0 < (P : \u211d) := by exact_mod_cast hP_pos\n    have h\u2082 : 0 < (P : \u211d) ^ (1 / 3 : \u211d) := Real.rpow_pos_of_pos h\u2081 (1 / 3 : \u211d)\n    exact h\u2082\n  \n  exact ht_pos", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The positivity constraints for x, y, z are correctly captured with 0 < x, 0 < y, 0 < z", "The constraint equation x\u00b2 + y\u00b2 + z\u00b2 + 2xyz = 1 is perfectly translated", "The definition P = xyz is correctly formalized as hP_def : P = x*y*z", "The definition t = P^(1/3) is correctly formalized with explicit real type annotation", "The equation l1: x\u00b2+y\u00b2+z\u00b2 = 1-2P is perfectly captured", "The inequality l2: x\u00b2+y\u00b2+z\u00b2 \u2265 3P^(2/3) is correctly formalized with explicit real type annotation", "The inequality l3: 1-2P \u2265 3P^(2/3) is perfectly translated", "The inequality l4: 1 - 2t\u00b3 \u2265 3t\u00b2 is correctly captured", "The inequality l5: 2t\u00b3 + 3t\u00b2 - 1 \u2264 0 is perfectly formalized", "The inequality l6: (2t-1)(t+1)\u00b2 \u2264 0 is correctly translated", "The conclusion t > 0 is perfectly captured as 0 < t (equivalent mathematical meaning)"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "it follows that $2t-1 \\le 0$", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4];\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5];\n\u2022 $(2t-1)(t+1)^2 \\le 0$ [l6];\n\u2022 $t > 0$ [l7].\nTherefore, we conclude:\n\u2022 $2t-1 \\le 0$ [l8].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l8 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP : P = x*y*z)\n  (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (l3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2)\n  (l5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (l6 : (2*t - 1) * (t + 1)^2 \u2264 0)\n  (l7 : 0 < t) :\n  2*t - 1 \u2264 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l8 \n  (x y z P t : \u211d)\n  (hpos_x : 0 < x) (hpos_y : 0 < y) (hpos_z : 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (hP : P = x*y*z)\n  (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (l3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2)\n  (l5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (l6 : (2*t - 1) * (t + 1)^2 \u2264 0)\n  (l7 : 0 < t) :\n  2*t - 1 \u2264 0 := by\n  have h_pos_sq : (t + 1)^2 > 0 := by\n    have h\u2081 : t + 1 > 0 := by linarith\n    have h\u2082 : (t + 1) ^ 2 > 0 := by\n      -- Since t + 1 > 0, its square is also positive.\n      have h\u2083 : t + 1 > 0 := h\u2081\n      nlinarith [sq_pos_of_pos h\u2083]\n    exact h\u2082\n  \n  have h_main : 2*t - 1 \u2264 0 := by\n    by_contra h\n    -- Assume 2*t - 1 > 0\n    have h\u2081 : 2*t - 1 > 0 := by linarith\n    -- Since (t + 1)^2 > 0, the product (2*t - 1)*(t + 1)^2 > 0\n    have h\u2082 : (2*t - 1) * (t + 1)^2 > 0 := by\n      have h\u2083 : (t + 1)^2 > 0 := h_pos_sq\n      have h\u2084 : 2*t - 1 > 0 := h\u2081\n      nlinarith\n    -- This contradicts the given inequality (2*t - 1)*(t + 1)^2 \u2264 0\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical relationships, assumptions, and the conclusion from the natural language. The variable declarations, constraint equation, definitions of P and t, all intermediate logical steps (l1-l7), and the final conclusion (l8) are faithfully represented. The additional type annotations like (1/3 : \u211d) are necessary Lean syntax that don't alter the mathematical meaning."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l9": {"id": "l9", "natural_language": "so $t \\le \\frac{1}{2}$.", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4];\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5];\n\u2022 $(2t-1)(t+1)^2 \\le 0$ [l6];\n\u2022 $t > 0$ [l7];\n\u2022 $2t-1 \\le 0$ [l8].\nTherefore, we conclude:\n\u2022 $t \\le \\frac{1}{2}$ [l9].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem xyz_bound (x y z : \u211d) (hpos : 0 < x \u2227 0 < y \u2227 0 < z) \n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x*y*z \u2264 1/8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem xyz_bound (x y z : \u211d) (hpos : 0 < x \u2227 0 < y \u2227 0 < z) \n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1) :\n  x*y*z \u2264 1/8 := by\n  have hP_pos : 0 < x * y * z := by\n    have hx : 0 < x := hpos.1\n    have hy : 0 < y := hpos.2.1\n    have hz : 0 < z := hpos.2.2\n    have hxy : 0 < x * y := mul_pos hx hy\n    have hxyz : 0 < x * y * z := mul_pos hxy hz\n    exact hxyz\n  \n  have hP_le_half : x * y * z \u2264 1/2 := by\n    have h\u2081 : 0 \u2264 x^2 + y^2 + z^2 := by positivity\n    have h\u2082 : x^2 + y^2 + z^2 + 2 * x * y * z = 1 := hconstraint\n    have h\u2083 : 0 \u2264 x * y * z := by\n      have hx : 0 < x := hpos.1\n      have hy : 0 < y := hpos.2.1\n      have hz : 0 < z := hpos.2.2\n      positivity\n    nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x)]\n  \n  have h_main : x * y * z \u2264 1 / 8 := by\n    have h\u2081 : 0 < x := hpos.1\n    have h\u2082 : 0 < y := hpos.2.1\n    have h\u2083 : 0 < z := hpos.2.2\n    have h\u2084 : 0 < x * y * z := by positivity\n    -- Use the fact that the cubic polynomial is increasing to bound xyz\n    have h\u2085 : x * y * z \u2264 1 / 8 := by\n      by_contra h\n      -- Assume for contradiction that xyz > 1/8\n      have h\u2086 : x * y * z > 1 / 8 := by linarith\n      -- Use the constraint to derive a contradiction\n      have h\u2087 : 0 < x * y := by positivity\n      have h\u2088 : 0 < x * z := by positivity\n      have h\u2089 : 0 < y * z := by positivity\n      -- Use non-linear arithmetic to show the contradiction\n      nlinarith [sq_nonneg (x - y), sq_nonneg (y - z), sq_nonneg (z - x),\n        sq_nonneg (x + y + z - 3 / 2), sq_nonneg (x + y + z),\n        sq_nonneg (x - y + z), sq_nonneg (x + y - z), sq_nonneg (x - y - z)]\n    exact h\u2085\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The variable declarations, positivity conditions, and main constraint x^2 + y^2 + z^2 + 2*x*y*z = 1 are correctly captured in the Lean formalization.", "The natural language provides detailed intermediate steps including definitions of P = xyz, t = P^(1/3), and logical deductions l1 through l8. The Lean formalization completely omits all these intermediate definitions and proof steps, only stating the final theorem with 'sorry'.", "The final mathematical conclusion xyz \u2264 1/8 is correctly stated in the Lean theorem, which is equivalent to the natural language conclusion t \u2264 1/2 where t = (xyz)^(1/3)."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The variable declarations, positivity conditions, and main constraint x^2 + y^2 + z^2 + 2*x*y*z = 1 are correctly captured in the Lean formalization.', \"The natural language provides detailed intermediate steps including definitions of P = xyz, t = P^(1/3), and logical deductions l1 through l8. The Lean formalization completely omits all these intermediate definitions and proof steps, only stating the final theorem with 'sorry'.\", 'The final mathematical conclusion xyz \u2264 1/8 is correctly stated in the Lean theorem, which is equivalent to the natural language conclusion t \u2264 1/2 where t = (xyz)^(1/3).']"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Therefore $xyz = t^3 \\le \\frac{1}{8}$.", "statement": "We assume:\n\u2022 $x, y, z$ are positive real numbers [tc_1];\n\u2022 $x^2 + y^2 + z^2 + 2xyz = 1$ [tc_2];\n\u2022 $P = xyz$ [def_1];\n\u2022 $x^2+y^2+z^2 = 1-2P$ [l1];\n\u2022 $x^2+y^2+z^2 \\ge 3P^{2/3}$ [l2];\n\u2022 $1-2P \\ge 3P^{2/3}$ [l3];\n\u2022 $t = P^{1/3}$ [def_2];\n\u2022 $1 - 2t^3 \\ge 3t^2$ [l4];\n\u2022 $2t^3 + 3t^2 - 1 \\le 0$ [l5];\n\u2022 $(2t-1)(t+1)^2 \\le 0$ [l6];\n\u2022 $t > 0$ [l7];\n\u2022 $2t-1 \\le 0$ [l8];\n\u2022 $t \\le \\frac{1}{2}$ [l9].\nTherefore, we conclude:\n\u2022 $xyz \\le \\frac{1}{8}$ [ts_1].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "def_2", "l4", "l5", "l6", "l7", "l8", "l9"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (x y z : \u211d)\n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (t : \u211d) (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (l3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2)\n  (l5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (l6 : (2*t - 1) * (t + 1)^2 \u2264 0)\n  (l7 : 0 < t)\n  (l8 : 2*t - 1 \u2264 0)\n  (l9 : t \u2264 1/2) :\n  x*y*z \u2264 1/8 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (x y z : \u211d)\n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (t : \u211d) (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (l3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2)\n  (l5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (l6 : (2*t - 1) * (t + 1)^2 \u2264 0)\n  (l7 : 0 < t)\n  (l8 : 2*t - 1 \u2264 0)\n  (l9 : t \u2264 1/2) :\n  x*y*z \u2264 1/8 := by\n  have hP_pos : P > 0 := by\n    have h\u2081 : 0 < x := hpos.1\n    have h\u2082 : 0 < y := hpos.2.1\n    have h\u2083 : 0 < z := hpos.2.2\n    have h\u2084 : 0 < x * y := mul_pos h\u2081 h\u2082\n    have h\u2085 : 0 < x * y * z := mul_pos h\u2084 h\u2083\n    have h\u2086 : P = x * y * z := hP\n    linarith\n  \n  have ht_cubed : t ^ 3 = P := by\n    have h\u2081 : t = P ^ (1 / 3 : \u211d) := ht\n    rw [h\u2081]\n    have h\u2082 : (P : \u211d) > 0 := by exact_mod_cast hP_pos\n    have h\u2083 : (P : \u211d) ^ (1 / 3 : \u211d) > 0 := Real.rpow_pos_of_pos h\u2082 (1 / 3 : \u211d)\n    -- Use the property of exponents to simplify (P^(1/3))^3\n    have h\u2084 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = P := by\n      calc\n        ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = (P : \u211d) ^ ((1 / 3 : \u211d) * 3) := by\n          rw [\u2190 Real.rpow_nat_cast]\n          rw [\u2190 Real.rpow_mul (le_of_lt h\u2082)]\n          <;> norm_num\n        _ = (P : \u211d) ^ (1 : \u211d) := by\n          norm_num\n          <;> field_simp\n          <;> ring_nf\n        _ = P := by\n          simp [Real.rpow_one]\n          <;> norm_num\n    -- Simplify the expression to get the final result\n    have h\u2085 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = P := h\u2084\n    norm_num at h\u2085 \u22a2\n    <;>\n    (try norm_num) <;>\n    (try simp_all [pow_three]) <;>\n    (try ring_nf at * <;> nlinarith) <;>\n    (try linarith)\n    <;>\n    (try nlinarith)\n    <;>\n    (try\n      {\n        simp_all [pow_three]\n        <;>\n        nlinarith\n      })\n  \n  have ht_cubed_ub : t ^ 3 \u2264 1 / 8 := by\n    have h\u2081 : t \u2264 1 / 2 := l9\n    have h\u2082 : 0 < t := l7\n    have h\u2083 : t ^ 3 \u2264 (1 / 2 : \u211d) ^ 3 := by\n      have h\u2084 : 0 \u2264 t := by linarith\n      have h\u2085 : t \u2264 1 / 2 := h\u2081\n      -- Use the fact that the function x \u21a6 x^3 is increasing on [0, \u221e)\n      have h\u2086 : t ^ 3 \u2264 (1 / 2 : \u211d) ^ 3 := by\n        -- Use the property of powers for non-negative numbers\n        exact pow_le_pow_of_le_left (by positivity) h\u2085 3\n      exact h\u2086\n    -- Calculate (1/2)^3\n    have h\u2084 : (1 / 2 : \u211d) ^ 3 = 1 / 8 := by norm_num\n    -- Combine the inequalities\n    linarith\n  \n  have hP_ub : P \u2264 1 / 8 := by\n    have h\u2081 : t ^ 3 = P := ht_cubed\n    have h\u2082 : t ^ 3 \u2264 1 / 8 := ht_cubed_ub\n    linarith\n  \n  have h_final : x*y*z \u2264 1/8 := by\n    have h\u2081 : P = x * y * z := hP\n    have h\u2082 : P \u2264 1 / 8 := hP_ub\n    linarith\n  \n  exact h_final", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 75, "column": 52, "endLine": 75, "endColumn": 54, "data": "application type mismatch\n  pow_le_pow_of_le_left ?m.51260 h\u2085\nargument\n  h\u2085\nhas type\n  t \u2264 1 / 2 : Prop\nbut is expected to have type\n  \u2115 : Type"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all components from the natural language proof. All assumptions (positive reals, constraint equation), definitions (P and t), intermediate logical steps (l1-l9), and the final conclusion are properly represented. The mathematical expressions are equivalent despite minor notational differences (e.g., x*y*z vs xyz, explicit type annotations). The logical flow and semantic meaning are completely preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "NL statement", "error_report": "Formalization appears correct (score=1.0 > 0.6), and the prover could prove the NEGATION of the NL lemma. The NL statement is likely incorrect."}, "solved_negation": {"lean_verify": true, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (x y z : \u211d)\n  (hpos : 0 < x \u2227 0 < y \u2227 0 < z)\n  (hconstraint : x^2 + y^2 + z^2 + 2*x*y*z = 1)\n  (P : \u211d) (hP : P = x*y*z)\n  (t : \u211d) (ht : t = P^(1/3 : \u211d))\n  (l1 : x^2 + y^2 + z^2 = 1 - 2*P)\n  (l2 : x^2 + y^2 + z^2 \u2265 3*P^(2/3 : \u211d))\n  (l3 : 1 - 2*P \u2265 3*P^(2/3 : \u211d))\n  (l4 : 1 - 2*t^3 \u2265 3*t^2)\n  (l5 : 2*t^3 + 3*t^2 - 1 \u2264 0)\n  (l6 : (2*t - 1) * (t + 1)^2 \u2264 0)\n  (l7 : 0 < t)\n  (l8 : 2*t - 1 \u2264 0)\n  (l9 : t \u2264 1/2) :\n  x*y*z \u2264 1/8 := by\n  have hP_pos : 0 < P := by\n    have h\u2081 : 0 < x := hpos.1\n    have h\u2082 : 0 < y := hpos.2.1\n    have h\u2083 : 0 < z := hpos.2.2\n    have h\u2084 : 0 < x * y := mul_pos h\u2081 h\u2082\n    have h\u2085 : 0 < x * y * z := mul_pos h\u2084 h\u2083\n    rw [hP]\n    exact h\u2085\n  \n  have ht_cubed : t^3 = P := by\n    have h\u2081 : t = P ^ (1 / 3 : \u211d) := ht\n    have h\u2082 : 0 < P := hP_pos\n    have h\u2083 : t > 0 := l7\n    have h\u2084 : (t : \u211d) = P ^ (1 / 3 : \u211d) := by exact_mod_cast h\u2081\n    have h\u2085 : (t : \u211d) ^ 3 = P := by\n      calc\n        (t : \u211d) ^ 3 = (P ^ (1 / 3 : \u211d)) ^ 3 := by rw [h\u2084]\n        _ = P := by\n          -- Use the property of exponents (a^b)^c = a^(b*c)\n          have h\u2086 : (P : \u211d) > 0 := by exact_mod_cast h\u2082\n          have h\u2087 : (P : \u211d) ^ (1 / 3 : \u211d) > 0 := Real.rpow_pos_of_pos h\u2086 (1 / 3 : \u211d)\n          -- Use the property (a^b)^c = a^(b*c)\n          have h\u2088 : ((P : \u211d) ^ (1 / 3 : \u211d)) ^ 3 = (P : \u211d) ^ ((1 / 3 : \u211d) * 3) := by\n            rw [\u2190 Real.rpow_nat_cast]\n            rw [\u2190 Real.rpow_mul] <;> norm_num <;> linarith\n          rw [h\u2088]\n          -- Simplify the exponent (1/3)*3 = 1\n          have h\u2089 : ((1 / 3 : \u211d) * 3 : \u211d) = 1 := by norm_num\n          rw [h\u2089]\n          -- P^1 = P\n          have h\u2081\u2080 : (P : \u211d) ^ (1 : \u211d) = (P : \u211d) := by\n            simp [Real.rpow_one]\n          rw [h\u2081\u2080]\n          <;> simp_all [hP]\n          <;> ring_nf at *\n          <;> nlinarith\n        _ = (P : \u211d) := by simp [hP]\n    -- Convert the result back to real numbers\n    have h\u2086 : (t : \u211d) ^ 3 = (P : \u211d) := by exact_mod_cast h\u2085\n    -- Since t and P are real numbers, we can directly use the result\n    norm_cast at h\u2086 \u22a2\n    <;>\n    (try simp_all) <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try ring_nf at *) <;>\n    (try nlinarith)\n    <;>\n    (try simp_all [hP]) <;>\n    (try norm_num) <;>\n    (try linarith)\n  \n  have hP_le : P \u2264 1/8 := by\n    have h\u2081 : t \u2264 1 / 2 := l9\n    have h\u2082 : 0 < t := l7\n    have h\u2083 : t ^ 3 = P := ht_cubed\n    have h\u2084 : t ^ 3 \u2264 (1 / 2 : \u211d) ^ 3 := by\n      -- Since t \u2264 1/2 and t > 0, t^3 \u2264 (1/2)^3\n      have h\u2085 : 0 < t := l7\n      have h\u2086 : t \u2264 1 / 2 := l9\n      have h\u2087 : 0 < (1 / 2 : \u211d) := by norm_num\n      have h\u2088 : 0 < t ^ 2 := by positivity\n      have h\u2089 : 0 < t ^ 3 := by positivity\n      -- Use the fact that the cube function is increasing on positive numbers\n      have h\u2081\u2080 : t ^ 3 \u2264 (1 / 2 : \u211d) ^ 3 := by\n        -- Use the fact that the cube function is increasing on positive numbers\n        have h\u2081\u2081 : t \u2264 1 / 2 := l9\n        have h\u2081\u2082 : 0 \u2264 t := by linarith\n        have h\u2081\u2083 : 0 \u2264 (1 / 2 : \u211d) := by norm_num\n        -- Use the fact that the cube function is increasing on positive numbers\n        nlinarith [sq_nonneg (t - 1 / 2), sq_nonneg (t + 1 / 2)]\n      exact h\u2081\u2080\n    -- Since t^3 = P, we have P \u2264 (1/2)^3 = 1/8\n    have h\u2085 : P \u2264 1 / 8 := by\n      calc\n        P = t ^ 3 := by rw [ht_cubed]\n        _ \u2264 (1 / 2 : \u211d) ^ 3 := h\u2084\n        _ = 1 / 8 := by norm_num\n    exact h\u2085\n  \n  have h_main : x*y*z \u2264 1/8 := by\n    have h\u2081 : P = x * y * z := hP\n    have h\u2082 : P \u2264 1 / 8 := hP_le\n    linarith\n  \n  exact h_main"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l9", "label": "l9", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    