
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $f^{(n)}(x_0)$ exists$,$ then
\begin{equation}\label{eq:2.5.7}
f(x)=\sum_{r=0}^n\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r+E_n(x)(x-x_0)^n,
\end{equation}
where
$$
\lim_{x	o x_0} E_n(x)=E_n(x_0)=0.
$$

Proof: Define
$$
E_n(x)=
\left\{\casespace\begin{array}{ll}
\dst\frac{f(x)-T_n(x)}{(x-x_0)^n},&x\in D_f-\{x_0\},\\
0,&x=x_0.\end{array}\right.
$$
Then  \eqref{eq:2.5.5} implies that $\lim_{x	o x_0}E_n(x)=E_n(x_0)=0$,
and it is straightforward to verify \eqref{eq:2.5.7}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $f^{(n)}(x_0)$ exists", "statement": "Premise:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n(tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean declares f as \u211d \u2192 \u211d (a function from reals to reals) and D_f as Set \u211d, but doesn't explicitly state that f is defined on domain D_f. The natural language specifies f is defined on domain D_f \u2286 \u211d, which means f's actual domain is D_f, not all of \u211d.", "The Lean condition x\u2080 \u2208 interior D_f perfectly matches the natural language statement that x\u2080 is a point in the interior of D_f.", "The Lean uses DifferentiableAt \u211d (iteratedDeriv n f) x\u2080, which means the n-th iterated derivative exists and is differentiable at x\u2080. However, the natural language only requires that f^(n)(x\u2080) exists, not that it's differentiable. The Lean condition is stronger than what's stated in natural language."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean declares f as \u211d \u2192 \u211d (a function from reals to reals) and D_f as Set \u211d, but doesn't explicitly state that f is defined on domain D_f. The natural language specifies f is defined on domain D_f \u2286 \u211d, which means f's actual domain is D_f, not all of \u211d.\", 'The Lean condition x\u2080 \u2208 interior D_f perfectly matches the natural language statement that x\u2080 is a point in the interior of D_f.', \"The Lean uses DifferentiableAt \u211d (iteratedDeriv n f) x\u2080, which means the n-th iterated derivative exists and is differentiable at x\u2080. However, the natural language only requires that f^(n)(x\u2080) exists, not that it's differentiable. The Lean condition is stronger than what's stated in natural language.\"]"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "$\\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$", "statement": "We assume:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1].\nDefinition:\n\u2022 The n-th Taylor polynomial of $f$ at $x_0$ is $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n(tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n\nnoncomputable def T_n (x : \u211d) : \u211d := \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean declares f as a function from \u211d to \u211d and D_f as a Set \u211d, but doesn't explicitly state that f is defined on domain D_f. The natural language specifies f is defined on D_f, which is a constraint not captured in the Lean formalization.", "The Lean formalization correctly captures that x\u2080 is in the interior of D_f using the interior function.", "The Lean uses DifferentiableAt for the iterated derivative, which is stronger than just existence of the n-th derivative. DifferentiableAt implies existence but also continuity and other properties. However, this captures the essential meaning.", "The Lean definition perfectly matches the mathematical formula, using iteratedDeriv r f x\u2080 for f^{(r)}(x\u2080), factorial for r!, and the same summation structure with Finset.range (n + 1) corresponding to r=0 to n."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean declares f as a function from \u211d to \u211d and D_f as a Set \u211d, but doesn't explicitly state that f is defined on domain D_f. The natural language specifies f is defined on D_f, which is a constraint not captured in the Lean formalization.\", 'The Lean formalization correctly captures that x\u2080 is in the interior of D_f using the interior function.', 'The Lean uses DifferentiableAt for the iterated derivative, which is stronger than just existence of the n-th derivative. DifferentiableAt implies existence but also continuity and other properties. However, this captures the essential meaning.', 'The Lean definition perfectly matches the mathematical formula, using iteratedDeriv r f x\u2080 for f^{(r)}(x\u2080), factorial for r!, and the same summation structure with Finset.range (n + 1) corresponding to r=0 to n.']"}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "Define\n$$\nE_n(x)=\n\\left\\{\\casespace\\begin{array}{ll}\n\\dst\\frac{f(x)-T_n(x)}{(x-x_0)^n},&x\\in D_f-\\{x_0\\},\\\\\n0,&x=x_0.\\end{array}\\right.\n$$", "statement": "We assume:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1];\n\u2022 The n-th Taylor polynomial of $f$ at $x_0$ is $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$ [def_1].\nDefinition:\n\u2022 The error function $E_n(x)$ is defined as $E_n(x) = \\frac{f(x)-T_n(x)}{(x-x_0)^n}$ for $x \\in D_f, x \\neq x_0$, and $E_n(x_0)=0$ [def_2].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n(tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n\nnoncomputable def T_n (x : \u211d) : \u211d := \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r\n\nnoncomputable def E_n (x : \u211d) : \u211d :=\n  if x = x\u2080 then 0\n  else if x \u2208 D_f then (f x - T_n x) / (x - x\u2080) ^ n\n  else 0", "lean_pass": false, "error_msg": [{"line": 14, "column": 34, "endLine": 14, "endColumn": 35, "data": "application type mismatch\n  T_n x\nargument\n  x\nhas type\n  \u211d : Type\nbut is expected to have type\n  \u211d \u2192 \u211d : Type"}, {"line": 14, "column": 24, "endLine": 14, "endColumn": 35, "data": "failed to synthesize\n  HSub \u211d (\u211d \u2192 \u2115 \u2192 \u211d \u2192 \u211d) ?m.5882\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 14, "column": 7, "endLine": 15, "endColumn": 8, "data": "failed to synthesize\n  Decidable (x \u2208 D_f)\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Then  \\eqref{eq:2.5.5} implies that", "statement": "We assume:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1];\n\u2022 The n-th Taylor polynomial of $f$ at $x_0$ is $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$ [def_1];\n\u2022 The error function $E_n(x)$ is defined as $E_n(x) = \\frac{f(x)-T_n(x)}{(x-x_0)^n}$ for $x \\in D_f, x \\neq x_0$, and $E_n(x_0)=0$ [def_2].\nTherefore, we conclude:\n\u2022 $\\lim_{x\\to x_0} \\frac{f(x)-T_n(x)}{(x-x_0)^n} = 0$ [l1]. This property is referenced as (2.5.5) in the proof and is a known consequence of the existence of $f^{(n)}(x_0)$.", "dependencies": ["tc_1", "def_1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (h_x\u2080 : x\u2080 \u2208 interior D_f)\n  (h_diff : DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n) :\n  Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (h_x\u2080 : x\u2080 \u2208 interior D_f)\n  (h_diff : DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n) :\n  Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by\n  have h_main : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0) := by\n    sorry\n  have h_final : Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by\n    sorry\n  exact h_final", "lean_pass": true, "lean_verify": false, "error_msg": [], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The function domain and point definition are correctly captured in Lean with appropriate types and the interior condition.", "The existence of the n-th derivative is properly expressed using DifferentiableAt with iteratedDeriv.", "The Taylor polynomial definition is accurately translated with correct summation bounds, factorial notation, and derivative terms.", "The error function definition captures the essential mathematical meaning but omits the explicit domain restriction x \u2208 D_f, which is a minor structural difference.", "The limit statement is correctly formalized using Filter.Tendsto with neighborhood filters, which is the standard way to express limits in Lean.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.8 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (h_x\u2080 : x\u2080 \u2208 interior D_f)\n  (h_diff : DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n) :\n  Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by\n  have h_main : Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by sorry\n  sorry"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Then  \\eqref{eq:2.5.5} implies that $\\lim_{x\\to x_0}E_n(x)=E_n(x_0)=0$", "statement": "We assume:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1];\n\u2022 The n-th Taylor polynomial of $f$ at $x_0$ is $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$ [def_1];\n\u2022 The error function $E_n(x)$ is defined as $E_n(x) = \\frac{f(x)-T_n(x)}{(x-x_0)^n}$ for $x \\in D_f, x \\neq x_0$, and $E_n(x_0)=0$ [def_2];\n\u2022 $\\lim_{x\\to x_0} \\frac{f(x)-T_n(x)}{(x-x_0)^n} = 0$ [l1].\nTherefore, we conclude:\n\u2022 $\\lim_{x\\to x_0} E_n(x) = E_n(x_0) = 0$ [ts_1].", "dependencies": ["tc_1", "def_1", "def_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n)\n  (l1 : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0)) :\n  Filter.Tendsto E_n (nhds x\u2080) (nhds 0) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (l1 : Filter.Tendsto (fun x => (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0)) :\n  Filter.Tendsto (fun x => (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n)) (nhds x\u2080) (nhds 0) := by\n  have h_main : \u2200 (x : \u211d), (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n) = (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n := by\n    intro x\n    by_cases hx : x = x\u2080\n    \u00b7 -- Case: x = x\u2080\n      have h\u2081 : (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n) = 0 := by\n        simp [hx]\n      have h\u2082 : (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n = 0 := by\n        by_cases hn : n = 0\n        \u00b7 -- Subcase: n = 0\n          have h\u2083 : (x - x\u2080 : \u211d) ^ n = 1 := by\n            rw [hn]\n            norm_num [hx]\n          have h\u2084 : (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r) : \u211d) = 0 := by\n            have h\u2085 : (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r) = f x\u2080 := by\n              have h\u2085\u2081 : n = 0 := hn\n              rw [h\u2085\u2081]\n              simp [Finset.sum_range_succ, iteratedDeriv_zero]\n              <;> norm_num\n              <;> field_simp\n              <;> ring\n              <;> simp_all [hx]\n              <;> linarith\n            have h\u2086 : x = x\u2080 := hx\n            have h\u2087 : f x = f x\u2080 := by rw [h\u2086]\n            rw [h\u2085] at *\n            linarith\n          rw [h\u2084]\n          simp [h\u2083]\n          <;> norm_num\n        \u00b7 -- Subcase: n \u2260 0\n          have h\u2083 : (x - x\u2080 : \u211d) ^ n = 0 := by\n            have h\u2084 : x = x\u2080 := hx\n            rw [h\u2084]\n            have h\u2085 : (x\u2080 - x\u2080 : \u211d) = 0 := by ring\n            have h\u2086 : n \u2260 0 := hn\n            have h\u2087 : (0 : \u211d) ^ n = 0 := by\n              norm_cast\n              cases n with\n              | zero => contradiction\n              | succ n => simp\n            simp_all [h\u2085]\n            <;> simp_all [pow_eq_zero_iff]\n            <;> norm_num\n            <;> aesop\n          have h\u2084 : (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r) : \u211d) / (x - x\u2080 : \u211d) ^ n = 0 := by\n            rw [h\u2083]\n            simp [div_zero]\n          exact h\u2084\n      linarith\n    \u00b7 -- Case: x \u2260 x\u2080\n      have h\u2081 : (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n) = (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n := by\n        simp [hx]\n      exact h\u2081\n  \n  have h_final : Filter.Tendsto (fun x => (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n)) (nhds x\u2080) (nhds 0) := by\n    have h\u2082 : (fun x => (if x = x\u2080 then 0 else (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n)) = (fun x => (f x - (\u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)) / (x - x\u2080) ^ n) := by\n      funext x\n      rw [h_main x]\n    rw [h\u2082]\n    exact l1\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0.6, "semantic_feedback": ["The Lean formalization captures the mathematical content but misses the explicit constraint that f is defined on domain D_f. The natural language states f is defined on D_f, but the Lean code doesn't enforce that f's domain is restricted to D_f.", "The Taylor polynomial definition is perfectly captured. The sum notation, factorial terms, and power terms all match exactly between natural language and Lean.", "The error function definition has the right mathematical structure but lacks the domain restriction 'x \u2208 D_f' that is explicitly mentioned in the natural language. The conditional definition for x = x\u2080 vs x \u2260 x\u2080 is correctly implemented.", "The limit condition is perfectly formalized using Lean's Filter.Tendsto, which correctly captures the mathematical meaning of the limit approaching 0.", "The conclusion correctly states that E_n approaches 0 as x approaches x\u2080, which encompasses both parts of the natural language conclusion (the limit equals 0 and E_n(x\u2080) = 0)."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.6, below threshold 0.6.\nScorer feedback: [\"The Lean formalization captures the mathematical content but misses the explicit constraint that f is defined on domain D_f. The natural language states f is defined on D_f, but the Lean code doesn't enforce that f's domain is restricted to D_f.\", 'The Taylor polynomial definition is perfectly captured. The sum notation, factorial terms, and power terms all match exactly between natural language and Lean.', \"The error function definition has the right mathematical structure but lacks the domain restriction 'x \u2208 D_f' that is explicitly mentioned in the natural language. The conditional definition for x = x\u2080 vs x \u2260 x\u2080 is correctly implemented.\", \"The limit condition is perfectly formalized using Lean's Filter.Tendsto, which correctly captures the mathematical meaning of the limit approaching 0.\", 'The conclusion correctly states that E_n approaches 0 as x approaches x\u2080, which encompasses both parts of the natural language conclusion (the limit equals 0 and E_n(x\u2080) = 0).']"}, "solved_negation": null, "type": "solution"}, "ts_2": {"id": "ts_2", "natural_language": "and it is straightforward to verify \\eqref{eq:2.5.7}.", "statement": "We assume:\n\u2022 $f$ is a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}$, $x_0$ is a point in the interior of $D_f$, and the n-th derivative of $f$ at $x_0$, $f^{(n)}(x_0)$, exists [tc_1];\n\u2022 The n-th Taylor polynomial of $f$ at $x_0$ is $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r$ [def_1];\n\u2022 The error function $E_n(x)$ is defined as $E_n(x) = \\frac{f(x)-T_n(x)}{(x-x_0)^n}$ for $x \\in D_f, x \\neq x_0$, and $E_n(x_0)=0$ [def_2];\n\u2022 $\\lim_{x\\to x_0} \\frac{f(x)-T_n(x)}{(x-x_0)^n} = 0$ [l1];\n\u2022 $\\lim_{x\\to x_0} E_n(x) = E_n(x_0) = 0$ [ts_1].\nTherefore, we conclude:\n\u2022 $f(x)=\\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r+E_n(x)(x-x_0)^n$ [ts_2].", "dependencies": ["tc_1", "def_1", "def_2", "l1", "ts_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_2\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n)\n  (l1 : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0))\n  (ts_1 : Filter.Tendsto E_n (nhds x\u2080) (nhds 0)) :\n  \u2200 x \u2208 D_f, f x = T_n x + E_n x * (x - x\u2080) ^ n := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_2\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d := fun x => \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r)\n  (E_n : \u211d \u2192 \u211d := fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n)\n  (l1 : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0))\n  (ts_1 : Filter.Tendsto E_n (nhds x\u2080) (nhds 0)) :\n  \u2200 x \u2208 D_f, f x = T_n x + E_n x * (x - x\u2080) ^ n := by\n  intro x hx\n  by_cases hx\u2080 : x = x\u2080\n  \u00b7 -- Case: x = x\u2080\n    have h\u2081 : E_n x = 0 := by\n      simp [E_n, hx\u2080]\n      <;> aesop\n    have h\u2082 : (x - x\u2080 : \u211d) ^ n = 0 := by\n      rw [hx\u2080]\n      simp [sub_self]\n      <;> induction n <;> simp_all [pow_succ]\n      <;> norm_num\n      <;> linarith\n    have h\u2083 : f x = T_n x := by\n      -- Prove that T_n x = f x when x = x\u2080\n      have h\u2084 : T_n x = \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r := by\n        rfl\n      rw [h\u2084]\n      have h\u2085 : x = x\u2080 := hx\u2080\n      have h\u2086 : \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r = f x\u2080 := by\n        -- Prove that the sum equals f(x\u2080)\n        have h\u2087 : \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r = \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r := by\n          rw [h\u2085]\n          simp [sub_self]\n          <;>\n          simp_all [Finset.sum_range_succ, pow_succ]\n          <;>\n          ring_nf\n          <;>\n          simp_all\n        rw [h\u2087]\n        have h\u2088 : \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r = (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 := by\n          -- Prove that the sum of terms from r=1 to n is 0\n          have h\u2089 : \u2200 (r : \u2115), r \u2208 Finset.range (n + 1) \u2192 (r \u2260 0 \u2192 (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r = 0) := by\n            intro r hr\n            intro hr'\n            have h\u2081\u2080 : r \u2265 1 := by\n              by_contra h\n              have h\u2081\u2081 : r = 0 := by omega\n              contradiction\n            have h\u2081\u2081 : (0 : \u211d) ^ r = 0 := by\n              have h\u2081\u2082 : r \u2265 1 := h\u2081\u2080\n              have h\u2081\u2083 : (0 : \u211d) ^ r = 0 := by\n                norm_cast\n                simp [Nat.pos_iff_ne_zero, h\u2081\u2082]\n                <;> cases r <;> simp_all [Nat.succ_ne_zero]\n                <;> norm_num\n              exact h\u2081\u2083\n            have h\u2081\u2082 : (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r = 0 := by\n              rw [h\u2081\u2081]\n              ring\n            exact h\u2081\u2082\n          calc\n            \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r =\n                \u2211 r in Finset.range (n + 1), if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r := by\n              apply Finset.sum_congr rfl\n              intro r hr\n              by_cases h : r = 0 <;> simp [h]\n            _ = \u2211 r in Finset.range (n + 1), if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else 0 := by\n              apply Finset.sum_congr rfl\n              intro r hr\n              by_cases h : r = 0\n              \u00b7 simp [h]\n              \u00b7 have h\u2081\u2080 := h\u2089 r hr h\n                simp [h, h\u2081\u2080]\n            _ = (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 := by\n              have h\u2081\u2080 : \u2211 r in Finset.range (n + 1), (if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else 0 : \u211d) = (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 := by\n                calc\n                  \u2211 r in Finset.range (n + 1), (if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else 0 : \u211d) =\n                      \u2211 r in Finset.range (n + 1), if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else 0 := by simp\n                  _ = \u2211 r in Finset.range 1, if r = 0 then (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (0 : \u211d) ^ r else 0 := by\n                    apply Finset.sum_subset\n                    \u00b7 intro r hr\n                      simp only [Finset.mem_range] at hr \u22a2\n                      by_cases h : r = 0\n                      \u00b7 simp [h]\n                      \u00b7 have h\u2081\u2081 : r \u2265 1 := by\n                          omega\n                        simp [h, h\u2081\u2081]\n                        <;>\n                        (try omega) <;>\n                        (try simp_all [Finset.mem_range]) <;>\n                        (try norm_num) <;>\n                        (try linarith)\n                    \u00b7 intro r hr\n                      simp only [Finset.mem_range] at hr\n                      have h\u2081\u2081 : r \u2265 1 := by omega\n                      simp [h\u2081\u2081]\n                      <;>\n                      (try omega) <;>\n                      (try simp_all [Finset.mem_range]) <;>\n                      (try norm_num) <;>\n                      (try linarith)\n                  _ = (if (0 : \u2115) = 0 then (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 else 0 : \u211d) := by\n                    simp [Finset.sum_range_succ]\n                  _ = (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 := by\n                    simp\n              rw [h\u2081\u2080]\n            _ = (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 := by rfl\n        rw [h\u2088]\n        have h\u2089 : (iteratedDeriv 0 f x\u2080 / (0.factorial : \u211d)) * (0 : \u211d) ^ 0 = f x\u2080 := by\n          have h\u2081\u2080 : iteratedDeriv 0 f x\u2080 = f x\u2080 := by\n            simp [iteratedDeriv_zero]\n          have h\u2081\u2081 : (0 : \u211d) ^ 0 = 1 := by norm_num\n          have h\u2081\u2082 : (0.factorial : \u211d) = 1 := by norm_num\n          rw [h\u2081\u2080, h\u2081\u2081, h\u2081\u2082]\n          <;> field_simp <;> ring\n          <;> simp_all [iteratedDeriv_zero]\n          <;> norm_num\n        rw [h\u2089]\n        <;> simp_all [h\u2085]\n        <;> ring_nf\n        <;> simp_all [iteratedDeriv_zero]\n        <;> norm_num\n      have h\u2081\u2080 : \u2211 r in Finset.range (n + 1), (iteratedDeriv r f x\u2080 / (r.factorial : \u211d)) * (x - x\u2080) ^ r = f x\u2080 := h\u2086\n      have h\u2081\u2081 : f x\u2080 = f x := by\n        rw [hx\u2080]\n        <;> simp_all\n      linarith\n    have h\u2084 : f x = T_n x + E_n x * (x - x\u2080) ^ n := by\n      calc\n        f x = T_n x := by rw [h\u2083]\n        _ = T_n x + E_n x * (x - x\u2080) ^ n := by\n          have h\u2085 : E_n x * (x - x\u2080) ^ n = 0 := by\n            rw [h\u2081]\n            simp [h\u2082]\n            <;>\n            ring_nf\n            <;>\n            simp_all\n          linarith\n    exact h\u2084\n  \u00b7 -- Case: x \u2260 x\u2080\n    have h\u2081 : E_n x = (f x - T_n x) / (x - x\u2080) ^ n := by\n      have h\u2082 : x \u2260 x\u2080 := hx\u2080\n      simp [E_n, h\u2082]\n      <;>\n      aesop\n    have h\u2082 : f x - T_n x = E_n x * (x - x\u2080) ^ n := by\n      rw [h\u2081]\n      have h\u2083 : (x - x\u2080 : \u211d) \u2260 0 := by\n        intro h\n        apply hx\u2080\n        linarith\n      field_simp [h\u2083, sub_ne_zero.mpr hx\u2080]\n      <;> ring_nf\n      <;> field_simp [h\u2083, sub_ne_zero.mpr hx\u2080]\n      <;> linarith\n    linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 42, "column": 133, "endLine": 42, "endColumn": 142, "data": "unexpected identifier; expected ')', ',' or ':'"}, {"line": 16, "column": 6, "endLine": 16, "endColumn": 21, "data": "invalid argument, variable is not a proposition or let-declaration"}, {"line": 15, "column": 27, "endLine": 17, "endColumn": 15, "data": "unsolved goals\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nn : \u2115\nx : \u211d\nhx : x \u2208 D_f\nT_n : optParam (\u211d \u2192 \u211d) fun x_1 => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x / \u2191r ! * (x_1 - x) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x_1 => if x_1 = x then 0 else (f x_1 - T_n x_1) / (x_1 - x) ^ n\nl1 : Tendsto (fun x_1 => (f x_1 - T_n x_1) / (x_1 - x) ^ n) (\ud835\udcdd x) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x) (\ud835\udcdd 0)\nleft : x \u2208 interior D_f\nright : DifferentiableAt \u211d (iteratedDeriv n f) x\n\u22a2 E_n x = 0"}, {"line": 23, "column": 10, "endLine": 23, "endColumn": 18, "data": "linarith failed to find a contradiction\ncase zero\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 x : \u211d\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (0 + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ 0\nhx : x\u2080 \u2208 D_f\nhx\u2080 : x = x\u2080\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d f x\u2080\nl1 : Tendsto (fun x => f x - T_n x) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nh\u2081 : E_n x\u2080 = 0\n\u22a2 False failed"}, {"line": 27, "column": 8, "endLine": 27, "endColumn": 11, "data": "tactic 'rfl' failed, the left-hand side\n  T_n x\nis not definitionally equal to the right-hand side\n  \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : x = x\u2080\nh\u2081 : E_n x = 0\nh\u2082 : (x - x\u2080) ^ n = 0\n\u22a2 T_n x = \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r"}, {"line": 30, "column": 113, "endLine": 42, "endColumn": 133, "data": "unsolved goals\ncase h\u2088\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : x = x\u2080\nh\u2081 : E_n x = 0\nh\u2082 : (x - x\u2080) ^ n = 0\nh\u2084 : T_n x = \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nh\u2085 : x = x\u2080\nh\u2087 :\n  \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r =\n    \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * 0 ^ r\n\u22a2 \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * 0 ^ r = iteratedDeriv 0 f x\u2080 / 0.\n\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : x = x\u2080\nh\u2081 : E_n x = 0\nh\u2082 : (x - x\u2080) ^ n = 0\nh\u2084 : T_n x = \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nh\u2085 : x = x\u2080\nh\u2087 :\n  \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r =\n    \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * 0 ^ r\nh\u2088 : \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * 0 ^ r = iteratedDeriv 0 f x\u2080 / 0.\n\u22a2 \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * 0 ^ r = f x\u2080"}, {"line": 24, "column": 29, "endLine": 42, "endColumn": 133, "data": "unsolved goals\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : x = x\u2080\nh\u2081 : E_n x = 0\nh\u2082 : (x - x\u2080) ^ n = 0\nh\u2084 : T_n x = \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nh\u2085 : x = x\u2080\nh\u2086 : \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r = f x\u2080\n\u22a2 f x = \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r"}, {"line": 14, "column": 2, "endLine": 42, "endColumn": 133, "data": "unsolved goals\ncase pos\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : x = x\u2080\nh\u2081 : E_n x = 0\nh\u2082 : (x - x\u2080) ^ n = 0\nh\u2083 : f x = T_n x\n\u22a2 f x = T_n x + E_n x * (x - x\u2080) ^ n"}, {"line": 11, "column": 51, "endLine": 42, "endColumn": 133, "data": "unsolved goals\ncase neg\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx\u2080 : \u211d\nn : \u2115\ntc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080\nT_n : optParam (\u211d \u2192 \u211d) fun x => \u2211 r \u2208 Finset.range (n + 1), iteratedDeriv r f x\u2080 / \u2191r ! * (x - x\u2080) ^ r\nE_n : optParam (\u211d \u2192 \u211d) fun x => if x = x\u2080 then 0 else (f x - T_n x) / (x - x\u2080) ^ n\nl1 : Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nts_1 : Tendsto E_n (\ud835\udcdd x\u2080) (\ud835\udcdd 0)\nx : \u211d\nhx : x \u2208 D_f\nhx\u2080 : \u00acx = x\u2080\n\u22a2 f x = T_n x + E_n x * (x - x\u2080) ^ n"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The differentiability condition and domain specification are correctly formalized using interior and DifferentiableAt.", "The Taylor polynomial definition is accurately translated using Finset.range and iteratedDeriv.", "The piecewise definition of the error function is properly captured using conditional logic.", "The limit condition is correctly expressed using Filter.Tendsto with appropriate neighborhoods.", "The continuity condition for E_n is properly formalized as a limit to 0.", "The main conclusion correctly combines all components with proper domain restriction and algebraic structure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem counterexample_to_ts_2 : \u2203 (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115)\n  (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080)\n  (T_n : \u211d \u2192 \u211d)\n  (E_n : \u211d \u2192 \u211d)\n  (l1 : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0))\n  (ts_1 : Filter.Tendsto E_n (nhds x\u2080) (nhds 0)),\n  (\u2203 x \u2208 D_f, f x \u2260 T_n x + E_n x * (x - x\u2080) ^ n) := by\n  have h_main : \u2203 (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x\u2080 : \u211d) (n : \u2115) (tc_1 : x\u2080 \u2208 interior D_f \u2227 DifferentiableAt \u211d (iteratedDeriv n f) x\u2080) (T_n : \u211d \u2192 \u211d) (E_n : \u211d \u2192 \u211d) (l1 : Filter.Tendsto (fun x => (f x - T_n x) / (x - x\u2080) ^ n) (nhds x\u2080) (nhds 0)) (ts_1 : Filter.Tendsto E_n (nhds x\u2080) (nhds 0)), (\u2203 x \u2208 D_f, f x \u2260 T_n x + E_n x * (x - x\u2080) ^ n) := by\n    use fun x => 0, Set.univ, 0, 0\n    use \u27e8by\n      -- Prove that x\u2080 \u2208 interior D_f\n      have h : (0 : \u211d) \u2208 interior (Set.univ : Set \u211d) := by\n        simp [interior_univ]\n      exact h, by\n      -- Prove that iteratedDeriv n f is differentiable at x\u2080\n      have h : iteratedDeriv 0 (fun x : \u211d => (0 : \u211d)) = (fun x : \u211d => (0 : \u211d)) := by\n        funext x\n        simp [iteratedDeriv_zero]\n      rw [h]\n      apply differentiableAt_const\n      \u27e9\n    use fun x => 0\n    use fun x => if x = 0 then 0 else x\n    use by\n      -- Prove l1: (f x - T_n x) / (x - x\u2080) ^ n \u2192 0 as x \u2192 x\u2080\n      have h\u2081 : Filter.Tendsto (fun x : \u211d => ( (0 : \u211d) - (0 : \u211d) ) / (x - (0 : \u211d)) ^ (0 : \u2115)) (nhds (0 : \u211d)) (nhds (0 : \u211d)) := by\n        have h\u2082 : (fun x : \u211d => ( (0 : \u211d) - (0 : \u211d) ) / (x - (0 : \u211d)) ^ (0 : \u2115)) = fun x : \u211d => (0 : \u211d) := by\n          funext x\n          norm_num\n        rw [h\u2082]\n        exact tendsto_const_nhds\n      simpa using h\u2081\n    use by\n      -- Prove ts_1: E_n \u2192 0 as x \u2192 x\u2080\n      have h\u2082 : Filter.Tendsto (fun x : \u211d => (if x = (0 : \u211d) then (0 : \u211d) else x)) (nhds (0 : \u211d)) (nhds (0 : \u211d)) := by\n        have h\u2083 : (fun x : \u211d => (if x = (0 : \u211d) then (0 : \u211d) else x)) =\u1da0[nhds (0 : \u211d)] (fun x : \u211d => x) := by\n          filter_upwards [isOpen_ne.mem_nhds (by norm_num : (0 : \u211d) \u2260 (0 : \u211d) + 1)] with x hx\n          by_cases h : x = (0 : \u211d)\n          \u00b7 simp_all\n          \u00b7 simp [h]\n        have h\u2084 : Filter.Tendsto (fun x : \u211d => x) (nhds (0 : \u211d)) (nhds (0 : \u211d)) := by\n          apply continuousAt_id.tendsto\n        have h\u2085 : Filter.Tendsto (fun x : \u211d => (if x = (0 : \u211d) then (0 : \u211d) else x)) (nhds (0 : \u211d)) (nhds (0 : \u211d)) := by\n          apply Filter.Tendsto.congr' h\u2083 h\u2084\n        exact h\u2085\n      simpa using h\u2082\n    -- Show that there exists an x in D_f such that f x \u2260 T_n x + E_n x * (x - x\u2080) ^ n\n    use 1\n    constructor\n    \u00b7 -- Prove that 1 \u2208 D_f\n      trivial\n    \u00b7 -- Prove that f 1 \u2260 T_n 1 + E_n 1 * (1 - x\u2080) ^ n\n      norm_num [pow_zero]\n      <;>\n      simp_all [sub_eq_add_neg]\n      <;>\n      norm_num\n      <;>\n      aesop\n  exact h_main"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_2", "label": "ts_2", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "ts_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    