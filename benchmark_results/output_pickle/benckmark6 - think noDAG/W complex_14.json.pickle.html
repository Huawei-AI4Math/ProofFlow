
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z = x+iy$ be a complex number with $x, y \in \mathbb{R}$. If $\cos(z) = 2$, $x = 0$, and $y > 0$, then $z = i \ln(2+\sqrt{3})$.

Proof: Using the identity for the complex cosine, $\cos(z) = \cos(x)\cosh(y) - i\sin(x)\sinh(y)$, and substituting the condition $x=0$, we get $\cos(z) = \cosh(y)$. Combining this with the condition $\cos(z)=2$ gives the equation $\cosh(y)=2$. Solving this equation using the exponential definition of cosh leads to the quadratic equation $(e^y)^2 - 4e^y + 1 = 0$, whose solutions for $e^y$ are $2 \pm \sqrt{3}$. Given the condition $y > 0$, we must select the solution $e^y = 2 + \sqrt{3}$. Taking the logarithm gives $y = \ln(2+\sqrt{3})$, and since $z=iy$ from $x=0$, we conclude $z = i \ln(2+\sqrt{3})$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $z = x+iy$ be a complex number with $x, y \\in \\mathbb{R}$.", "statement": "Premise:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102) (x y : \u211d)\n(tc_1 : z = x + y * I)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration 'z : \u2102' perfectly captures that z is a complex number", "The Lean equation 'z = x + y * I' correctly represents z = x + iy, where 'I' is the imaginary unit in Lean's complex number notation", "The Lean declaration 'x : \u211d' perfectly captures that x is a real number", "The Lean declaration 'y : \u211d' perfectly captures that y is a real number"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "If $\\cos(z) = 2$", "statement": "Premise:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_2 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) :\n  z = I * Real.log (2 + Real.sqrt 3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that z is a complex number represented as x + iy where x, y are real numbers. The types \u2102 and \u211d match the mathematical notation, and z = x + y * I is equivalent to z = x + iy.", "The Lean condition h2 : Complex.cos z = 2 perfectly matches the mathematical condition cos(z) = 2.", "The Lean formalization introduces additional conditions (h3: x = 0, h4: y > 0) and a conclusion (z = I * Real.log (2 + Real.sqrt 3)) that are not present in the natural language statement. The natural language explicitly states there are no conclusions derived yet and this is just premise setup, but the Lean version provides a specific theorem with additional constraints and a conclusion."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that z is a complex number represented as x + iy where x, y are real numbers. The types \u2102 and \u211d match the mathematical notation, and z = x + y * I is equivalent to z = x + iy.', 'The Lean condition h2 : Complex.cos z = 2 perfectly matches the mathematical condition cos(z) = 2.', 'The Lean formalization introduces additional conditions (h3: x = 0, h4: y > 0) and a conclusion (z = I * Real.log (2 + Real.sqrt 3)) that are not present in the natural language statement. The natural language explicitly states there are no conclusions derived yet and this is just premise setup, but the Lean version provides a specific theorem with additional constraints and a conclusion.']"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "$x = 0$", "statement": "Premise:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_3 \n  (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) :\n  z = I * Real.log (2 + Real.sqrt 3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that z is a complex number represented as x + iy where x, y are real numbers. The notation 'y * I' is equivalent to 'iy'.", "The Lean formalization correctly represents cos(z) = 2 using Complex.cos.", "The Lean formalization correctly represents x = 0.", "The natural language explicitly states there are no conclusions derived yet and these are just premises. However, the Lean theorem includes a specific conclusion 'z = I * Real.log (2 + Real.sqrt 3)' which contradicts the natural language statement that no conclusions are being made."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly captures that z is a complex number represented as x + iy where x, y are real numbers. The notation 'y * I' is equivalent to 'iy'.\", 'The Lean formalization correctly represents cos(z) = 2 using Complex.cos.', 'The Lean formalization correctly represents x = 0.', \"The natural language explicitly states there are no conclusions derived yet and these are just premises. However, the Lean theorem includes a specific conclusion 'z = I * Real.log (2 + Real.sqrt 3)' which contradicts the natural language statement that no conclusions are being made.\"]"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "and $y > 0$", "statement": "Premise:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102) (x y : \u211d)\n(tc_1 : z = x + y * I)\n(tc_2 : Complex.cos z = 2)\n(tc_3 : x = 0)\n(tc_4 : y > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly declares z as a complex number (\u2102), x and y as real numbers (\u211d), and establishes z = x + y * I, which perfectly matches z = x + iy in the natural language", "Complex.cos z = 2 in Lean directly corresponds to cos(z) = 2 in the natural language", "x = 0 is identical in both representations", "y > 0 is identical in both representations"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Using the identity for the complex cosine, $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4].\nTherefore, we conclude:\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) :\n  Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) :\n  Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by\n  have h_main : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by\n    rw [Complex.ext_iff]\n    simp [Complex.cos, Complex.exp_re, Complex.exp_im, Complex.ext_iff, pow_two, h1, Complex.ext_iff,\n      Real.cos_add, Real.sin_add, Real.cosh_add, Real.sinh_add, mul_comm]\n    <;> ring_nf <;> simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.I_mul_I, Real.cos_sq, Real.sin_sq]\n    <;> norm_num <;>\n      (try ring_nf at * <;> norm_num at * <;>\n        simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.I_mul_I, Real.cos_sq, Real.sin_sq]) <;>\n      (try field_simp [Real.cosh_sq, Real.sinh_sq] at * <;> ring_nf at * <;> norm_num at * <;>\n        simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.I_mul_I, Real.cos_sq, Real.sin_sq]) <;>\n      (try linarith [Real.cosh_pos y])\n    <;>\n    (try\n      {\n        simp_all [Complex.ext_iff, pow_two, Complex.I_mul_I, Complex.I_mul_I, Real.cos_sq, Real.sin_sq]\n        <;>\n        ring_nf at *\n        <;>\n        norm_num at *\n        <;>\n        linarith [Real.cosh_pos y]\n      })\n    <;>\n    (try\n      {\n        field_simp [Real.cosh_sq, Real.sinh_sq] at *\n        <;>\n        ring_nf at *\n        <;>\n        norm_num at *\n        <;>\n        linarith [Real.cosh_pos y]\n      })\n  \n  rw [h_main]\n  <;>\n  simp_all [Complex.ext_iff, pow_two]\n  <;>\n  ring_nf at *\n  <;>\n  norm_num at *\n  <;>\n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 91, "endLine": 42, "endColumn": 8, "data": "unsolved goals\nI z : \u2102\nx y : \u211d\nh1 : z.re = y * I.re \u2227 z.im = y * I.im\nh2 : (Complex.cos z).re = 2 \u2227 (Complex.cos z).im = 0\nh3 : x = 0\nh4 : 0 < y\n\u22a2 rexp (-(y * I.im)) * cos (y * I.re) * 2\u207b\u00b9 + cos (y * I.re) * rexp (y * I.im) * 2\u207b\u00b9 = cosh y \u2227\n    rexp (-(y * I.im)) * sin (y * I.re) * 2\u207b\u00b9 + -(rexp (y * I.im) * sin (y * I.re) * 2\u207b\u00b9) = 0"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Complex number representation is equivalent: 'z = x + iy' in natural language corresponds to 'z = x + y * I' in Lean", "Cosine condition matches exactly: cos(z) = 2 in both versions", "Real part condition matches exactly: x = 0 in both versions", "Imaginary part condition matches exactly: y > 0 in both versions", "Complex cosine identity is mathematically equivalent, with Lean using explicit namespace qualifications (Real.cos, Real.cosh, etc.) and 'I' instead of 'i'", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) :\n  Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by\n  have h_re : z.re = x := by\n    rw [h1]\n    <;> simp [Complex.ext_iff, pow_two]\n    <;> ring_nf\n    <;> norm_num\n    <;> linarith\n  \n  have h_im : z.im = y := by\n    rw [h1]\n    <;> simp [Complex.ext_iff, pow_two]\n    <;> ring_nf\n    <;> norm_num\n    <;> linarith\n  \n  have h_cos : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by\n    have h\u2085 : Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im := by\n      rw [Complex.cos_eq]\n      <;>\n      simp [Complex.ext_iff, pow_two]\n      <;>\n      ring_nf\n      <;>\n      norm_num\n      <;>\n      simp_all [Complex.ext_iff, Complex.cos, Complex.sin, Complex.exp_re, Complex.exp_im]\n      <;>\n      ring_nf\n      <;>\n      norm_num\n      <;>\n      linarith\n    rw [h\u2085]\n    have h\u2086 : z.re = x := h_re\n    have h\u2087 : z.im = y := h_im\n    rw [h\u2086, h\u2087]\n    <;>\n    simp [Complex.ext_iff, pow_two]\n    <;>\n    ring_nf\n    <;>\n    norm_num\n    <;>\n    simp_all [Complex.ext_iff, Complex.cos, Complex.sin, Complex.exp_re, Complex.exp_im]\n    <;>\n    ring_nf\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  rw [h_cos]"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "and substituting the condition $x=0$, we get $\\cos(z) = \\cosh(y)$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1].\nTherefore, we conclude:\n\u2022 $\\cos(z) = \\cosh(y)$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 \n  (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y) :\n  Real.cosh y = 2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 \n  (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y) :\n  Real.cosh y = 2 := by\n  have h6 : Real.cos x = 1 := by\n    rw [h3]\n    <;> simp [Real.cos_zero]\n  have h7 : Real.sin x = 0 := by\n    rw [h3]\n    <;> simp [Real.sin_zero]\n  have h8 : Complex.cos z = (Real.cos x * Real.cosh y : \u2102) - I * (Real.sin x * Real.sinh y : \u211d) := by\n    rw [h5]\n    <;> simp [Complex.ext_iff, Complex.I_mul_I]\n    <;> ring_nf\n    <;> norm_num\n    <;> simp_all [Complex.ext_iff, Complex.I_mul_I]\n    <;> norm_num\n    <;> linarith\n  have h9 : (Complex.cos z : \u2102) = 2 := by\n    norm_num [h2]\n  have h10 : (Real.cos x * Real.cosh y : \u2102) - I * (Real.sin x * Real.sinh y : \u211d) = (2 : \u2102) := by\n    rw [h8] at h9\n    exact h9\n  have h11 : (Real.cos x * Real.cosh y : \u211d) = 2 := by\n    have h12 := h10\n    simp [Complex.ext_iff, h6, h7, Complex.ext_iff, pow_two] at h12\n    <;> norm_num at h12 \u22a2\n    <;> nlinarith [Real.cosh_pos y]\n  have h12 : Real.cosh y = 2 := by\n    have h13 : Real.cos x * Real.cosh y = 2 := by\n      exact_mod_cast h11\n    rw [h6] at h13\n    norm_num at h13 \u22a2\n    <;> linarith\n  exact h12", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0.83, "semantic_feedback": ["Variable declarations match perfectly. The Lean formalization correctly represents z as a complex number and x, y as real numbers with the relationship z = x + iy.", "The condition cos(z) = 2 is perfectly captured in both versions.", "The condition x = 0 is identical in both versions.", "The condition y > 0 is identical in both versions.", "The complex cosine identity is correctly formalized, with appropriate namespace prefixes (Real., Complex.) and proper operator precedence.", "The conclusion differs slightly: natural language states cos(z) = cosh(y) while Lean concludes cosh(y) = 2. Though logically equivalent given the premises, this represents a different level of logical derivation - the Lean version combines the intermediate result with the given condition cos(z) = 2."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Combining this with the condition $\\cos(z)=2$ gives the equation $\\cosh(y)=2$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2].\nTherefore, we conclude:\n\u2022 $\\cosh(y) = 2$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y)\n  (h6 : Real.cosh y = 2) :\n  Real.cosh y = 2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y)\n  (h6 : Real.cosh y = 2) :\n  Real.cosh y = 2 := by\n  -- Directly using h6 to conclude the proof\n  have h7 : Real.cosh y = 2 := h6\n  exact h7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["Variable declarations and complex number representation z = x + iy are correctly formalized as z = x + y * I with proper type declarations.", "The condition cos(z) = 2 is perfectly captured as Complex.cos z = 2.", "The condition x = 0 is directly and correctly represented.", "The condition y > 0 is directly and correctly represented.", "The complex cosine identity is correctly formalized with appropriate namespace prefixes for real functions.", "The intermediate step l2 'cos(z) = cosh(y)' is missing from the Lean formalization. Instead, h6 directly states 'Real.cosh y = 2' which is actually the final conclusion.", "The conclusion l3 'cosh(y) = 2' appears as both hypothesis h6 and the goal, making the theorem trivial rather than requiring the logical derivation shown in the natural language proof."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Variable declarations and complex number representation z = x + iy are correctly formalized as z = x + y * I with proper type declarations.', 'The condition cos(z) = 2 is perfectly captured as Complex.cos z = 2.', 'The condition x = 0 is directly and correctly represented.', 'The condition y > 0 is directly and correctly represented.', 'The complex cosine identity is correctly formalized with appropriate namespace prefixes for real functions.', \"The intermediate step l2 'cos(z) = cosh(y)' is missing from the Lean formalization. Instead, h6 directly states 'Real.cosh y = 2' which is actually the final conclusion.\", \"The conclusion l3 'cosh(y) = 2' appears as both hypothesis h6 and the goal, making the theorem trivial rather than requiring the logical derivation shown in the natural language proof.\"]"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Solving this equation using the exponential definition of cosh leads to the quadratic equation $(e^y)^2 - 4e^y + 1 = 0$", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2];\n\u2022 $\\cosh(y) = 2$ [l3].\nTherefore, we conclude:\n\u2022 $(e^y)^2 - 4e^y + 1 = 0$ [l4].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y) :\n  (Real.exp y)^2 - 4 * Real.exp y + 1 = 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0)\n  (h5 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y) :\n  (Real.exp y)^2 - 4 * Real.exp y + 1 = 0 := by\n  have h6 : Real.cosh y = 2 := by\n    have h6\u2081 : Complex.cos z = (Real.cos x * Real.cosh y : \u2102) - I * (Real.sin x * Real.sinh y : \u211d) := by\n      rw [h5]\n      <;> simp [Complex.ext_iff, pow_two]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff, pow_two]\n      <;> norm_num\n      <;> linarith\n    have h6\u2082 : (Complex.cos z : \u2102) = (2 : \u2102) := by\n      norm_num [h2]\n    have h6\u2083 : (Real.cos x * Real.cosh y : \u2102) - I * (Real.sin x * Real.sinh y : \u211d) = (2 : \u2102) := by\n      rw [h6\u2081] at h6\u2082\n      exact h6\u2082\n    have h6\u2084 : Real.cos x * Real.cosh y = 2 := by\n      simp [Complex.ext_iff, pow_two] at h6\u2083\n      <;>\n      (try norm_num at h6\u2083) <;>\n      (try simp_all [Complex.ext_iff, pow_two]) <;>\n      (try norm_num) <;>\n      (try nlinarith [Real.sin_le_one x, Real.cos_le_one x, Real.cosh_pos y]) <;>\n      (try {\n        cases' le_total 0 (Real.sin x * Real.sinh y) with h h <;>\n        simp_all [Complex.ext_iff, pow_two] <;>\n        nlinarith [Real.sin_le_one x, Real.cos_le_one x, Real.cosh_pos y]\n      }) <;>\n      (try {\n        nlinarith [Real.sin_le_one x, Real.cos_le_one x, Real.cosh_pos y]\n      }) <;>\n      (try {\n        linarith [Real.sin_le_one x, Real.cos_le_one x, Real.cosh_pos y]\n      }) <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n      <;>\n      (try {\n        nlinarith [Real.sin_sq_add_cos_sq x, Real.cosh_sq_sub_sinh_sq y]\n      })\n    have h6\u2085 : x = 0 := h3\n    have h6\u2086 : Real.cos x = 1 := by\n      rw [h6\u2085]\n      <;> norm_num\n    have h6\u2087 : Real.cos x * Real.cosh y = 2 := h6\u2084\n    rw [h6\u2086] at h6\u2087\n    have h6\u2088 : (1 : \u211d) * Real.cosh y = 2 := by\n      exact h6\u2087\n    have h6\u2089 : Real.cosh y = 2 := by\n      linarith\n    exact h6\u2089\n  have h7 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0 := by\n    have h7\u2081 : Real.cosh y = (Real.exp y + Real.exp (-y)) / 2 := by\n      rw [Real.cosh_eq]\n      <;> ring_nf\n      <;> field_simp [Real.exp_neg]\n      <;> ring_nf\n    have h7\u2082 : Real.cosh y = 2 := h6\n    rw [h7\u2081] at h7\u2082\n    have h7\u2083 : (Real.exp y + Real.exp (-y)) / 2 = 2 := by\n      linarith\n    have h7\u2084 : Real.exp y + Real.exp (-y) = 4 := by\n      linarith\n    have h7\u2085 : Real.exp (-y) = 1 / Real.exp y := by\n      rw [Real.exp_neg]\n      <;> field_simp [Real.exp_ne_zero]\n    rw [h7\u2085] at h7\u2084\n    have h7\u2086 : Real.exp y > 0 := Real.exp_pos y\n    have h7\u2087 : Real.exp y \u2260 0 := by positivity\n    field_simp [h7\u2087] at h7\u2084 \u22a2\n    nlinarith [sq_nonneg (Real.exp y - 2)]\n  exact h7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["Complex number representation correctly formalized with z = x + y * I matching z = x + iy", "Cosine condition perfectly captured with Complex.cos z = 2", "Real part condition x = 0 exactly matches", "Imaginary part positivity y > 0 exactly matches", "Complex cosine identity correctly formalized with proper Lean notation for trigonometric and hyperbolic functions", "Conclusion correctly expresses the quadratic equation (e^y)\u00b2 - 4e^y + 1 = 0 using Real.exp for exponential function", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "whose solutions for $e^y$ are $2 \\pm \\sqrt{3}$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2];\n\u2022 $\\cosh(y) = 2$ [l3];\n\u2022 $(e^y)^2 - 4e^y + 1 = 0$ [l4].\nTherefore, we conclude:\n\u2022 $e^y = 2 + \\sqrt{3}$ or $e^y = 2 - \\sqrt{3}$ [l5].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (y : \u211d)\n  (l4 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0)\n  (tc_4 : y > 0) :\n  Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (y : \u211d)\n  (l4 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0)\n  (tc_4 : y > 0) :\n  Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n  have h\u2081 : Real.exp y > 0 := Real.exp_pos y\n  have h\u2082 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n    have h\u2083 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n      apply or_iff_not_imp_left.mpr\n      intro h\u2084\n      -- Use the quadratic equation to find the roots\n      apply eq_of_sub_eq_zero\n      apply mul_left_cancel\u2080 (sub_ne_zero.mpr h\u2084)\n      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num),\n        sq_nonneg (Real.exp y - (2 + Real.sqrt 3)),\n        sq_nonneg (Real.exp y - (2 - Real.sqrt 3))]\n    exact h\u2083\n  exact h\u2082", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the essential mathematical content from the natural language. While it doesn't include all the intermediate steps and context (like the complex number setup and trigonometric identities), it properly formalizes the key logical relationship: given the quadratic equation (e^y)\u00b2 - 4e^y + 1 = 0 and y > 0, we can conclude that e^y equals either 2 + \u221a3 or 2 - \u221a3. The formalization includes the necessary and sufficient conditions for the conclusion, making it a faithful representation of the mathematical claim."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "Given the condition $y > 0$, we must select the solution $e^y = 2 + \\sqrt{3}$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2];\n\u2022 $\\cosh(y) = 2$ [l3];\n\u2022 $(e^y)^2 - 4e^y + 1 = 0$ [l4];\n\u2022 $e^y = 2 + \\sqrt{3}$ or $e^y = 2 - \\sqrt{3}$ [l5].\nTherefore, we conclude:\n\u2022 $e^y = 2 + \\sqrt{3}$ [l6].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102) (x y : \u211d)\nvariable (l1 : \u2200 (z : \u2102), Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im)\nvariable (l2 : \u2200 (x y : \u211d), Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y = Real.cosh y)\nvariable (l3 : \u2200 (y : \u211d), Real.cosh y = 2 \u2192 (Real.exp y)^2 - 4 * Real.exp y + 1 = 0)\nvariable (l4 : \u2200 (y : \u211d), (Real.exp y)^2 - 4 * Real.exp y + 1 = 0 \u2192 Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3)\nvariable (l5 : \u2200 (y : \u211d), Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3)\n\ntheorem l6 \n  (tc_1 : z = x + y * I)\n  (tc_2 : Complex.cos z = 2)\n  (tc_3 : x = 0)\n  (tc_4 : y > 0) :\n  Real.exp y = 2 + Real.sqrt 3 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 \n  (tc_1 : z = \u2191x + \u2191y * Complex.I)\n  (tc_2 : Complex.cos z = 2)\n  (tc_3 : x = 0)\n  (tc_4 : y > 0) :\n  Real.exp y = 2 + Real.sqrt 3 := by\n  have h\u2081 : Real.cosh y = 2 := by\n    have h\u2082 : Complex.cos z = 2 := tc_2\n    have h\u2083 : z = \u2191x + \u2191y * Complex.I := tc_1\n    have h\u2084 : x = 0 := tc_3\n    simp [h\u2083, h\u2084, Complex.ext_iff, Complex.cos, Complex.exp_re, Complex.exp_im] at h\u2082\n    <;>\n    (try norm_num at h\u2082 \u22a2) <;>\n    (try ring_nf at h\u2082 \u22a2) <;>\n    (try simp_all [Complex.ext_iff, Complex.cos, Complex.exp_re, Complex.exp_im]) <;>\n    (try norm_num at h\u2082 \u22a2) <;>\n    (try nlinarith [Real.cosh_pos y, Real.sinh_sq y]) <;>\n    (try\n      {\n        field_simp [Real.cosh_sq, Real.sinh_sq] at *\n        <;> nlinarith [Real.cosh_pos y, Real.sinh_sq y]\n      })\n    <;>\n    (try\n      {\n        nlinarith [Real.cosh_pos y, Real.sinh_sq y]\n      })\n  \n  have h\u2082 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0 := by\n    have h\u2083 : Real.cosh y = 2 := h\u2081\n    have h\u2084 : Real.cosh y = (Real.exp y + Real.exp (-y)) / 2 := by\n      rw [Real.cosh_eq]\n      <;> ring_nf\n    rw [h\u2084] at h\u2083\n    have h\u2085 : (Real.exp y + Real.exp (-y)) / 2 = 2 := by linarith\n    have h\u2086 : Real.exp (-y) = Real.exp (-y) := rfl\n    have h\u2087 : Real.exp (-y) > 0 := Real.exp_pos (-y)\n    have h\u2088 : Real.exp y > 0 := Real.exp_pos y\n    field_simp at h\u2085 \u22a2\n    nlinarith [Real.exp_pos y, Real.exp_pos (-y), Real.exp_neg y]\n  \n  have h\u2083 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n    have h\u2084 : (Real.exp y) ^ 2 - 4 * Real.exp y + 1 = 0 := h\u2082\n    have h\u2085 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n      have h\u2086 : Real.exp y > 0 := Real.exp_pos y\n      have h\u2087 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n        apply or_iff_not_imp_left.mpr\n        intro h\u2088\n        apply mul_left_cancel\u2080 (sub_ne_zero.mpr h\u2088)\n        nlinarith [Real.sq_sqrt (show 0 \u2264 3 by norm_num), Real.sqrt_nonneg 3,\n          sq_nonneg (Real.exp y - (2 + Real.sqrt 3))]\n      exact h\u2087\n    exact h\u2085\n  \n  have h\u2084 : Real.exp y > 1 := by\n    have h\u2085 : y > 0 := tc_4\n    have h\u2086 : Real.exp y > Real.exp (0 : \u211d) := Real.exp_lt_exp.mpr (by linarith)\n    have h\u2087 : Real.exp (0 : \u211d) = 1 := by norm_num\n    linarith\n  \n  have h\u2085 : Real.exp y = 2 + Real.sqrt 3 := by\n    cases h\u2083 with\n    | inl h\u2083 =>\n      exact h\u2083\n    | inr h\u2083 =>\n      have h\u2086 : Real.exp y = 2 - Real.sqrt 3 := h\u2083\n      have h\u2087 : Real.exp y > 1 := h\u2084\n      have h\u2088 : Real.sqrt 3 > 0 := Real.sqrt_pos.mpr (by norm_num)\n      have h\u2089 : (2 : \u211d) - Real.sqrt 3 < 1 := by\n        nlinarith [Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      linarith\n  \n  exact h\u2085", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 8, "column": 10, "endLine": 8, "endColumn": 15, "data": "failed to synthesize\n  LT \u2102\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 9, "column": 11, "endLine": 9, "endColumn": 12, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 10, "column": 22, "endLine": 10, "endColumn": 23, "data": "application type mismatch\n  cosh y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 10, "column": 31, "endLine": 30, "endColumn": 8, "data": "unsolved goals\nz x y : \u2102\ntc_4 : sorry\ntc_2 : (rexp (-y.re) * cos y.im + rexp y.re * cos y.im) / 2 = 2\nh\u2083 : z.re = -y.im \u2227 z.im = y.re\nh\u2084 : x.re = 0 \u2227 x.im = 0\nh\u2082 :\n  rexp (-y.re) * cos y.im * (1 / 2) + cos y.im * rexp y.re * (1 / 2) = 2 \u2227\n    -(rexp (-y.re) * sin y.im) + rexp y.re * sin y.im = 0\n\u22a2 cosh sorry = 2"}, {"line": 32, "column": 22, "endLine": 32, "endColumn": 23, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 32, "column": 42, "endLine": 32, "endColumn": 43, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 33, "column": 24, "endLine": 33, "endColumn": 25, "data": "application type mismatch\n  cosh y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 34, "column": 24, "endLine": 34, "endColumn": 25, "data": "application type mismatch\n  cosh y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 34, "column": 38, "endLine": 34, "endColumn": 39, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 34, "column": 52, "endLine": 34, "endColumn": 54, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 34, "column": 64, "endLine": 36, "endColumn": 17, "data": "unsolved goals\nz x y : \u2102\ntc_1 : z = x + y * Complex.I\ntc_2 : Complex.cos z = 2\ntc_3 : x = 0\ntc_4 : sorry\nh\u2081 h\u2083 : cosh sorry = 2\n\u22a2 rexp sorry * (1 / 2) + rexp (-sorry) * (1 / 2) = rexp sorry"}, {"line": 38, "column": 24, "endLine": 38, "endColumn": 25, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 38, "column": 38, "endLine": 38, "endColumn": 40, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 39, "column": 24, "endLine": 39, "endColumn": 26, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 39, "column": 40, "endLine": 39, "endColumn": 42, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 40, "column": 24, "endLine": 40, "endColumn": 26, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 40, "column": 49, "endLine": 40, "endColumn": 51, "data": "type mismatch\n  -y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 41, "column": 23, "endLine": 41, "endColumn": 24, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 41, "column": 45, "endLine": 41, "endColumn": 46, "data": "application type mismatch\n  exp_pos y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 43, "column": 28, "endLine": 43, "endColumn": 29, "data": "application type mismatch\n  exp_pos y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 45, "column": 21, "endLine": 45, "endColumn": 22, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 45, "column": 52, "endLine": 45, "endColumn": 53, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 46, "column": 24, "endLine": 46, "endColumn": 25, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 46, "column": 46, "endLine": 46, "endColumn": 47, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 47, "column": 23, "endLine": 47, "endColumn": 24, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 47, "column": 54, "endLine": 47, "endColumn": 55, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 48, "column": 25, "endLine": 48, "endColumn": 26, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 48, "column": 47, "endLine": 48, "endColumn": 48, "data": "application type mismatch\n  exp_pos y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 49, "column": 25, "endLine": 49, "endColumn": 26, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 49, "column": 56, "endLine": 49, "endColumn": 57, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 54, "column": 30, "endLine": 54, "endColumn": 31, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 58, "column": 21, "endLine": 58, "endColumn": 22, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 59, "column": 14, "endLine": 59, "endColumn": 19, "data": "failed to synthesize\n  LT \u2102\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 60, "column": 23, "endLine": 60, "endColumn": 24, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 60, "column": 71, "endLine": 60, "endColumn": 79, "data": "linarith failed to find a contradiction\ncase h\nz x y : \u2102\ntc_1 : z = x + y * Complex.I\ntc_2 : Complex.cos z = 2\ntc_3 : x = 0\ntc_4 : sorry\nh\u2081 : cosh sorry = 2\nh\u2082 : rexp sorry ^ 2 - 4 * rexp sorry + 1 = 0\nh\u2083 : rexp sorry = 2 + \u221a3 \u2228 rexp sorry = 2 - \u221a3\nh\u2085 : sorry\na\u271d : 0 \u2265 sorry\n\u22a2 False failed"}, {"line": 64, "column": 21, "endLine": 64, "endColumn": 22, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 69, "column": 25, "endLine": 69, "endColumn": 26, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 70, "column": 25, "endLine": 70, "endColumn": 26, "data": "application type mismatch\n  rexp y\nargument\n  y\nhas type\n  \u2102 : Type\nbut is expected to have type\n  \u211d : Type"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declaration for complex number z correctly matches the natural language", "Variable declarations for real numbers x, y are appropriate", "l1 correctly formalizes the complex cosine identity", "tc_1 through tc_4 correctly capture the given assumptions", "The theorem statement correctly identifies what needs to be proven", "l2 is stated as universally true for all x,y, but should be conditional on x=0", "l3 correctly relates cosh(y)=2 to the quadratic equation, but cosh(y)=2 should be derived rather than assumed", "l4 correctly derives the two solutions, but the logical dependency is unclear", "l5 incorrectly states the disjunction as universally true for all y, when it should only hold under specific conditions", "The formalization fails to capture the logical chain that derives cosh(y)=2 from the given conditions, and doesn't use y>0 to select the correct solution", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Variable declaration for complex number z correctly matches the natural language', 'Variable declarations for real numbers x, y are appropriate', 'l1 correctly formalizes the complex cosine identity', 'tc_1 through tc_4 correctly capture the given assumptions', 'The theorem statement correctly identifies what needs to be proven', 'l2 is stated as universally true for all x,y, but should be conditional on x=0', 'l3 correctly relates cosh(y)=2 to the quadratic equation, but cosh(y)=2 should be derived rather than assumed', 'l4 correctly derives the two solutions, but the logical dependency is unclear', 'l5 incorrectly states the disjunction as universally true for all y, when it should only hold under specific conditions', \"The formalization fails to capture the logical chain that derives cosh(y)=2 from the given conditions, and doesn't use y>0 to select the correct solution\"]"}, "solved_negation": null, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "Taking the logarithm gives $y = \\ln(2+\\sqrt{3})$", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2];\n\u2022 $\\cosh(y) = 2$ [l3];\n\u2022 $(e^y)^2 - 4e^y + 1 = 0$ [l4];\n\u2022 $e^y = 2 + \\sqrt{3}$ or $e^y = 2 - \\sqrt{3}$ [l5];\n\u2022 $e^y = 2 + \\sqrt{3}$ [l6].\nTherefore, we conclude:\n\u2022 $y = \\ln(2+\\sqrt{3})$ [l7].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * I)\n  (tc_2 : Complex.cos z = 2)\n  (tc_3 : x = 0)\n  (tc_4 : y > 0)\n  (l1 : \u2200 (z : \u2102), Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im)\n  (l2 : Real.cosh y = 2)\n  (l3 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0)\n  (l4 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3)\n  (l5 : Real.exp y = 2 + Real.sqrt 3) :\n  y = Real.log (2 + Real.sqrt 3) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l7\n  (z : \u2102) (x y : \u211d)\n  (tc_1 : z = x + y * I)\n  (tc_2 : Complex.cos z = 2)\n  (tc_3 : x = 0)\n  (tc_4 : y > 0)\n  (l1 : \u2200 (z : \u2102), Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im)\n  (l2 : Real.cosh y = 2)\n  (l3 : (Real.exp y)^2 - 4 * Real.exp y + 1 = 0)\n  (l4 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3)\n  (l5 : Real.exp y = 2 + Real.sqrt 3) :\n  y = Real.log (2 + Real.sqrt 3) := by\n  have h\u2080 : Real.exp y = 2 + Real.sqrt 3 := l5\n  have h\u2081 : y = Real.log (2 + Real.sqrt 3) := by\n    have h\u2082 : Real.log (Real.exp y) = Real.log (2 + Real.sqrt 3) := by rw [h\u2080]\n    have h\u2083 : Real.log (Real.exp y) = y := by\n      rw [Real.log_exp]\n    rw [h\u2083] at h\u2082\n    linarith\n  exact h\u2081", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization is missing a key intermediate step from the natural language proof. Specifically, the statement 'cos(z) = cosh(y)' (labeled as l2 in natural language) is absent from the Lean hypotheses. This creates a logical gap between the given condition 'Complex.cos z = 2' and the hypothesis 'Real.cosh y = 2'. While all other mathematical statements are correctly captured, this missing intermediate step represents a significant logical component that is essential for connecting the complex cosine equation to the real hyperbolic cosine equation."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization is missing a key intermediate step from the natural language proof. Specifically, the statement 'cos(z) = cosh(y)' (labeled as l2 in natural language) is absent from the Lean hypotheses. This creates a logical gap between the given condition 'Complex.cos z = 2' and the hypothesis 'Real.cosh y = 2'. While all other mathematical statements are correctly captured, this missing intermediate step represents a significant logical component that is essential for connecting the complex cosine equation to the real hyperbolic cosine equation.\"]"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "and since $z=iy$ from $x=0$, we conclude $z = i \\ln(2+\\sqrt{3})$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x + iy$ where $x, y \\in \\mathbb{R}$ [tc_1];\n\u2022 $\\cos(z) = 2$ [tc_2];\n\u2022 $x = 0$ [tc_3];\n\u2022 $y > 0$ [tc_4];\n\u2022 The identity for complex cosine is $\\cos(z) = \\cos(x)\\cosh(y) - i\\sin(x)\\sinh(y)$ [l1];\n\u2022 $\\cos(z) = \\cosh(y)$ [l2];\n\u2022 $\\cosh(y) = 2$ [l3];\n\u2022 $(e^y)^2 - 4e^y + 1 = 0$ [l4];\n\u2022 $e^y = 2 + \\sqrt{3}$ or $e^y = 2 - \\sqrt{3}$ [l5];\n\u2022 $e^y = 2 + \\sqrt{3}$ [l6];\n\u2022 $y = \\ln(2+\\sqrt{3})$ [l7].\nTherefore, we conclude:\n\u2022 $z = i \\ln(2+\\sqrt{3})$ [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "l1", "l2", "l3", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) \n  (h5 : \u2200 (z : \u2102), Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im) :\n  z = I * Real.log (2 + Real.sqrt 3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (z : \u2102) (x y : \u211d)\n  (h1 : z = x + y * I) \n  (h2 : Complex.cos z = 2) \n  (h3 : x = 0) \n  (h4 : y > 0) \n  (h5 : \u2200 (z : \u2102), Complex.cos z = Real.cos z.re * Real.cosh z.im - I * Real.sin z.re * Real.sinh z.im) :\n  z = I * Real.log (2 + Real.sqrt 3) := by\n  have h6 : Complex.cos z = Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y := by\n    have h6\u2081 := h5 z\n    simp [h1, Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat] at h6\u2081 \u22a2\n    <;> ring_nf at h6\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat]\n    <;> norm_num at h6\u2081 \u22a2 <;>\n    (try constructor <;> linarith) <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat]) <;>\n    (try ring_nf at h6\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat]) <;>\n    (try norm_num at h6\u2081 \u22a2 <;> linarith)\n    <;>\n    (try simp_all [Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat])\n    <;>\n    (try ring_nf at h6\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.re, Complex.im, Complex.ofReal_add, Complex.ofReal_mul, Complex.ofReal_ofNat])\n    <;>\n    (try norm_num at h6\u2081 \u22a2 <;> linarith)\n  \n  have h7 : Real.cos x * Real.cosh y - I * Real.sin x * Real.sinh y = 2 := by\n    rw [h6] at h2\n    exact h2\n  \n  have h8 : x = 0 := h3\n  \n  have h9 : Real.cos x = 1 := by\n    rw [h8]\n    norm_num [Real.cos_zero]\n  \n  have h10 : Real.sin x = 0 := by\n    rw [h8]\n    norm_num [Real.sin_zero]\n  \n  have h11 : (Real.cos x * Real.cosh y : \u2102) = 2 := by\n    have h11\u2081 := h7\n    simp [h10, Complex.ext_iff, Complex.I_mul_I] at h11\u2081 \u22a2\n    <;> norm_num at h11\u2081 \u22a2 <;>\n    (try simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try ring_nf at h11\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try norm_num at h11\u2081 \u22a2 <;> linarith) <;>\n    (try nlinarith [Real.cos_le_one x, Real.cos_le_one y, Real.sin_le_one x, Real.sin_le_one y, Real.cosh_pos y])\n    <;>\n    (try simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try ring_nf at h11\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try norm_num at h11\u2081 \u22a2 <;> linarith) <;>\n    (try nlinarith [Real.cos_le_one x, Real.cos_le_one y, Real.sin_le_one x, Real.sin_le_one y, Real.cosh_pos y])\n  \n  have h12 : Real.cos x * Real.cosh y = 2 := by\n    have h12\u2081 := h11\n    simp [Complex.ext_iff] at h12\u2081 \u22a2\n    <;> norm_num at h12\u2081 \u22a2 <;>\n    (try linarith) <;>\n    (try nlinarith [Real.cos_le_one x, Real.cos_le_one y, Real.sin_le_one x, Real.sin_le_one y, Real.cosh_pos y]) <;>\n    (try simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try ring_nf at h12\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try norm_num at h12\u2081 \u22a2 <;> linarith) <;>\n    (try nlinarith [Real.cos_le_one x, Real.cos_le_one y, Real.sin_le_one x, Real.sin_le_one y, Real.cosh_pos y])\n    <;>\n    (try simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try ring_nf at h12\u2081 \u22a2 <;> simp_all [Complex.ext_iff, Complex.I_mul_I]) <;>\n    (try norm_num at h12\u2081 \u22a2 <;> linarith) <;>\n    (try nlinarith [Real.cos_le_one x, Real.cos_le_one y, Real.sin_le_one x, Real.sin_le_one y, Real.cosh_pos y])\n  \n  have h13 : Real.cosh y = 2 := by\n    have h13\u2081 : Real.cos x = 1 := h9\n    have h13\u2082 : Real.cos x * Real.cosh y = 2 := h12\n    rw [h13\u2081] at h13\u2082\n    ring_nf at h13\u2082 \u22a2\n    linarith\n  \n  have h14 : Real.cosh y = (Real.exp y + Real.exp (-y)) / 2 := by\n    rw [Real.cosh_eq]\n    <;> ring_nf\n    <;> field_simp [Real.exp_neg]\n    <;> ring_nf\n    <;> simp_all [Real.exp_neg]\n    <;> linarith\n  \n  have h15 : (Real.exp y + Real.exp (-y)) / 2 = 2 := by\n    linarith\n  \n  have h16 : Real.exp y + Real.exp (-y) = 4 := by\n    linarith\n  \n  have h17 : Real.exp y > 0 := Real.exp_pos y\n  \n  have h18 : Real.exp (-y) = 1 / Real.exp y := by\n    rw [Real.exp_neg]\n    <;> field_simp\n    <;> ring_nf\n    <;> simp_all [Real.exp_neg]\n    <;> linarith\n  \n  have h19 : Real.exp y + 1 / Real.exp y = 4 := by\n    rw [h18] at h16\n    exact h16\n  \n  have h20 : Real.exp y \u2260 0 := by positivity\n  \n  have h21 : (Real.exp y) ^ 2 - 4 * Real.exp y + 1 = 0 := by\n    field_simp at h19\n    nlinarith [Real.exp_pos y]\n  \n  have h22 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n    have h22\u2081 : Real.exp y = 2 + Real.sqrt 3 \u2228 Real.exp y = 2 - Real.sqrt 3 := by\n      have h22\u2082 : (Real.exp y - (2 + Real.sqrt 3)) * (Real.exp y - (2 - Real.sqrt 3)) = 0 := by\n        have h22\u2083 : (Real.exp y) ^ 2 - 4 * Real.exp y + 1 = 0 := h21\n        have h22\u2084 : (Real.exp y - (2 + Real.sqrt 3)) * (Real.exp y - (2 - Real.sqrt 3)) = (Real.exp y) ^ 2 - 4 * Real.exp y + 1 := by\n          ring_nf\n          <;>\n          nlinarith [Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n        rw [h22\u2084]\n        linarith\n      have h22\u2085 : Real.exp y - (2 + Real.sqrt 3) = 0 \u2228 Real.exp y - (2 - Real.sqrt 3) = 0 := by\n        apply eq_zero_or_eq_zero_of_mul_eq_zero h22\u2082\n      cases h22\u2085 with\n      | inl h22\u2085 =>\n        have h22\u2086 : Real.exp y = 2 + Real.sqrt 3 := by linarith\n        exact Or.inl h22\u2086\n      | inr h22\u2085 =>\n        have h22\u2086 : Real.exp y = 2 - Real.sqrt 3 := by linarith\n        exact Or.inr h22\u2086\n    exact h22\u2081\n  \n  have h23 : Real.exp y = 2 + Real.sqrt 3 := by\n    cases h22 with\n    | inl h22 =>\n      exact h22\n    | inr h22 =>\n      have h23\u2081 : Real.exp y = 2 - Real.sqrt 3 := h22\n      have h23\u2082 : Real.exp y > 0 := Real.exp_pos y\n      have h23\u2083 : (2 : \u211d) - Real.sqrt 3 > 0 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      have h23\u2084 : Real.exp y > 0 := Real.exp_pos y\n      have h23\u2085 : (2 : \u211d) - Real.sqrt 3 < 1 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      have h23\u2086 : Real.exp y \u2265 1 := by\n        have h23\u2087 : y > 0 := h4\n        have h23\u2088 : Real.exp y \u2265 Real.exp 0 := Real.exp_le_exp.mpr (by linarith)\n        have h23\u2089 : Real.exp 0 = (1 : \u211d) := by norm_num\n        linarith\n      have h23\u2087 : (2 : \u211d) - Real.sqrt 3 < 1 := by\n        nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n      have h23\u2088 : Real.exp y \u2265 1 := by\n        have h23\u2089 : y > 0 := h4\n        have h23\u2081\u2080 : Real.exp y \u2265 Real.exp 0 := Real.exp_le_exp.mpr (by linarith)\n        have h23\u2081\u2081 : Real.exp 0 = (1 : \u211d) := by norm_num\n        linarith\n      nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n  \n  have h24 : y = Real.log (2 + Real.sqrt 3) := by\n    have h24\u2081 : Real.exp y = 2 + Real.sqrt 3 := h23\n    have h24\u2082 : y = Real.log (2 + Real.sqrt 3) := by\n      have h24\u2083 : Real.log (Real.exp y) = Real.log (2 + Real.sqrt 3) := by rw [h24\u2081]\n      have h24\u2084 : Real.log (Real.exp y) = y := by\n        rw [Real.log_exp]\n      rw [h24\u2084] at h24\u2083\n      linarith\n    exact h24\u2082\n  \n  have h25 : z = I * Real.log (2 + Real.sqrt 3) := by\n    rw [h1]\n    have h25\u2081 : x = 0 := h8\n    rw [h25\u2081]\n    have h25\u2082 : y = Real.log (2 + Real.sqrt 3) := h24\n    rw [h25\u2082]\n    <;> simp [Complex.ext_iff, Complex.I_mul_I]\n    <;> ring_nf\n    <;> simp_all [Complex.ext_iff, Complex.I_mul_I]\n    <;> norm_num\n    <;> field_simp [Real.sqrt_eq_iff_sq_eq] at *\n    <;> nlinarith [Real.sqrt_nonneg 3, Real.sq_sqrt (show 0 \u2264 3 by norm_num)]\n  \n  exact h25", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 29, "endLine": 15, "endColumn": 141, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}, {"line": 56, "column": 45, "endLine": 70, "endColumn": 113, "data": "unsolved goals\nI z : \u2102\nx y : \u211d\nh1 : z = \u2191x + \u2191y * I\nh2 : Complex.cos z = 2\nh3 : x = 0\nh4 : y > 0\nh5 : \u2200 (z : \u2102), Complex.cos z = \u2191(cos z.re) * \u2191(cosh z.im) - I * \u2191(sin z.re) * \u2191(sinh z.im)\nh6 : Complex.cos z = \u2191(cos x) * \u2191(cosh y) - I * \u2191(sin x) * \u2191(sinh y)\nh7 : \u2191(cos x) * \u2191(cosh y) - I * \u2191(sin x) * \u2191(sinh y) = 2\nh8 : x = 0\nh9 : cos x = 1\nh10 : sin x = 0\nh11 : \u2191(cos x) * \u2191(cosh y) = 2\nh12\u2081 : (Complex.cos \u2191x).re * cosh y = 2\n\u22a2 cos x * cosh y = 2"}, {"line": 177, "column": 8, "endLine": 177, "endColumn": 51, "data": "tactic 'simp' failed, nested error:\nmaximum recursion depth has been reached\nuse `set_option maxRecDepth <num>` to increase limit\nuse `set_option diagnostics true` to get diagnostic information"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the key assumptions (complex number representation, cos(z) = 2, x = 0, y > 0, and the cosine identity) and the final conclusion z = I * Real.log (2 + Real.sqrt 3). However, it omits all the intermediate mathematical steps (l2-l7) that constitute the logical derivation in the natural language, including the reduction to cosh(y) = 2, the quadratic equation, and the reasoning about which root to choose. While the theorem statement is mathematically correct, the missing intermediate steps represent a structural difference from the detailed step-by-step reasoning presented in the natural language.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures the key assumptions (complex number representation, cos(z) = 2, x = 0, y > 0, and the cosine identity) and the final conclusion z = I * Real.log (2 + Real.sqrt 3). However, it omits all the intermediate mathematical steps (l2-l7) that constitute the logical derivation in the natural language, including the reduction to cosh(y) = 2, the quadratic equation, and the reasoning about which root to choose. While the theorem statement is mathematically correct, the missing intermediate steps represent a structural difference from the detailed step-by-step reasoning presented in the natural language.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    