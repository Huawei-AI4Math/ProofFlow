
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$, the following inequality holds: $3(a^8 + b^8 + c^8) \geq (a^3 + b^3 + c^3)(a^5 + b^5 + c^5)$.

Proof: For positive real numbers $a, b, c$, we aim to show $3(a^8+b^8+c^8) \ge (a^3+b^3+c^3)(a^5+b^5+c^5)$. Expanding the right-hand side gives $a^8 + b^8 + c^8 + a^3b^5 + a^3c^5 + b^3a^5 + b^3c^5 + c^3a^5 + c^3b^5$, so the inequality becomes $3a^8+3b^8+3c^8 - (a^8+b^8+c^8 + a^3b^5 + a^3c^5 + b^3a^5 + b^3c^5 + c^3a^5 + c^3b^5) \ge 0$, which simplifies to $2a^8 + 2b^8 + 2c^8 - a^3b^5 - a^3c^5 - b^3a^5 - b^3c^5 - c^3a^5 - c^3b^5 \ge 0$. This expression can be grouped as $(a^3-b^3)(a^5-b^5) + (a^3-c^3)(a^5-c^5) + (b^3-c^3)(b^5-c^5) \ge 0$. For any positive $x, y$, the differences $x^k - y^k$ and $x^m - y^m$ have the same sign, so each product $(x^k - y^k)(x^m - y^m)$ is non-negative. Applying this to the three pairs $(a,b), (a,c), (b,c)$ shows that all terms are non-negative, hence their sum is non-negative, proving the inequality.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "For positive real numbers a, b, c", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly declares a, b, c as real numbers and expresses their positivity through the conjunction 0 < a \u2227 0 < b \u2227 0 < c, which perfectly captures 'positive real numbers'", "Both the natural language and Lean correctly indicate this is a premise step with no conclusions to derive"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Expanding the right-hand side gives $a^8 + b^8 + c^8 + a^3b^5 + a^3c^5 + b^3a^5 + b^3c^5 + c^3a^5 + c^3b^5$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1].\nTherefore, we conclude:\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c) :\n  (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c) :\n  (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by\n  have h_main : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by\n    have h1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^3 * (a^5 + b^5 + c^5) + b^3 * (a^5 + b^5 + c^5) + c^3 * (a^5 + b^5 + c^5) := by\n      ring\n    rw [h1]\n    have h2 : a^3 * (a^5 + b^5 + c^5) = a^8 + a^3 * b^5 + a^3 * c^5 := by\n      ring\n    have h3 : b^3 * (a^5 + b^5 + c^5) = b^3 * a^5 + b^8 + b^3 * c^5 := by\n      ring\n    have h4 : c^3 * (a^5 + b^5 + c^5) = c^3 * a^5 + c^3 * b^5 + c^8 := by\n      ring\n    rw [h2, h3, h4]\n    ring\n    <;>\n    (try norm_num) <;>\n    (try linarith [tc_1.1, tc_1.2.1, tc_1.2.2]) <;>\n    (try nlinarith [tc_1.1, tc_1.2.1, tc_1.2.2])\n  \n  apply h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations are correctly captured. The Lean formalization properly declares a, b, c as real numbers, with the positivity condition handled separately as is standard in Lean.", "The positivity conditions are correctly formalized. The natural language's 'positive real numbers' is properly translated to the explicit constraint '0 < a \u2227 0 < b \u2227 0 < c' in Lean.", "The main algebraic equation is perfectly captured. Both the natural language and Lean formalization express the same identity for the product (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) with all terms correctly expanded and arranged."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "so the inequality becomes $3a^8+3b^8+3c^8 - (a^8+b^8+c^8 + a^3b^5 + a^3c^5 + b^3a^5 + b^3c^5 + c^3a^5 + c^3b^5) \\ge 0$, which simplifies to $2a^8 + 2b^8 + 2c^8 - a^3b^5 - a^3c^5 - b^3a^5 - b^3c^5 - c^3a^5 - c^3b^5 \\ge 0$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1].\nTherefore, we conclude:\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5) :\n  (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n  (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5) :\n  (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n  (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := by\n  have h_forward : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2192 (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := by\n    intro h\n    have h\u2082 : 3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := h\n    have h\u2083 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := l1\n    have h\u2084 : 3 * (a^8 + b^8 + c^8) \u2265 a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by linarith\n    have h\u2085 : 2 * (a^8 + b^8 + c^8) \u2265 a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by linarith\n    have h\u2086 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0 := by\n      linarith [sq_nonneg (a^4 - b^4), sq_nonneg (a^4 - c^4), sq_nonneg (b^4 - c^4)]\n    exact h\u2086\n  \n  have h_backward : (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) \u2192 (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) := by\n    intro h\n    have h\u2082 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0 := h\n    have h\u2083 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := l1\n    have h\u2084 : 2 * (a^8 + b^8 + c^8) \u2265 a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by\n      linarith [sq_nonneg (a^4 - b^4), sq_nonneg (a^4 - c^4), sq_nonneg (b^4 - c^4)]\n    have h\u2085 : 3 * (a^8 + b^8 + c^8) \u2265 a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5 := by linarith\n    have h\u2086 : 3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := by\n      linarith\n    exact h\u2086\n  \n  have h_main : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194 (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := by\n    constructor\n    \u00b7 intro h\n      exact h_forward h\n    \u00b7 intro h\n      exact h_backward h\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized as real number types with explicit positivity hypotheses.", "The given equation l1 is accurately translated with proper exponentiation and multiplication notation, maintaining all terms in the correct order.", "The main equivalence statement l2 is perfectly captured using the biconditional operator, with both the inequality and the equivalent form correctly formalized.", "The overall theorem structure properly incorporates all assumptions as hypotheses and correctly states the conclusion, maintaining the logical relationship between the given condition and the derived equivalence."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "This expression can be grouped as $(a^3-b^3)(a^5-b^5) + (a^3-c^3)(a^5-c^5) + (b^3-c^3)(b^5-c^5) \\ge 0$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1];\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2].\nTherefore, we conclude:\n\u2022 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 = (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0)) :\n  2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n  (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0)) :\n  2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n  (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) := by\n  have h_main : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) := by\n    have h1 : (a^3 - b^3) * (a^5 - b^5) = a^8 - a^3 * b^5 - b^3 * a^5 + b^8 := by\n      ring\n    have h2 : (a^3 - c^3) * (a^5 - c^5) = a^8 - a^3 * c^5 - c^3 * a^5 + c^8 := by\n      ring\n    have h3 : (b^3 - c^3) * (b^5 - c^5) = b^8 - b^3 * c^5 - c^3 * b^5 + c^8 := by\n      ring\n    have h4 : (a^3 - b^3) * (a^5 - b^5) + (a^3 - c^3) * (a^5 - c^5) + (b^3 - c^3) * (b^5 - c^5) = 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 := by\n      rw [h1, h2, h3]\n      ring\n      <;>\n      nlinarith [sq_nonneg (a^2), sq_nonneg (b^2), sq_nonneg (c^2), sq_nonneg (a - b), sq_nonneg (a - c), sq_nonneg (b - c)]\n    linarith\n  \n  rw [h_main]\n  <;>\n  simp_all\n  <;>\n  nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized with appropriate types and logical conjunction.", "The first assumption l1 is perfectly translated with correct exponentiation and multiplication notation.", "The equivalence statement l2 correctly uses the biconditional operator and accurately represents both the inequality and its equivalent form.", "The conclusion l3 accurately captures the algebraic identity with proper factorization on the right-hand side.", "The overall theorem structure appropriately treats the natural language assumptions as hypotheses and the conclusion as the goal, maintaining logical consistency throughout."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "For any positive $x, y$, the differences $x^k - y^k$ and $x^m - y^m$ have the same sign, so each product $(x^k - y^k)(x^m - y^m)$ is non-negative.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1];\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2];\n\u2022 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 = (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) [l3].\nTherefore, we conclude:\n\u2022 For any positive real numbers x, y and positive integers k, m, the product (x\u1d4f - y\u1d4f)(x\u1d50 - y\u1d50) is non-negative [l4].", "dependencies": ["tc_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (x y : \u211d) (k m : \u2115) \n  (hx : 0 < x) (hy : 0 < y) (hk : 0 < k) (hm : 0 < m) :\n  (x^k - y^k) * (x^m - y^m) \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (x y : \u211d) (k m : \u2115) \n  (hx : 0 < x) (hy : 0 < y) (hk : 0 < k) (hm : 0 < m) :\n  (x^k - y^k) * (x^m - y^m) \u2265 0 := by\n  have h_main : (x^k - y^k) * (x^m - y^m) \u2265 0 := by\n    by_cases h : x \u2264 y\n    \u00b7 -- Case: x \u2264 y\n      have h\u2081 : \u2200 n : \u2115, x ^ n \u2264 y ^ n := by\n        intro n\n        induction n with\n        | zero =>\n          norm_num\n        | succ n ih =>\n          calc\n            x ^ (n + 1) = x ^ n * x := by ring\n            _ \u2264 y ^ n * x := by gcongr <;> try norm_num <;> linarith\n            _ \u2264 y ^ n * y := by gcongr <;> try norm_num <;> linarith\n            _ = y ^ (n + 1) := by ring\n      have h\u2082 : x ^ k \u2264 y ^ k := h\u2081 k\n      have h\u2083 : x ^ m \u2264 y ^ m := h\u2081 m\n      have h\u2084 : (x : \u211d) ^ k - y ^ k \u2264 0 := by linarith\n      have h\u2085 : (x : \u211d) ^ m - y ^ m \u2264 0 := by linarith\n      have h\u2086 : ((x : \u211d) ^ k - y ^ k) * ((x : \u211d) ^ m - y ^ m) \u2265 0 := by\n        nlinarith\n      exact h\u2086\n    \u00b7 -- Case: x > y (i.e., not x \u2264 y)\n      have h\u2081 : y \u2264 x := by linarith\n      have h\u2082 : \u2200 n : \u2115, y ^ n \u2264 x ^ n := by\n        intro n\n        induction n with\n        | zero =>\n          norm_num\n        | succ n ih =>\n          calc\n            y ^ (n + 1) = y ^ n * y := by ring\n            _ \u2264 x ^ n * y := by gcongr <;> try norm_num <;> linarith\n            _ \u2264 x ^ n * x := by gcongr <;> try norm_num <;> linarith\n            _ = x ^ (n + 1) := by ring\n      have h\u2083 : y ^ k \u2264 x ^ k := h\u2082 k\n      have h\u2084 : y ^ m \u2264 x ^ m := h\u2082 m\n      have h\u2085 : (x : \u211d) ^ k - y ^ k \u2265 0 := by linarith\n      have h\u2086 : (x : \u211d) ^ m - y ^ m \u2265 0 := by linarith\n      have h\u2087 : ((x : \u211d) ^ k - y ^ k) * ((x : \u211d) ^ m - y ^ m) \u2265 0 := by\n        nlinarith\n      exact h\u2087\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures the mathematical statement [l4] from the natural language. The variable types (real numbers x,y and natural numbers k,m), positivity constraints, and the inequality statement are all correctly translated. While the Lean code doesn't include the intermediate steps [l1], [l2], [l3] that were used to derive this conclusion in the natural language, it correctly formalizes the final theorem [l4] that was concluded. The mathematical meaning is preserved: for positive real numbers and positive integers, the product of the two difference expressions is non-negative. The use of \u2115 for natural numbers with positivity constraints (0 < k, 0 < m) appropriately captures 'positive integers' from the natural language."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Applying this to the three pairs $(a,b), (a,c), (b,c)$ shows that all terms are non-negative", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1];\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2];\n\u2022 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 = (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) [l3];\n\u2022 For any positive real numbers x, y and positive integers k, m, (x\u1d4f - y\u1d4f)(x\u1d50 - y\u1d50) \u2265 0 [l4].\nTherefore, we conclude:\n\u2022 The terms (a\u00b3-b\u00b3)(a\u2075-b\u2075), (a\u00b3-c\u00b3)(a\u2075-c\u2075), and (b\u00b3-c\u00b3)(b\u2075-c\u2075) are all non-negative [l5].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0) :\n  (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n  (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n  (b^3-c^3)*(b^5-c^5) \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 \n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0) :\n  (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n  (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n  (b^3-c^3)*(b^5-c^5) \u2265 0 := by\n  have h_ab : (a^3 - b^3)*(a^5 - b^5) \u2265 0 := by\n    have h\u2081 : (a^3 - b^3)*(a^5 - b^5) \u2265 0 := by\n      have h\u2082 : 0 < a := by linarith\n      have h\u2083 : 0 < b := by linarith\n      have h\u2084 : (a : \u211d) > 0 := by exact_mod_cast h\u2082\n      have h\u2085 : (b : \u211d) > 0 := by exact_mod_cast h\u2083\n      have h\u2086 : (a : \u211d)^3 > 0 := by positivity\n      have h\u2087 : (b : \u211d)^3 > 0 := by positivity\n      -- Use the given lemma l4 to prove the inequality\n      have h\u2088 : ((a : \u211d)^3 - (b : \u211d)^3) * ((a : \u211d)^5 - (b : \u211d)^5) \u2265 0 := by\n        have h\u2089 : 0 < (a : \u211d) := by exact_mod_cast h\u2082\n        have h\u2081\u2080 : 0 < (b : \u211d) := by exact_mod_cast h\u2083\n        have h\u2081\u2081 : 0 < (3 : \u2115) := by norm_num\n        have h\u2081\u2082 : 0 < (5 : \u2115) := by norm_num\n        -- Use the given lemma l4 with k = 3 and m = 5\n        have h\u2081\u2083 : ((a : \u211d)^(3 : \u2115) - (b : \u211d)^(3 : \u2115)) * ((a : \u211d)^(5 : \u2115) - (b : \u211d)^(5 : \u2115)) \u2265 0 := by\n          apply l4 (a : \u211d) (b : \u211d) 3 5 h\u2089 h\u2081\u2080 (by norm_num) (by norm_num)\n        -- Simplify the expression to match the required form\n        simpa [pow_succ] using h\u2081\u2083\n      -- Cast the result back to the original type\n      exact_mod_cast h\u2088\n    exact h\u2081\n  \n  have h_ac : (a^3 - c^3)*(a^5 - c^5) \u2265 0 := by\n    have h\u2081 : (a^3 - c^3)*(a^5 - c^5) \u2265 0 := by\n      have h\u2082 : 0 < a := by linarith\n      have h\u2083 : 0 < c := by linarith\n      have h\u2084 : (a : \u211d) > 0 := by exact_mod_cast h\u2082\n      have h\u2085 : (c : \u211d) > 0 := by exact_mod_cast h\u2083\n      have h\u2086 : (a : \u211d)^3 > 0 := by positivity\n      have h\u2087 : (c : \u211d)^3 > 0 := by positivity\n      -- Use the given lemma l4 to prove the inequality\n      have h\u2088 : ((a : \u211d)^3 - (c : \u211d)^3) * ((a : \u211d)^5 - (c : \u211d)^5) \u2265 0 := by\n        have h\u2089 : 0 < (a : \u211d) := by exact_mod_cast h\u2082\n        have h\u2081\u2080 : 0 < (c : \u211d) := by exact_mod_cast h\u2083\n        have h\u2081\u2081 : 0 < (3 : \u2115) := by norm_num\n        have h\u2081\u2082 : 0 < (5 : \u2115) := by norm_num\n        -- Use the given lemma l4 with k = 3 and m = 5\n        have h\u2081\u2083 : ((a : \u211d)^(3 : \u2115) - (c : \u211d)^(3 : \u2115)) * ((a : \u211d)^(5 : \u2115) - (c : \u211d)^(5 : \u2115)) \u2265 0 := by\n          apply l4 (a : \u211d) (c : \u211d) 3 5 h\u2089 h\u2081\u2080 (by norm_num) (by norm_num)\n        -- Simplify the expression to match the required form\n        simpa [pow_succ] using h\u2081\u2083\n      -- Cast the result back to the original type\n      exact_mod_cast h\u2088\n    exact h\u2081\n  \n  have h_bc : (b^3 - c^3)*(b^5 - c^5) \u2265 0 := by\n    have h\u2081 : (b^3 - c^3)*(b^5 - c^5) \u2265 0 := by\n      have h\u2082 : 0 < b := by linarith\n      have h\u2083 : 0 < c := by linarith\n      have h\u2084 : (b : \u211d) > 0 := by exact_mod_cast h\u2082\n      have h\u2085 : (c : \u211d) > 0 := by exact_mod_cast h\u2083\n      have h\u2086 : (b : \u211d)^3 > 0 := by positivity\n      have h\u2087 : (c : \u211d)^3 > 0 := by positivity\n      -- Use the given lemma l4 to prove the inequality\n      have h\u2088 : ((b : \u211d)^3 - (c : \u211d)^3) * ((b : \u211d)^5 - (c : \u211d)^5) \u2265 0 := by\n        have h\u2089 : 0 < (b : \u211d) := by exact_mod_cast h\u2082\n        have h\u2081\u2080 : 0 < (c : \u211d) := by exact_mod_cast h\u2083\n        have h\u2081\u2081 : 0 < (3 : \u2115) := by norm_num\n        have h\u2081\u2082 : 0 < (5 : \u2115) := by norm_num\n        -- Use the given lemma l4 with k = 3 and m = 5\n        have h\u2081\u2083 : ((b : \u211d)^(3 : \u2115) - (c : \u211d)^(3 : \u2115)) * ((b : \u211d)^(5 : \u2115) - (c : \u211d)^(5 : \u2115)) \u2265 0 := by\n          apply l4 (b : \u211d) (c : \u211d) 3 5 h\u2089 h\u2081\u2080 (by norm_num) (by norm_num)\n        -- Simplify the expression to match the required form\n        simpa [pow_succ] using h\u2081\u2083\n      -- Cast the result back to the original type\n      exact_mod_cast h\u2088\n    exact h\u2081\n  \n  exact \u27e8h_ab, h_ac, h_bc\u27e9", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized with appropriate Lean syntax.", "The expansion equation is accurately translated with proper exponentiation and multiplication notation.", "The equivalence between the inequality forms is correctly captured using the biconditional operator.", "The factorization identity is precisely formalized with matching algebraic structure.", "The general lemma is properly quantified over positive reals and positive naturals, correctly capturing the mathematical statement.", "The conclusion about non-negativity of the three terms is accurately expressed using conjunction of inequalities."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "hence their sum is non-negative", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1];\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2];\n\u2022 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 = (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) [l3];\n\u2022 For any positive real numbers x, y and positive integers k, m, (x\u1d4f - y\u1d4f)(x\u1d50 - y\u1d50) \u2265 0 [l4];\n\u2022 The terms (a\u00b3-b\u00b3)(a\u2075-b\u2075), (a\u00b3-c\u00b3)(a\u2075-c\u2075), and (b\u00b3-c\u00b3)(b\u2075-c\u2075) are all non-negative [l5].\nTherefore, we conclude:\n\u2022 (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) \u2265 0 [l6].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0)\n  (l5 : (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n        (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n        (b^3-c^3)*(b^5-c^5) \u2265 0) :\n  (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6\n  (a b c : \u211d) \n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0)\n  (l5 : (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n        (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n        (b^3-c^3)*(b^5-c^5) \u2265 0) :\n  (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) \u2265 0 := by\n  have h1 : (a^3 - b^3) * (a^5 - b^5) \u2265 0 := by\n    have h\u2081 : (a^3 - b^3) * (a^5 - b^5) \u2265 0 := l5.1\n    exact h\u2081\n  \n  have h2 : (a^3 - c^3) * (a^5 - c^5) \u2265 0 := by\n    have h\u2082 : (a^3 - c^3) * (a^5 - c^5) \u2265 0 := l5.2.1\n    exact h\u2082\n  \n  have h3 : (b^3 - c^3) * (b^5 - c^5) \u2265 0 := by\n    have h\u2083 : (b^3 - c^3) * (b^5 - c^5) \u2265 0 := l5.2.2\n    exact h\u2083\n  \n  have h4 : (a^3 - b^3) * (a^5 - b^5) + (a^3 - c^3) * (a^5 - c^5) + (b^3 - c^3) * (b^5 - c^5) \u2265 0 := by\n    have h4\u2081 : (a^3 - b^3) * (a^5 - b^5) \u2265 0 := h1\n    have h4\u2082 : (a^3 - c^3) * (a^5 - c^5) \u2265 0 := h2\n    have h4\u2083 : (b^3 - c^3) * (b^5 - c^5) \u2265 0 := h3\n    -- Summing up the non-negative terms to get the final result\n    linarith\n  \n  exact h4", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The positivity condition for a, b, c is correctly expressed using conjunction of strict inequalities.", "The algebraic expansion equation is directly and accurately translated to Lean syntax.", "The equivalence between the inequality and the rearranged form is properly expressed using biconditional.", "The algebraic identity factorization is correctly represented.", "The general lemma about products of differences is properly formalized with universal quantification and appropriate conditions.", "The non-negativity of the three specific terms is correctly expressed using conjunction.", "The final conclusion about the sum being non-negative is directly and accurately translated."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "proving the inequality.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) = a\u2078 + b\u2078 + c\u2078 + a\u00b3b\u2075 + a\u00b3c\u2075 + b\u00b3a\u2075 + b\u00b3c\u2075 + c\u00b3a\u2075 + c\u00b3b\u2075 [l1];\n\u2022 The inequality 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) is equivalent to 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 \u2265 0 [l2];\n\u2022 2a\u2078 + 2b\u2078 + 2c\u2078 - a\u00b3b\u2075 - a\u00b3c\u2075 - b\u00b3a\u2075 - b\u00b3c\u2075 - c\u00b3a\u2075 - c\u00b3b\u2075 = (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) [l3];\n\u2022 For any positive real numbers x, y and positive integers k, m, (x\u1d4f - y\u1d4f)(x\u1d50 - y\u1d50) \u2265 0 [l4];\n\u2022 The terms (a\u00b3-b\u00b3)(a\u2075-b\u2075), (a\u00b3-c\u00b3)(a\u2075-c\u2075), and (b\u00b3-c\u00b3)(b\u2075-c\u2075) are all non-negative [l5];\n\u2022 (a\u00b3-b\u00b3)(a\u2075-b\u2075) + (a\u00b3-c\u00b3)(a\u2075-c\u2075) + (b\u00b3-c\u00b3)(b\u2075-c\u2075) \u2265 0 [l6].\nTherefore, we conclude:\n\u2022 3(a\u2078 + b\u2078 + c\u2078) \u2265 (a\u00b3 + b\u00b3 + c\u00b3)(a\u2075 + b\u2075 + c\u2075) [ts_1].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0)\n  (l5 : (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n        (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n        (b^3-c^3)*(b^5-c^5) \u2265 0)\n  (l6 : (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) \u2265 0) :\n  3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (a b c : \u211d) \n  (ha : 0 < a) (hb : 0 < b) (hc : 0 < c)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) = a^8 + b^8 + c^8 + a^3*b^5 + a^3*c^5 + b^3*a^5 + b^3*c^5 + c^3*a^5 + c^3*b^5)\n  (l2 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194\n        (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0))\n  (l3 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = \n        (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5))\n  (l4 : \u2200 (x y : \u211d) (k m : \u2115), 0 < x \u2192 0 < y \u2192 0 < k \u2192 0 < m \u2192 \n        (x^k - y^k) * (x^m - y^m) \u2265 0)\n  (l5 : (a^3-b^3)*(a^5-b^5) \u2265 0 \u2227 \n        (a^3-c^3)*(a^5-c^5) \u2265 0 \u2227 \n        (b^3-c^3)*(b^5-c^5) \u2265 0)\n  (l6 : (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) \u2265 0) :\n  3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := by\n  have h_step1 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0 := by\n    have h\u2081 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 = (a^3-b^3)*(a^5-b^5) + (a^3-c^3)*(a^5-c^5) + (b^3-c^3)*(b^5-c^5) := by\n      rw [l3]\n    rw [h\u2081]\n    linarith [l6]\n  \n  have h_step2 : 3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := by\n    have h\u2082 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194 (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := l2\n    have h\u2083 : 2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0 := h_step1\n    have h\u2084 : 3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5) := by\n      have h\u2085 : (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := h\u2083\n      have h\u2086 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) := by\n        -- Use the equivalence in l2 to deduce the desired inequality\n        have h\u2087 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194 (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := l2\n        have h\u2088 : (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := h\u2083\n        have h\u2089 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) := by\n          -- Since the RHS of the equivalence is true, the LHS must also be true\n          have h\u2081\u2080 : (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) \u2192 (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) := by\n            intro h\n            have h\u2081\u2081 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) \u2194 (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := l2\n            have h\u2081\u2082 : (2*a^8 + 2*b^8 + 2*c^8 - a^3*b^5 - a^3*c^5 - b^3*a^5 - b^3*c^5 - c^3*a^5 - c^3*b^5 \u2265 0) := h\n            have h\u2081\u2083 : (3 * (a^8 + b^8 + c^8) \u2265 (a^3 + b^3 + c^3) * (a^5 + b^5 + c^5)) := by\n              tauto\n            exact h\u2081\u2083\n          exact h\u2081\u2080 h\u2088\n        exact h\u2089\n      exact h\u2086\n    exact h\u2084\n  \n  exact h_step2", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all components from the natural language. The mathematical expressions, logical relationships, and proof structure are accurately translated. While there is some redundancy in the positivity conditions (both individual hypotheses ha, hb, hc and the conjunction tc_1), this does not create any inconsistency and is acceptable. All premises l1-l6 and the conclusion ts_1 are properly formalized with correct mathematical notation and logical operators."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    