
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any angles $\\alpha, \\beta, \\gamma$ of a triangle and any real number $t$, the following inequality holds: $\\cos \\alpha + t(\\cos \\beta + \\cos \\gamma) \\leq 1 + \\frac{t^2}{2}$.

Proof: Let $\alpha, eta, \gamma$ be the angles of a triangle, so $\alpha + eta + \gamma = \pi$ and $\alpha, eta, \gamma \in (0, \pi)$, which gives $\cos\alpha = -\cos(eta+\gamma)$. Consider the non-negative expression $(\coseta + \cos\gamma - t)^2 + (\sineta - \sin\gamma)^2 \ge 0$. Expanding and grouping terms using $\cos^2 x + \sin^2 x = 1$ and the angle addition formula $\cos(eta+\gamma) = \coseta \cos\gamma - \sineta \sin\gamma$, we obtain $2 + t^2 + 2\cos(eta+\gamma) - 2t(\coseta + \cos\gamma) \ge 0$, which rearranges to $-\cos(eta+\gamma) + t(\coseta + \cos\gamma) \le 1 + rac{t^2}{2}$. Substituting $-\cos(eta+\gamma) = \cos\alpha$ yields $\cos\alpha + t(\coseta + \cos\gamma) \le 1 + rac{t^2}{2}$, completing the proof.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $\\alpha, \\beta, \\gamma$ be the angles of a triangle", "statement": "Premise:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem_condition tc_1\n  (\u03b1 \u03b2 \u03b3 : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 0 < \u03b1 \u2227 0 < \u03b2 \u2227 0 < \u03b3) :\n  True := by sorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 0, "endLine": 7, "endColumn": 17, "data": "unexpected identifier; expected command"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "any real number $t$", "statement": "Premise:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1]\n\u2022 $t$ is a real number [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem triangle_angles (\u03b1 \u03b2 \u03b3 t : \u211d) \n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi) :\n  Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that \u03b1, \u03b2, \u03b3 are triangle angles by explicitly stating the mathematical conditions: their sum equals \u03c0 and each is between 0 and \u03c0. This is a proper mathematical formalization of triangle angles.", "The Lean declaration t : \u211d perfectly matches the natural language condition that t is a real number.", "The natural language explicitly states that no conclusions are derived in this premise step, but the Lean theorem introduces a conclusion about cosines and an inequality (Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2) that was never mentioned in the natural language statement."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that \u03b1, \u03b2, \u03b3 are triangle angles by explicitly stating the mathematical conditions: their sum equals \u03c0 and each is between 0 and \u03c0. This is a proper mathematical formalization of triangle angles.', 'The Lean declaration t : \u211d perfectly matches the natural language condition that t is a real number.', 'The natural language explicitly states that no conclusions are derived in this premise step, but the Lean theorem introduces a conclusion about cosines and an inequality (Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2) that was never mentioned in the natural language statement.']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "so $\\alpha + \\beta + \\gamma = \\pi$ and $\\alpha, \\beta, \\gamma \\in (0, \\pi)$, which gives $\\cos\\alpha = -\\cos(\\beta+\\gamma)$.", "statement": "We assume:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1];\n\u2022 $t$ is a real number [tc_2].\nTherefore, we conclude:\n\u2022 $\\cos\\alpha = -\\cos(\\beta+\\gamma)$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (\u03b1 \u03b2 \u03b3 t : \u211d) \n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi) :\n  Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (\u03b1 \u03b2 \u03b3 t : \u211d) \n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi) :\n  Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3) := by\n  have h_sum : \u03b2 + \u03b3 = Real.pi - \u03b1 := by\n    have h\u2081 : \u03b1 + \u03b2 + \u03b3 = Real.pi := h_triangle.1\n    have h\u2082 : \u03b2 + \u03b3 = Real.pi - \u03b1 := by linarith\n    exact h\u2082\n  \n  have h_cos : Real.cos (\u03b2 + \u03b3) = Real.cos (Real.pi - \u03b1) := by\n    rw [h_sum]\n    <;>\n    simp [Real.cos_add, Real.cos_sub, Real.sin_add, Real.sin_sub]\n    <;>\n    ring_nf\n    <;>\n    simp_all [Real.cos_add, Real.cos_sub, Real.sin_add, Real.sin_sub]\n    <;>\n    linarith\n  \n  have h_cos_sub : Real.cos (Real.pi - \u03b1) = -Real.cos \u03b1 := by\n    rw [Real.cos_pi_sub]\n    <;>\n    simp_all [Real.cos_add, Real.cos_sub, Real.sin_add, Real.sin_sub]\n    <;>\n    linarith\n  \n  have h_main : Real.cos (\u03b2 + \u03b3) = -Real.cos \u03b1 := by\n    rw [h_cos]\n    rw [h_cos_sub]\n    <;>\n    simp_all [Real.cos_add, Real.cos_sub, Real.sin_add, Real.sin_sub]\n    <;>\n    linarith\n  \n  have h_final : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3) := by\n    have h\u2081 : Real.cos (\u03b2 + \u03b3) = -Real.cos \u03b1 := h_main\n    have h\u2082 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3) := by\n      linarith\n    exact h\u2082\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable declarations correctly capture all mentioned variables. The variable t is declared as a real number as stated, and \u03b1, \u03b2, \u03b3 are declared as real numbers which is appropriate for triangle angles.", "The triangle condition is perfectly formalized. The natural language states that \u03b1, \u03b2, \u03b3 are angles of a triangle, and the Lean formalization correctly captures this with the sum equaling \u03c0 and each angle being between 0 and \u03c0. These are the standard mathematical constraints for triangle angles, even though not all details were explicitly stated in natural language.", "The conclusion is perfectly matched. The cosine equality cos \u03b1 = -cos(\u03b2+\u03b3) is faithfully represented in Lean notation as Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3)."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Consider the non-negative expression $(\\cos\\beta + \\cos\\gamma - t)^2 + (\\sin\\beta - \\sin\\gamma)^2 \\ge 0$.", "statement": "We assume:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1];\n\u2022 $t$ is a real number [tc_2];\n\u2022 $\\cos\\alpha = -\\cos(\\beta+\\gamma)$ [l1].\nTherefore, we conclude:\n\u2022 $(\\cos\\beta + \\cos\\gamma - t)^2 + (\\sin\\beta - \\sin\\gamma)^2 \\ge 0$ [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (\u03b1 \u03b2 \u03b3 t : \u211d) \n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3)) :\n  (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (\u03b1 \u03b2 \u03b3 t : \u211d) \n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3)) :\n  (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0 := by\n  have h_main : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0 := by\n    have h1 : 0 \u2264 (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 := by\n      -- Prove that the square of any real number is non-negative\n      nlinarith [sq_nonneg (Real.cos \u03b2 + Real.cos \u03b3 - t)]\n    have h2 : 0 \u2264 (Real.sin \u03b2 - Real.sin \u03b3)^2 := by\n      -- Prove that the square of any real number is non-negative\n      nlinarith [sq_nonneg (Real.sin \u03b2 - Real.sin \u03b3)]\n    -- Sum of non-negative numbers is non-negative\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle angles condition is correctly formalized with the sum constraint and individual angle bounds, which properly captures the mathematical meaning of 'angles of a triangle'", "The real number type declaration for t correctly corresponds to the natural language statement", "The cosine relationship l1 is directly and accurately translated with proper namespace qualification", "The conclusion inequality l2 is mathematically identical to the natural language expression, with appropriate Lean syntax for exponentiation and trigonometric functions"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Expanding and grouping terms using $\\cos^2 x + \\sin^2 x = 1$ and the angle addition formula $\\cos(\\beta+\\gamma) = \\cos\\beta \\cos\\gamma - \\sin\\beta \\sin\\gamma$, we obtain $2 + t^2 + 2\\cos(\\beta+\\gamma) - 2t(\\cos\\beta + \\cos\\gamma) \\ge 0$", "statement": "We assume:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1];\n\u2022 $t$ is a real number [tc_2];\n\u2022 $\\cos\\alpha = -\\cos(\\beta+\\gamma)$ [l1];\n\u2022 $(\\cos\\beta + \\cos\\gamma - t)^2 + (\\sin\\beta - \\sin\\gamma)^2 \\ge 0$ [l2].\nTherefore, we conclude:\n\u2022 $2 + t^2 + 2\\cos(\\beta+\\gamma) - 2t(\\cos\\beta + \\cos\\gamma) \\ge 0$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (h_l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0) :\n  2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (h_l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0) :\n  2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0 := by\n  have h_expand : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 = 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) := by\n    have h1 : (Real.cos \u03b2 + Real.cos \u03b3 - t) ^ 2 + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 = (Real.cos \u03b2 + Real.cos \u03b3) ^ 2 + t ^ 2 - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 := by\n      ring_nf\n      <;>\n      nlinarith [Real.cos_le_one \u03b2, Real.cos_le_one \u03b3, Real.sin_le_one \u03b2, Real.sin_le_one \u03b3]\n    have h2 : (Real.cos \u03b2 + Real.cos \u03b3) ^ 2 + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 = 2 + 2 * Real.cos (\u03b2 + \u03b3) := by\n      have h3 : (Real.cos \u03b2 + Real.cos \u03b3) ^ 2 + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 = (Real.cos \u03b2 ^ 2 + Real.sin \u03b2 ^ 2) + (Real.cos \u03b3 ^ 2 + Real.sin \u03b3 ^ 2) + 2 * (Real.cos \u03b2 * Real.cos \u03b3 - Real.sin \u03b2 * Real.sin \u03b3) := by\n        ring_nf\n        <;>\n        nlinarith [Real.cos_le_one \u03b2, Real.cos_le_one \u03b3, Real.sin_le_one \u03b2, Real.sin_le_one \u03b3]\n      have h4 : Real.cos \u03b2 ^ 2 + Real.sin \u03b2 ^ 2 = 1 := by rw [Real.cos_sq_add_sin_sq]\n      have h5 : Real.cos \u03b3 ^ 2 + Real.sin \u03b3 ^ 2 = 1 := by rw [Real.cos_sq_add_sin_sq]\n      have h6 : Real.cos (\u03b2 + \u03b3) = Real.cos \u03b2 * Real.cos \u03b3 - Real.sin \u03b2 * Real.sin \u03b3 := by\n        rw [Real.cos_add]\n      rw [h3, h4, h5]\n      rw [h6]\n      <;>\n      ring_nf\n      <;>\n      nlinarith [Real.cos_le_one \u03b2, Real.cos_le_one \u03b3, Real.sin_le_one \u03b2, Real.sin_le_one \u03b3]\n    calc\n      (Real.cos \u03b2 + Real.cos \u03b3 - t) ^ 2 + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 = (Real.cos \u03b2 + Real.cos \u03b3) ^ 2 + t ^ 2 - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 := by rw [h1]\n      _ = ( (Real.cos \u03b2 + Real.cos \u03b3) ^ 2 + (Real.sin \u03b2 - Real.sin \u03b3) ^ 2 ) + t ^ 2 - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) := by ring\n      _ = (2 + 2 * Real.cos (\u03b2 + \u03b3)) + t ^ 2 - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) := by rw [h2]\n      _ = 2 + t ^ 2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) := by ring\n  \n  have h_main : 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0 := by\n    linarith [h_l2, h_expand]\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle condition is correctly formalized with the angle sum property and proper bounds for each angle", "The real number type declaration for t is correctly specified", "The cosine relation l1 is perfectly translated with correct mathematical notation", "The inequality condition l2 is accurately represented with proper operator precedence", "The conclusion l3 correctly captures the target inequality with explicit multiplication operators", "The overall logical structure properly represents the premise-conclusion relationship as a theorem"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which rearranges to $-\\cos(\\beta+\\gamma) + t(\\cos\\beta + \\cos\\gamma) \\le 1 + \\frac{t^2}{2}$.", "statement": "We assume:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1];\n\u2022 $t$ is a real number [tc_2];\n\u2022 $\\cos\\alpha = -\\cos(\\beta+\\gamma)$ [l1];\n\u2022 $(\\cos\\beta + \\cos\\gamma - t)^2 + (\\sin\\beta - \\sin\\gamma)^2 \\ge 0$ [l2];\n\u2022 $2 + t^2 + 2\\cos(\\beta+\\gamma) - 2t(\\cos\\beta + \\cos\\gamma) \\ge 0$ [l3].\nTherefore, we conclude:\n\u2022 $-\\cos(\\beta+\\gamma) + t(\\cos\\beta + \\cos\\gamma) \\le 1 + \\frac{t^2}{2}$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (h_l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0)\n  (h_l3 : 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0) :\n  -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (h_l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (h_l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0)\n  (h_l3 : 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0) :\n  -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by\n  have h_main : 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) - 2 * Real.cos (\u03b2 + \u03b3) \u2264 2 + t^2 := by\n    have h\u2083 : 2 + t ^ 2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0 := h_l3\n    have h\u2084 : 2 + t ^ 2 + 2 * Real.cos (\u03b2 + \u03b3) \u2265 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) := by\n      linarith\n    have h\u2085 : 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) - 2 * Real.cos (\u03b2 + \u03b3) \u2264 2 + t ^ 2 := by\n      linarith\n    exact h\u2085\n  \n  have h_final : -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by\n    have h\u2086 : 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) - 2 * Real.cos (\u03b2 + \u03b3) \u2264 2 + t ^ 2 := h_main\n    have h\u2087 : -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t ^ 2 / 2 := by\n      have h\u2088 : 2 * (-Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3)) \u2264 2 * (1 + t ^ 2 / 2) := by\n        -- Multiply both sides of the goal by 2 to eliminate the fraction\n        have h\u2089 : 2 * (-Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3)) = 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) - 2 * Real.cos (\u03b2 + \u03b3) := by\n          ring\n        rw [h\u2089]\n        -- Use the main inequality to bound the expression\n        have h\u2081\u2080 : 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) - 2 * Real.cos (\u03b2 + \u03b3) \u2264 2 + t ^ 2 := h_main\n        have h\u2081\u2081 : (2 : \u211d) + t ^ 2 = 2 * (1 + t ^ 2 / 2) := by\n          ring\n        linarith\n      -- Divide both sides by 2 to get the final result\n      linarith\n    exact h\u2087\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle condition is correctly formalized with the sum constraint and proper angle bounds", "The real number type declaration correctly captures the constraint on t", "The cosine equality relation is perfectly translated", "The non-negativity constraint is accurately represented", "The inequality condition matches exactly in mathematical content", "The conclusion inequality is correctly formalized"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Substituting $-\\cos(\\beta+\\gamma) = \\cos\\alpha$ yields $\\cos\\alpha + t(\\cos\\beta + \\cos\\gamma) \\le 1 + \\frac{t^2}{2}$, completing the proof.", "statement": "We assume:\n\u2022 $\\alpha, \\beta, \\gamma$ are the angles of a triangle [tc_1];\n\u2022 $t$ is a real number [tc_2];\n\u2022 $\\cos\\alpha = -\\cos(\\beta+\\gamma)$ [l1];\n\u2022 $(\\cos\\beta + \\cos\\gamma - t)^2 + (\\sin\\beta - \\sin\\gamma)^2 \\ge 0$ [l2];\n\u2022 $2 + t^2 + 2\\cos(\\beta+\\gamma) - 2t(\\cos\\beta + \\cos\\gamma) \\ge 0$ [l3];\n\u2022 $-\\cos(\\beta+\\gamma) + t(\\cos\\beta + \\cos\\gamma) \\le 1 + \\frac{t^2}{2}$ [l4].\nTherefore, we conclude:\n\u2022 $\\cos\\alpha + t(\\cos\\beta + \\cos\\gamma) \\le 1 + \\frac{t^2}{2}$ [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0)\n  (l3 : 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0)\n  (l4 : -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2) :\n  Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  (\u03b1 \u03b2 \u03b3 t : \u211d)\n  (h_triangle : \u03b1 + \u03b2 + \u03b3 = Real.pi \u2227 \n                0 < \u03b1 \u2227 \u03b1 < Real.pi \u2227 \n                0 < \u03b2 \u2227 \u03b2 < Real.pi \u2227 \n                0 < \u03b3 \u2227 \u03b3 < Real.pi)\n  (l1 : Real.cos \u03b1 = -Real.cos (\u03b2 + \u03b3))\n  (l2 : (Real.cos \u03b2 + Real.cos \u03b3 - t)^2 + (Real.sin \u03b2 - Real.sin \u03b3)^2 \u2265 0)\n  (l3 : 2 + t^2 + 2 * Real.cos (\u03b2 + \u03b3) - 2 * t * (Real.cos \u03b2 + Real.cos \u03b3) \u2265 0)\n  (l4 : -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2) :\n  Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by\n  have h_main : Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) \u2264 1 + t^2 / 2 := by\n    have h5 : Real.cos \u03b1 + t * (Real.cos \u03b2 + Real.cos \u03b3) = -Real.cos (\u03b2 + \u03b3) + t * (Real.cos \u03b2 + Real.cos \u03b3) := by\n      rw [l1]\n      <;> ring\n    rw [h5]\n    linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle condition is correctly formalized with the sum constraint and proper angle bounds, which mathematically captures 'angles of a triangle'", "The real number condition for t is properly captured through type declaration (t : \u211d)", "Equation l1 is exactly translated: cos \u03b1 = -cos(\u03b2+\u03b3)", "Inequality l2 is exactly translated with proper exponentiation and trigonometric functions", "Inequality l3 is exactly translated with all arithmetic operations preserved", "Inequality l4 is exactly translated including the division by 2", "The conclusion ts_1 is exactly translated, maintaining the same mathematical relationship"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    