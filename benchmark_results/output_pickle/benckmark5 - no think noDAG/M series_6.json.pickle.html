
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $(a_n)$ be a sequence such that $a_n = \frac{1}{n^2}$. Let $S_N = \sum_{n=1}^{N} a_n$ be the partial sum of the series. Then for any integer $N \geq 2$, the inequality $S_N \leq 2 - \frac{1}{N}$ holds.

Proof: The proof is by induction. First, for the base case $N=2$, we have $S_2 = \sum_{n=1}^{2} \frac{1}{n^2} = \frac{1}{1^2} + \frac{1}{2^2} = 1 + \frac{1}{4} = 1.25$. The right side of the inequality is $2-\frac{1}{2}=1.5$. Since $1.25 \leq 1.5$, the inequality holds for $N=2$. Now for the inductive step, assume the inequality holds for some integer $k \geq 2$, i.e., $S_k \leq 2 - \frac{1}{k}$. We want to show it holds for $k+1$, i.e., $S_{k+1} \leq 2 - \frac{1}{k+1}$. We know that $S_{k+1} = S_k + a_{k+1} = S_k + \frac{1}{(k+1)^2}$. From the inductive hypothesis, $S_k \leq 2 - \frac{1}{k}$. So we have $S_{k+1} \leq 2 - \frac{1}{k} + \frac{1}{(k+1)^2}$. To prove the inequality, we need to show that $2 - \frac{1}{k} + \frac{1}{(k+1)^2} \leq 2 - \frac{1}{k+1}$. This simplifies to showing that $-\frac{1}{k} + \frac{1}{(k+1)^2} \leq -\frac{1}{k+1}$. We can rearrange this to show $\frac{1}{k+1} - \frac{1}{k} + \frac{1}{(k+1)^2} \leq 0$. To combine these terms, we use a common denominator of $k(k+1)^2$. We get $\frac{k(k+1) - (k+1)^2 + k}{k(k+1)^2} \leq 0$. The numerator is $k^2+k-(k^2+2k+1)+k = k^2+k-k^2-2k-1+k = -1$. So we need to show that $\frac{-1}{k(k+1)^2} \leq 0$. Since $k \geq 2$, the denominator $k(k+1)^2$ is always positive. Therefore, the fraction is always negative, which is less than or equal to zero. Thus, the inequality holds for $k+1$ and by induction, for all $N \geq 2$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $(a_n)$ be a sequence such that $a_n = \\frac{1}{n^2}$.", "statement": "Premise:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a : \u2115 \u2192 \u211d)\n(tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration `a : \u2115 \u2192 \u211d` correctly represents a sequence of real numbers indexed by natural numbers, which matches the mathematical notation $(a_n)_{n\u22651}$", "The Lean constraint `\u2200 n \u2265 1, a n = 1 / (n : \u211d)^2` perfectly captures the mathematical statement 'For all $n \u2265 1$, $a_n = \\frac{1}{n^2}$'. The type coercion `(n : \u211d)` is necessary for proper typing in Lean", "The conclusion is implicitly captured by the Lean formalization through the explicit constraint tc_1, which defines the sequence with the given formula"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "Let $S_N = \\sum_{n=1}^{N} a_n$ be the partial sum of the series.", "statement": "Premise:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a : \u2115 \u2192 \u211d)\n(tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n(tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.67, "semantic_feedback": ["The Lean formalization correctly captures that a is a sequence of real numbers with the formula a_n = 1/n^2 for all n \u2265 1.", "The Lean version uses `\u2211 n in Finset.range N, a (n + 1)` which sums from n=0 to N-1 but evaluates a at (n+1), effectively summing a(1) through a(N). This is mathematically equivalent to `\u2211_{n=1}^{N} a_n` but uses different indexing notation.", "The conclusion S_N = \u2211_{n=1}^{N} 1/n^2 follows directly from combining the two conditions, and the Lean formalization supports this logical derivation."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "First, for the base case $N=2$, we have $S_2 = \\sum_{n=1}^{2} \\frac{1}{n^2} = \\frac{1}{1^2} + \\frac{1}{2^2} = 1 + \\frac{1}{4} = 1.25$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\nTherefore, we conclude:\n\u2022 For $N=2$, the partial sum $S_2 = 1.25$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1)) :\n  (S_N : \u211d) = 1.25 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1)) :\n  (S_N : \u211d) = 1.25 := by\n  have hS2 := tc_2 2 (by linarith)\n  simp_rw [tc_1] at hS2\n  rw [Finset.range_two, Finset.sum_insert, Finset.sum_singleton] at hS2\n  simp only [Nat.cast_one, Nat.cast_zero, one_div, pow_two] at hS2\n  rw [hS2]\n  norm_num\n  intro n hn\n  exact tc_1 (n + 1) (by linarith)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 11, "endLine": 11, "endColumn": 15, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The sequence definition is correctly formalized with the right mathematical formula a_n = 1/n^2 for n \u2265 1.", "The partial sum definition correctly uses Finset.range N with index shifting a(n+1) to represent the sum from n=1 to N.", "The conclusion has a major flaw: the natural language specifically states 'For N=2, S_2 = 1.25' but the Lean formalization uses S_N without constraining N to equal 2. The statement should be something like 'S_N 2 = 1.25' or include a condition that N = 2.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition is correctly formalized with the right mathematical formula a_n = 1/n^2 for n \u2265 1.', 'The partial sum definition correctly uses Finset.range N with index shifting a(n+1) to represent the sum from n=1 to N.', \"The conclusion has a major flaw: the natural language specifically states 'For N=2, S_2 = 1.25' but the Lean formalization uses S_N without constraining N to equal 2. The statement should be something like 'S_N 2 = 1.25' or include a condition that N = 2.\"]"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "The right side of the inequality is $2-\\frac{1}{2}=1.5$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 For $N=2$, the partial sum $S_2 = 1.25$ [l1].\nTherefore, we conclude:\n\u2022 For $N=2$, the expression $2 - \\frac{1}{N}$ evaluates to $1.5$ [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25) :\n  2 - 1 / (2 : \u211d) = 1.5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25) :\n  2 - 1 / (2 : \u211d) = 1.5 := by\n  norm_num", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The sequence definition a_n = 1/n\u00b2 for n \u2265 1 is correctly captured in Lean.", "The partial sum definition is correctly formalized using Finset.range and appropriate indexing.", "The given fact S_2 = 1.25 is incorrectly formalized as a generic S_N = 1.25 without specifying N=2, which is a major logical gap.", "The conclusion correctly evaluates 2 - 1/2 = 1.5 but loses the parametric context 'for N=2' from the natural language, making it a direct calculation rather than a parametric statement."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition a_n = 1/n\u00b2 for n \u2265 1 is correctly captured in Lean.', 'The partial sum definition is correctly formalized using Finset.range and appropriate indexing.', 'The given fact S_2 = 1.25 is incorrectly formalized as a generic S_N = 1.25 without specifying N=2, which is a major logical gap.', \"The conclusion correctly evaluates 2 - 1/2 = 1.5 but loses the parametric context 'for N=2' from the natural language, making it a direct calculation rather than a parametric statement.\"]"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Since $1.25 \\leq 1.5$, the inequality holds for $N=2$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 For $N=2$, the partial sum $S_2 = 1.25$ [l1].\n\u2022 For $N=2$, the expression $2 - \\frac{1}{N}$ evaluates to $1.5$ [l2].\nTherefore, we conclude:\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5) :\n  (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5) :\n  (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d) := by\n  rw [l1, l2]\n  norm_num", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The sequence definition is correctly formalized with the proper constraint n \u2265 1.", "The partial sum definition correctly uses Finset.range N with a (n + 1) to represent the sum from n=1 to N.", "The statement S_N = 1.25 lacks the crucial specification that N=2. The variable S_N is unbound and could refer to any partial sum.", "The expression 2 - 1/(2:\u211d) = 1.5 correctly substitutes N=2 into the general form.", "The inequality conclusion fails to specify that this holds for N=2 specifically. S_N is unbound, making the statement about a general partial sum rather than S_2."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition is correctly formalized with the proper constraint n \u2265 1.', 'The partial sum definition correctly uses Finset.range N with a (n + 1) to represent the sum from n=1 to N.', 'The statement S_N = 1.25 lacks the crucial specification that N=2. The variable S_N is unbound and could refer to any partial sum.', 'The expression 2 - 1/(2:\u211d) = 1.5 correctly substitutes N=2 into the general form.', 'The inequality conclusion fails to specify that this holds for N=2 specifically. S_N is unbound, making the statement about a general partial sum rather than S_2.']"}, "solved_negation": null, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "Now for the inductive step, assume the inequality holds for some integer $k \\geq 2$, i.e., $S_k \\leq 2 - \\frac{1}{k}$.", "statement": "Definition:\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The natural language states k is an integer, but Lean uses natural numbers (\u2115). Since k \u2265 2, natural numbers are sufficient and mathematically equivalent for this context, but it's not a direct translation of 'integer'.", "The condition k \u2265 2 is perfectly captured in both the natural language and Lean formalization.", "The Lean formalization provides an explicit definition of S_k as a sum formula (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2), while the natural language only refers to it symbolically as S_k. The mathematical meaning is consistent but the Lean version is more specific about what S_k represents."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The natural language states k is an integer, but Lean uses natural numbers (\u2115). Since k \u2265 2, natural numbers are sufficient and mathematically equivalent for this context, but it's not a direct translation of 'integer'.\", 'The condition k \u2265 2 is perfectly captured in both the natural language and Lean formalization.', 'The Lean formalization provides an explicit definition of S_k as a sum formula (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2), while the natural language only refers to it symbolically as S_k. The mathematical meaning is consistent but the Lean version is more specific about what S_k represents.']"}, "type": "definition"}, "l4": {"id": "l4", "natural_language": "We know that $S_{k+1} = S_k + a_{k+1} = S_k + \\frac{1}{(k+1)^2}$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\nTherefore, we conclude:\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1)) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1)) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1) := by\n  simp [Finset.sum_range_succ]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The sequence definition tc_1 correctly captures that a_n = 1/n\u00b2 for all n \u2265 1", "The partial sum definition tc_2 correctly represents S_N as the sum from 1 to N using Finset.range with appropriate indexing", "The base case l3 (S_2 \u2264 2 - 1/2) is completely missing from the Lean formalization, which is a significant omission for an inductive proof context", "The parameter constraint def_1_param correctly specifies that k \u2265 2", "The inductive hypothesis def_1 (S_k \u2264 2 - 1/k) is missing from the Lean formalization, which is crucial for the inductive step being proven", "The conclusion l4 perfectly captures the telescoping sum relationship S_{k+1} = S_k + 1/(k+1)\u00b2 using appropriate Lean notation"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition tc_1 correctly captures that a_n = 1/n\u00b2 for all n \u2265 1', 'The partial sum definition tc_2 correctly represents S_N as the sum from 1 to N using Finset.range with appropriate indexing', 'The base case l3 (S_2 \u2264 2 - 1/2) is completely missing from the Lean formalization, which is a significant omission for an inductive proof context', 'The parameter constraint def_1_param correctly specifies that k \u2265 2', 'The inductive hypothesis def_1 (S_k \u2264 2 - 1/k) is missing from the Lean formalization, which is crucial for the inductive step being proven', 'The conclusion l4 perfectly captures the telescoping sum relationship S_{k+1} = S_k + 1/(k+1)\u00b2 using appropriate Lean notation']"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "From the inductive hypothesis, $S_k \\leq 2 - \\frac{1}{k}$. So we have $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].\nTherefore, we conclude:\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1_param : k \u2265 2)\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1)) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1_param : k \u2265 2)\n  (def_1 : (\u2211 n in Finset.range k, a (n + 1)) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1)) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 := by\n  rw [l4]\n  have h : a (k + 1) = 1 / (k + 1 : \u211d)^2 := by\n    simp [tc_1 (k + 1) (by linarith)]\n  rw [h]\n  exact add_le_add_right def_1 (1 / (k + 1 : \u211d)^2)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 4}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The sequence definition tc_1 correctly captures a_n = 1/n\u00b2 for n \u2265 1", "The partial sum definition tc_2 correctly represents S_N using Finset.range with appropriate indexing", "The base case l3 is correct, but the formalization introduces unexplained assumptions l1 and l2 with specific numerical values (1.25 and 1.5) that are not mentioned in the natural language and seem inconsistent with the mathematical context", "The parameter constraint def_1_param perfectly matches k \u2265 2", "The inductive hypothesis def_1 correctly represents S_k \u2264 2 - 1/k using expanded sum notation", "The recurrence relation l4 correctly captures S_{k+1} = S_k + 1/(k+1)\u00b2", "The conclusion correctly represents S_{k+1} \u2264 2 - 1/k + 1/(k+1)\u00b2 in expanded form"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition tc_1 correctly captures a_n = 1/n\u00b2 for n \u2265 1', 'The partial sum definition tc_2 correctly represents S_N using Finset.range with appropriate indexing', 'The base case l3 is correct, but the formalization introduces unexplained assumptions l1 and l2 with specific numerical values (1.25 and 1.5) that are not mentioned in the natural language and seem inconsistent with the mathematical context', 'The parameter constraint def_1_param perfectly matches k \u2265 2', 'The inductive hypothesis def_1 correctly represents S_k \u2264 2 - 1/k using expanded sum notation', 'The recurrence relation l4 correctly captures S_{k+1} = S_k + 1/(k+1)\u00b2', 'The conclusion correctly represents S_{k+1} \u2264 2 - 1/k + 1/(k+1)\u00b2 in expanded form']"}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "This simplifies to showing that $-\\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq -\\frac{1}{k+1}$. We can rearrange this to show $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].\nTherefore, we conclude:\n\u2022 The inequality $2 - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 2 - \\frac{1}{k+1}$ is equivalent to $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ [l6].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (k : \u2115)\n  (def_1_param : k \u2265 2) :\n  (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (k : \u2115)\n  (def_1_param : k \u2265 2) :\n  (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) := by\n  constructor\n  \u00b7 intro h\n    rw [sub_le_sub_iff_right (2 : \u211d)] at h\n    simp only [add_sub_cancel_right] at h\n    exact h\n  \u00b7 intro h\n    rw [sub_le_sub_iff_right (2 : \u211d)]\n    simp only [add_sub_cancel_right]\n    exact h", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 8, "endLine": 11, "endColumn": 36, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.1721 - 2 \u2264 ?m.1722 - 2\ncase mp\nk : \u2115\ndef_1_param : k \u2265 2\nh : 2 - 1 / \u2191k + 1 / (\u2191k + 1) ^ 2 \u2264 2 - 1 / (\u2191k + 1)\n\u22a2 1 / (\u2191k + 1) - 1 / \u2191k + 1 / (\u2191k + 1) ^ 2 \u2264 0"}, {"line": 15, "column": 8, "endLine": 15, "endColumn": 36, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.2088 - 2 \u2264 ?m.2089 - 2\ncase mpr\nk : \u2115\ndef_1_param : k \u2265 2\nh : 1 / (\u2191k + 1) - 1 / \u2191k + 1 / (\u2191k + 1) ^ 2 \u2264 0\n\u22a2 2 - 1 / \u2191k + 1 / (\u2191k + 1) ^ 2 \u2264 2 - 1 / (\u2191k + 1)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical equivalence stated in the conclusion of the natural language text. The mathematical expressions and logical structure are perfectly translated. However, the Lean code presents this as an isolated lemma without incorporating the broader context of sequences, partial sums, and inductive reasoning described in the natural language. While the core mathematical statement is accurate, the formalization misses the contextual framework that gives this equivalence its meaning within the larger proof structure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures the mathematical equivalence stated in the conclusion of the natural language text. The mathematical expressions and logical structure are perfectly translated. However, the Lean code presents this as an isolated lemma without incorporating the broader context of sequences, partial sums, and inductive reasoning described in the natural language. While the core mathematical statement is accurate, the formalization misses the contextual framework that gives this equivalence its meaning within the larger proof structure.']"}, "solved_negation": null, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "To combine these terms, we use a common denominator of $k(k+1)^2$. We get $\\frac{k(k+1) - (k+1)^2 + k}{k(k+1)^2} \\leq 0$. The numerator is $k^2+k-(k^2+2k+1)+k = k^2+k-k^2-2k-1+k = -1$. So we need to show that $\\frac{-1}{k(k+1)^2} \\leq 0$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].\n\u2022 The inequality $2 - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 2 - \\frac{1}{k+1}$ is equivalent to $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ [l6].\nTherefore, we conclude:\n\u2022 The inequality $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ is equivalent to $\\frac{-1}{k(k+1)^2} \\leq 0$ [l7].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0)) :\n  (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0)) :\n  (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0) := by\n  have h : 1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 = -1 / (k : \u211d) / ((k + 1) : \u211d)^2 := by\n    field_simp\n    ring\n  rw [h]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical equivalence stated in the natural language. The expression `-1 / (k : \u211d) / ((k + 1) : \u211d)^2` correctly represents $\\frac{-1}{k(k+1)^2}$ due to left-associativity of division in Lean. The algebraic simplification from $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ to $\\frac{-1}{k(k+1)^2}$ is mathematically sound, and both sides of the equivalence are properly formalized."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "Since $k \\geq 2$, the denominator $k(k+1)^2$ is always positive.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].\n\u2022 The inequality $2 - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 2 - \\frac{1}{k+1}$ is equivalent to $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ [l6].\n\u2022 The inequality $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ is equivalent to $\\frac{-1}{k(k+1)^2} \\leq 0$ [l7].\nTherefore, we conclude:\n\u2022 The denominator $k(k+1)^2$ is positive [l8].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1))\n  (l5 : (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0))\n  (l7 : (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0)) :\n  k * ((k : \u211d) + 1)^2 > 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1))\n  (l5 : (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0))\n  (l7 : (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0)) :\n  k * ((k : \u211d) + 1)^2 > 0 := by\n  have hk : (k : \u211d) > 0 := by exact_mod_cast Nat.pos_of_ne_zero (Nat.not_eq_zero_of_lt (Nat.lt_of_succ_le def_1_param))\n  have hk1 : (k : \u211d) + 1 > 0 := by linarith\n  exact mul_pos hk (pow_pos hk1 2)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.7, "semantic_feedback": ["The sequence definition a_n = 1/n\u00b2 is correctly captured in tc_1 with proper type annotations and domain specification.", "The partial sum definition S_N is properly formalized in tc_2 using Finset.range and summation notation.", "The base case for N=2 is present in l3, but there are additional assumptions l1 and l2 that specify concrete values (S_N = 1.25, etc.) not mentioned in the natural language. These don't contradict but add specificity.", "The parameter constraint k \u2265 2 is correctly captured in def_1_param.", "The inductive hypothesis S_k \u2264 2 - 1/k is properly formalized in def_1, though using explicit summation notation rather than the S_k symbol.", "The recurrence relation S_{k+1} = S_k + 1/(k+1)\u00b2 is correctly expressed in l4 using summation properties.", "The inequality S_{k+1} \u2264 2 - 1/k + 1/(k+1)\u00b2 is properly captured in l5.", "The equivalence in l6 correctly captures the algebraic manipulation, though the natural language uses 'equivalent to' while Lean uses the biconditional \u2194.", "The equivalence in l7 captures the algebraic simplification, but there's a slight notational difference in how the fraction -1/(k(k+1)\u00b2) is expressed in Lean as -1/k/((k+1)\u00b2).", "The conclusion about k(k+1)\u00b2 being positive is correctly formalized, with the natural language 'positive' properly translated to '> 0' in Lean."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l9": {"id": "l9", "natural_language": "Therefore, the fraction is always negative, which is less than or equal to zero.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} = S_k + \\frac{1}{(k+1)^2}$ [l4].\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].\n\u2022 The inequality $2 - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 2 - \\frac{1}{k+1}$ is equivalent to $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ [l6].\n\u2022 The inequality $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ is equivalent to $\\frac{-1}{k(k+1)^2} \\leq 0$ [l7].\n\u2022 The denominator $k(k+1)^2$ is positive [l8].\nTherefore, we conclude:\n\u2022 The inequality $\\frac{-1}{k(k+1)^2} \\leq 0$ is true [l9].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l9\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (l8 : (k : \u211d) * ((k : \u211d) + 1)^2 > 0) :\n  -1 / ((k : \u211d) * ((k : \u211d) + 1)^2) \u2264 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l9\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (l8 : (k : \u211d) * ((k : \u211d) + 1)^2 > 0) :\n  -1 / ((k : \u211d) * ((k : \u211d) + 1)^2) \u2264 0 := by\n  rw [div_le_iff (by exact l8)]\n  simp only [neg_nonpos]\n  norm_num", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 2, "endLine": 11, "endColumn": 24, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content of conclusion l9 from the natural language. It includes the appropriate parameter k\u22652, the positivity assumption for the denominator (l8), and the exact inequality conclusion. The type conversions from natural numbers to reals are mathematically sound. While the broader context of the inductive proof is not included, this is appropriate since the lemma specifically targets only the final step l9. All essential logical components from the relevant natural language statements are preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l9\n  (k : \u2115)\n  (def_1_param : k \u2265 2)\n  (l8 : (k : \u211d) * ((k : \u211d) + 1)^2 > 0) :\n  \u00ac (-1 / ((k : \u211d) * ((k : \u211d) + 1)^2) \u2264 0) := by\n  rw [div_neg, neg_nonpos]\n  exact zero_lt_one"}, "type": "lemma"}, "l10": {"id": "l10", "natural_language": "Thus, the inequality holds for k+1", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for $N=2$ [l3].\n\u2022 Let $k$ be an integer such that $k \\geq 2$ [def_1_param].\n\u2022 Assume the inductive hypothesis: $S_k \\leq 2 - \\frac{1}{k}$ [def_1].\n\u2022 $S_{k+1} \\leq 2 - \\frac{1}{k} + \\frac{1}{(k+1)^2}$ [l5].\n\u2022 The inequality $2 - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 2 - \\frac{1}{k+1}$ is equivalent to $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ [l6].\n\u2022 The inequality $\\frac{1}{k+1} - \\frac{1}{k} + \\frac{1}{(k+1)^2} \\leq 0$ is equivalent to $\\frac{-1}{k(k+1)^2} \\leq 0$ [l7].\n\u2022 The inequality $\\frac{-1}{k(k+1)^2} \\leq 0$ is true [l9].\nTherefore, we conclude:\n\u2022 The inequality $S_{k+1} \\leq 2 - \\frac{1}{k+1}$ holds [l10].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5", "l6", "l7", "l8", "l9"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l10\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1_param : k \u2265 2)\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1))\n  (l5 : (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0))\n  (l7 : (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0))\n  (l9 : -1 / ((k : \u211d) * ((k + 1) : \u211d)^2) \u2264 0) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k + 1 : \u211d) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l10\n  (a : \u2115 \u2192 \u211d)\n  (k : \u2115)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l1 : (S_N : \u211d) = 1.25)\n  (l2 : 2 - 1 / (2 : \u211d) = 1.5)\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (def_1_param : k \u2265 2)\n  (def_1 : (\u2211 n in Finset.range k, 1 / ((n + 1) : \u211d)^2) \u2264 2 - 1 / (k : \u211d))\n  (l4 : (\u2211 n in Finset.range (k + 1), a (n + 1)) = (\u2211 n in Finset.range k, a (n + 1)) + a (k + 1))\n  (l5 : (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2)\n  (l6 : (2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d)) \u2194 (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0))\n  (l7 : (1 / (k + 1 : \u211d) - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 0) \u2194 (-1 / (k : \u211d) / ((k + 1) : \u211d)^2 \u2264 0))\n  (l9 : -1 / ((k : \u211d) * ((k + 1) : \u211d)^2) \u2264 0) :\n  (\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k + 1 : \u211d) := by\n  have h1 := l5\n  have h2 : 2 - 1 / (k : \u211d) + 1 / ((k + 1) : \u211d)^2 \u2264 2 - 1 / (k + 1 : \u211d) := by\n    rw [l6]\n    rw [l7]\n    have : -1 / (k : \u211d) / ((k + 1) : \u211d)^2 = -1 / ((k : \u211d) * ((k + 1) : \u211d)^2) := by\n      field_simp\n      ring\n    rw [this]\n    exact l9\n  apply le_trans h1 h2", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 27, "column": 6, "endLine": 27, "endColumn": 10, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The sequence definition a_n = 1/n\u00b2 is correctly formalized as tc_1 with proper type annotations and domain specification.", "The partial sum definition S_N has a structural difference - natural language uses sum from n=1 to N of a_n, while Lean uses sum over range N of a(n+1), but they are mathematically equivalent.", "Major inconsistency: Natural language states the inequality holds 'for N=2', but Lean has specific values l1: S_N = 1.25 and l2: 2-1/2 = 1.5, plus the inequality l3. The natural language doesn't mention these specific numerical values.", "Major inconsistency: Natural language refers to 'k \u2265 2' but Lean uses 'k \u2265 2' with \u2115 type. More importantly, the inductive hypothesis in natural language refers to S_k but Lean uses explicit sum notation without defining S_k for arbitrary k.", "The inductive hypothesis S_k \u2264 2 - 1/k is correctly captured in def_1, though with explicit sum notation rather than S_k symbol.", "The inequality S_{k+1} \u2264 2 - 1/k + 1/(k+1)\u00b2 is correctly formalized in l5 with proper sum notation.", "The equivalence between the two inequality forms is correctly captured in l6 with the biconditional (\u2194).", "The equivalence to -1/(k(k+1)\u00b2) \u2264 0 is correctly formalized in l7, though there's a slight notational difference in division representation.", "Minor inconsistency: The inequality -1/(k(k+1)\u00b2) \u2264 0 is stated as true in natural language (l9), and Lean formalizes it correctly, but there's a small notational difference in how division is expressed.", "The conclusion S_{k+1} \u2264 2 - 1/(k+1) is correctly captured as the goal of the lemma.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition a_n = 1/n\u00b2 is correctly formalized as tc_1 with proper type annotations and domain specification.', 'The partial sum definition S_N has a structural difference - natural language uses sum from n=1 to N of a_n, while Lean uses sum over range N of a(n+1), but they are mathematically equivalent.', \"Major inconsistency: Natural language states the inequality holds 'for N=2', but Lean has specific values l1: S_N = 1.25 and l2: 2-1/2 = 1.5, plus the inequality l3. The natural language doesn't mention these specific numerical values.\", \"Major inconsistency: Natural language refers to 'k \u2265 2' but Lean uses 'k \u2265 2' with \u2115 type. More importantly, the inductive hypothesis in natural language refers to S_k but Lean uses explicit sum notation without defining S_k for arbitrary k.\", 'The inductive hypothesis S_k \u2264 2 - 1/k is correctly captured in def_1, though with explicit sum notation rather than S_k symbol.', 'The inequality S_{k+1} \u2264 2 - 1/k + 1/(k+1)\u00b2 is correctly formalized in l5 with proper sum notation.', 'The equivalence between the two inequality forms is correctly captured in l6 with the biconditional (\u2194).', \"The equivalence to -1/(k(k+1)\u00b2) \u2264 0 is correctly formalized in l7, though there's a slight notational difference in division representation.\", \"Minor inconsistency: The inequality -1/(k(k+1)\u00b2) \u2264 0 is stated as true in natural language (l9), and Lean formalizes it correctly, but there's a small notational difference in how division is expressed.\", 'The conclusion S_{k+1} \u2264 2 - 1/(k+1) is correctly captured as the goal of the lemma.']"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Thus, the inequality holds for $k+1$ and by induction, for all $N \\geq 2$.", "statement": "We assume:\n\u2022 $(a_n)_{n\u22651}$ is a sequence of real numbers such that for all $n \\geq 1$, $a_n = \\frac{1}{n^2}$ [tc_1].\n\u2022 For any integer $N \\geq 1$, $S_N = \\sum_{n=1}^{N} a_n$ is the N-th partial sum of the series $(a_n)$ [tc_2].\n\u2022 The inequality $S_N \\leq 2 - \\frac{1}{N}$ holds for the base case $N=2$ [l3].\n\u2022 Assuming the inequality holds for an integer $k \\geq 2$, it also holds for $k+1$ [l10].\nTherefore, we conclude:\n\u2022 By the principle of mathematical induction, for any integer $N \\geq 2$, the inequality $S_N \\leq 2 - \\frac{1}{N}$ holds [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "def_1", "l4", "l5", "l6", "l7", "l8", "l9", "l10"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (l10 : \u2200 k \u2265 2, ((\u2211 n in Finset.range k, a (n + 1)) \u2264 2 - 1 / (k : \u211d)) \u2192 ((\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k + 1 : \u211d))) :\n  \u2200 (N : \u2115), N \u2265 2 \u2192 (\u2211 n in Finset.range N, a (n + 1)) \u2264 2 - 1 / (N : \u211d) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a : \u2115 \u2192 \u211d)\n  (tc_1 : \u2200 n \u2265 1, a n = 1 / (n : \u211d)^2)\n  (tc_2 : \u2200 (N : \u2115), N \u2265 1 \u2192 (S_N : \u211d) = \u2211 n in Finset.range N, a (n + 1))\n  (l3 : (S_N : \u211d) \u2264 2 - 1 / (2 : \u211d))\n  (l10 : \u2200 k \u2265 2, ((\u2211 n in Finset.range k, a (n + 1)) \u2264 2 - 1 / (k : \u211d)) \u2192 ((\u2211 n in Finset.range (k + 1), a (n + 1)) \u2264 2 - 1 / (k + 1 : \u211d))) :\n  \u2200 (N : \u2115), N \u2265 2 \u2192 (\u2211 n in Finset.range N, a (n + 1)) \u2264 2 - 1 / (N : \u211d) := by\n  intro N hN\n  induction hN with\n  | refl => \n    simp [tc_2] at l3\n    exact l3\n  | step k hk ih =>\n    apply l10 (k + 1) (by linarith) ih", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 4, "endLine": 16, "endColumn": 12, "data": "type mismatch\n  l3\nhas type\n  S_N \u2264 2 - 2\u207b\u00b9 : Prop\nbut is expected to have type\n  \u2211 n \u2208 Finset.range 2, a (n + 1) \u2264 2 - 1 / \u21912 : Prop"}, {"line": 17, "column": 2, "endLine": 18, "endColumn": 38, "data": "too many variable names provided at alternative 'step', #3 provided, but #2 expected"}, {"line": 18, "column": 36, "endLine": 18, "endColumn": 38, "data": "unknown identifier 'ih'"}, {"line": 18, "column": 4, "endLine": 18, "endColumn": 38, "data": "tactic 'apply' failed, failed to unify\n  \u2211 n \u2208 Finset.range (?m.6815 + 1 + 1), a (n + 1) \u2264 2 - 1 / (\u2191(?m.6815 + 1) + 1)\nwith\n  \u2211 n \u2208 Finset.range m\u271d.succ, a (n + 1) \u2264 2 - 1 / \u2191m\u271d.succ\ncase step\nS_N : \u211d\na : \u2115 \u2192 \u211d\ntc_1 : \u2200 n \u2265 1, a n = 1 / \u2191n ^ 2\ntc_2 : \u2200 N \u2265 1, S_N = \u2211 n \u2208 Finset.range N, a (n + 1)\nl3 : S_N \u2264 2 - 1 / 2\nl10 : \u2200 k \u2265 2, \u2211 n \u2208 Finset.range k, a (n + 1) \u2264 2 - 1 / \u2191k \u2192 \u2211 n \u2208 Finset.range (k + 1), a (n + 1) \u2264 2 - 1 / (\u2191k + 1)\nN m\u271d : \u2115\nk : Nat.le 2 m\u271d\nhk : \u2211 n \u2208 Finset.range m\u271d, a (n + 1) \u2264 2 - 1 / \u2191m\u271d\n\u22a2 \u2211 n \u2208 Finset.range m\u271d.succ, a (n + 1) \u2264 2 - 1 / \u2191m\u271d.succ"}, {"line": 18, "column": 26, "endLine": 18, "endColumn": 34, "data": "linarith failed to find a contradiction\ncase a\nS_N : \u211d\na : \u2115 \u2192 \u211d\ntc_1 : \u2200 n \u2265 1, a n = 1 / \u2191n ^ 2\ntc_2 : \u2200 N \u2265 1, S_N = \u2211 n \u2208 Finset.range N, a (n + 1)\nl3 : S_N \u2264 2 - 1 / 2\nl10 : \u2200 k \u2265 2, \u2211 n \u2208 Finset.range k, a (n + 1) \u2264 2 - 1 / \u2191k \u2192 \u2211 n \u2208 Finset.range (k + 1), a (n + 1) \u2264 2 - 1 / (\u2191k + 1)\nN m\u271d : \u2115\nk : Nat.le 2 m\u271d\nhk : \u2211 n \u2208 Finset.range m\u271d, a (n + 1) \u2264 2 - 1 / \u2191m\u271d\na\u271d : 2 > ?m.6815 + 1\n\u22a2 False failed"}, {"line": 18, "column": 15, "endLine": 18, "endColumn": 20, "data": "application type mismatch\n  HAdd.hAdd k\nargument\n  k\nhas type\n  Nat.le 2 m\u271d : Prop\nbut is expected to have type\n  \u2115 : Type"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The sequence definition tc_1 correctly captures that a_n = 1/n\u00b2 for all n \u2265 1.", "The partial sum definition tc_2 correctly represents the mathematical sum from 1 to N, though it uses S_N as a variable rather than a defined function.", "The base case l3 has a major issue: it uses a generic S_N variable instead of specifically stating the inequality for N=2 as mentioned in the natural language.", "The inductive step l10 correctly formalizes the logical structure: if the inequality holds for k\u22652, then it holds for k+1.", "The conclusion correctly states that for any N\u22652, the inequality S_N \u2264 2-1/N holds, properly representing the induction result.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The sequence definition tc_1 correctly captures that a_n = 1/n\u00b2 for all n \u2265 1.', 'The partial sum definition tc_2 correctly represents the mathematical sum from 1 to N, though it uses S_N as a variable rather than a defined function.', 'The base case l3 has a major issue: it uses a generic S_N variable instead of specifically stating the inequality for N=2 as mentioned in the natural language.', 'The inductive step l10 correctly formalizes the logical structure: if the inequality holds for k\u22652, then it holds for k+1.', 'The conclusion correctly states that for any N\u22652, the inequality S_N \u2264 2-1/N holds, properly representing the induction result.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l9", "label": "l9", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l10", "label": "l10", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "l10", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l10", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    