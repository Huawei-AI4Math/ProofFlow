
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If a nonempty set $S$ of real numbers  is bounded above$,$ then
$\sup S$ is the unique real number $\beta$ such that
\begin{alist}
\item % (a)
 $x\le\beta$ for all $x$ in $S;$
\item % (b)
 if $\epsilon>0$ $($no matter how small$)$$,$ there is an $x_0$ in
$S$ such that
$x_0>
\beta-\epsilon.$
\end{alist}

Proof: We first show that $\beta=\sup S$ has properties \part{a} and
\part{b}. Since $\beta$ is an upper bound of $S$, it must satisfy
\part{a}. Since any real number $a$ less than $\beta$ can be written
as $\beta-\epsilon$ with $\epsilon=\beta-a>0$, \part{b} is just
another way of saying that no number less than $\beta$ is an upper
bound of $S$. Hence, $\beta=\sup S$ satisfies \part{a} and \part{b}.
Now we show that there cannot be more than one real number with
properties \part{a} and \part{b}. Suppose that $\beta_1<\beta_2$ and
$\beta_2$ has property \part{b}; thus, if $\epsilon>0$, there is an
$x_0$ in $S$ such that $x_0>\beta_2-\epsilon$. Then, by taking
$\epsilon=\beta_2-\beta_1$, we see that there is an $x_0$ in $S$ such
that
$$
x_0>\beta_2-(\beta_2-\beta_1)=\beta_1,
$$
so  $\beta_1$ cannot have property \part{a}. Therefore, there cannot
be more than one real number that satisfies both \part{a} and
\part{b}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "a nonempty set $S$ of real numbers is bounded above", "statement": "Premise:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers through the type declaration (S : Set \u211d) and the S.Nonempty condition in the conjunction.", "The Lean formalization correctly captures that S is bounded above using BddAbove S, which is the standard Lean notation for this property."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "$x\\le\\beta$ for all $x$ in $S;", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\nDefinition:\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (\u03b2 : \u211d)\n  (def_1 : \u2200 x \u2208 S, x \u2264 \u03b2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers. The type declaration (S : Set \u211d) establishes S as a set of reals, and tc_1 includes S.Nonempty which matches the nonempty condition.", "The Lean formalization perfectly captures that S is bounded above through BddAbove S in the conjunction tc_1, which is the standard Lean way to express that a set is bounded above.", "The Lean formalization perfectly captures Property (a) through def_1 : \u2200 x \u2208 S, x \u2264 \u03b2, which is exactly the mathematical definition given. The variable \u03b2 : \u211d properly declares \u03b2 as a real number as referenced in the property definition."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "if $\\epsilon>0$ $($no matter how small$)$$,$ there is an $x_0$ in $S$ such that $x_0>\n\\beta-\\epsilon.$", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\nDefinition:\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (\u03b2 : \u211d)\n  (def_1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (def_2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is a set of real numbers that is both nonempty and bounded above using S.Nonempty \u2227 BddAbove S", "The Lean formalization perfectly matches the definition of property (a), with the universal quantification over elements in S and the inequality condition", "The Lean formalization perfectly matches the definition of property (b), with the universal quantification over positive \u03b5 and the existential quantification over elements in S satisfying the strict inequality"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "We first show that $\\beta=\\sup S$ has properties \\part{a} and \\part{b}. Since $\\beta$ is an upper bound of $S$, it must satisfy \\part{a}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\nTherefore, we conclude:\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].", "dependencies": ["tc_1", "def_1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S) :\n  \u2200 x \u2208 S, x \u2264 sSup S := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S) :\n  \u2200 x \u2208 S, x \u2264 sSup S := by\n  intro x hx\n  exact le_csSup tc_1.2 hx", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The set S assumptions are correctly formalized with proper type declaration and the conjunction of nonemptiness and boundedness conditions.", "Property (a) is accurately represented in the conclusion with the correct quantification structure.", "Property (b) definition is not needed for the stated conclusion and its absence doesn't affect correctness.", "The main lemma correctly proves that sSup S (supremum) satisfies property (a), which matches the natural language conclusion exactly."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Since any real number $a$ less than $\\beta$ can be written as $\\beta-\\epsilon$ with $\\epsilon=\\beta-a>0$, \\part{b} is just another way of saying that no number less than $\\beta$ is an upper bound of $S$. Hence, $\\beta=\\sup S$ satisfies \\part{a} and \\part{b}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].\nTherefore, we conclude:\n\u2022 \u03b2 = sup S also satisfies property (b) [l2].", "dependencies": ["tc_1", "def_1", "def_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1 : \u2200 (\u03b2 : \u211d), \u2200 x \u2208 S, x \u2264 \u03b2 \u2192 Prop)\n  (def_2 : \u2200 (\u03b2 : \u211d), (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2192 Prop)\n  (l1 : \u2200 x \u2208 S, x \u2264 sSup S) :\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1 : \u2200 (\u03b2 : \u211d), \u2200 x \u2208 S, x \u2264 \u03b2 \u2192 Prop)\n  (def_2 : \u2200 (\u03b2 : \u211d), (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2192 Prop)\n  (l1 : \u2200 x \u2208 S, x \u2264 sSup S) :\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5 := by\n  intro \u03b5 h\u03b5\n  by_contra h\n  push_neg at h\n  have h' : sSup S \u2264 sSup S - \u03b5 := by\n    apply csSup_le\n    \u00b7 exact tc_1.1\n    \u00b7 exact tc_1.2\n    \u00b7 intro x hx\n      exact h x hx\n  linarith [h']", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 6, "endLine": 18, "endColumn": 18, "data": "type mismatch\n  tc_1.right\nhas type\n  BddAbove S : Prop\nbut is expected to have type\n  \u2200 b \u2208 S, b \u2264 sSup S - \u03b5 : Prop"}, {"line": 19, "column": 4, "endLine": 20, "endColumn": 18, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption tc_1 correctly captures that S is nonempty and bounded above using appropriate Lean definitions.", "The definition def_1 has a structural error - it treats the defining condition as a hypothesis implying Prop rather than defining the property as that condition itself.", "The definition def_2 has the same structural error as def_1 - the property should be defined as the statement itself, not as the statement implying some unspecified Prop.", "Lemma l1 correctly expresses that the supremum satisfies property (a) by directly stating the upper bound condition.", "The conclusion l2 correctly expresses that the supremum satisfies property (b) by directly stating the approximation condition.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The assumption tc_1 correctly captures that S is nonempty and bounded above using appropriate Lean definitions.', 'The definition def_1 has a structural error - it treats the defining condition as a hypothesis implying Prop rather than defining the property as that condition itself.', 'The definition def_2 has the same structural error as def_1 - the property should be defined as the statement itself, not as the statement implying some unspecified Prop.', 'Lemma l1 correctly expresses that the supremum satisfies property (a) by directly stating the upper bound condition.', 'The conclusion l2 correctly expresses that the supremum satisfies property (b) by directly stating the approximation condition.']"}, "solved_negation": null, "type": "lemma"}, "def_3": {"id": "def_3", "natural_language": "Suppose that $\\beta_1<\\beta_2$ and $\\beta_2$ has property \\part{b}", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].\n\u2022 \u03b2 = sup S also satisfies property (b) [l2].\nDefinition:\n\u2022 To prove uniqueness, let's assume there are two distinct real numbers, \u03b2\u2081 and \u03b2\u2082, that both satisfy properties (a) [def_1] and (b) [def_2] for the set S. Without loss of generality, assume \u03b2\u2081 < \u03b2\u2082 [def_3].", "dependencies": ["tc_1", "def_1", "def_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1 : \u2200 (\u03b2 : \u211d), Prop)\n  (def_2 : \u2200 (\u03b2 : \u211d), Prop)\n  (l1 : \u2200 x \u2208 S, x \u2264 sSup S)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (def_3 : \u03b2\u2081 < \u03b2\u2082 \u2227 def_1 \u03b2\u2081 \u2227 def_2 \u03b2\u2081 \u2227 def_1 \u03b2\u2082 \u2227 def_2 \u03b2\u2082)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that S is nonempty and bounded above using S.Nonempty \u2227 BddAbove S", "The Lean declares def_1 as \u2200 (\u03b2 : \u211d), Prop but doesn't define what this property actually is. The natural language clearly defines property (a) as \u2200x \u2208 S, x \u2264 \u03b2, but this definition is missing in Lean", "Similarly, def_2 is declared as \u2200 (\u03b2 : \u211d), Prop but the actual definition \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 is not provided in Lean", "The Lean formalization correctly states that for all x in S, x \u2264 sSup S, which matches the conclusion that \u03b2 = sup S satisfies property (a)", "The Lean formalization correctly states the property (b) for sSup S using the exact same logical structure as in the natural language", "The natural language mentions \u03b2\u2081 \u2260 \u03b2\u2082 as a separate condition, but this is not explicitly stated in Lean. However, it's implied by \u03b2\u2081 < \u03b2\u2082 in def_3", "The Lean combines multiple conditions into def_3, but the structure matches: \u03b2\u2081 < \u03b2\u2082 and both \u03b2\u2081 and \u03b2\u2082 satisfy properties (a) and (b). However, since def_1 and def_2 are not properly defined in Lean, this creates inconsistency"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that S is nonempty and bounded above using S.Nonempty \u2227 BddAbove S', \"The Lean declares def_1 as \u2200 (\u03b2 : \u211d), Prop but doesn't define what this property actually is. The natural language clearly defines property (a) as \u2200x \u2208 S, x \u2264 \u03b2, but this definition is missing in Lean\", 'Similarly, def_2 is declared as \u2200 (\u03b2 : \u211d), Prop but the actual definition \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 is not provided in Lean', 'The Lean formalization correctly states that for all x in S, x \u2264 sSup S, which matches the conclusion that \u03b2 = sup S satisfies property (a)', 'The Lean formalization correctly states the property (b) for sSup S using the exact same logical structure as in the natural language', \"The natural language mentions \u03b2\u2081 \u2260 \u03b2\u2082 as a separate condition, but this is not explicitly stated in Lean. However, it's implied by \u03b2\u2081 < \u03b2\u2082 in def_3\", 'The Lean combines multiple conditions into def_3, but the structure matches: \u03b2\u2081 < \u03b2\u2082 and both \u03b2\u2081 and \u03b2\u2082 satisfy properties (a) and (b). However, since def_1 and def_2 are not properly defined in Lean, this creates inconsistency']"}, "type": "definition"}, "l3": {"id": "l3", "natural_language": "Then, by taking $\\epsilon=\\beta_2-\\beta_1$, we see that there is an $x_0$ in $S$ such that\n$$\nx_0>\\beta_2-(\\beta_2-\\beta_1)=\\beta_1,\n$$", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].\n\u2022 \u03b2 = sup S also satisfies property (b) [l2].\n\u2022 We assume there are two distinct real numbers, \u03b2\u2081 and \u03b2\u2082, that both satisfy properties (a) and (b), and assume \u03b2\u2081 < \u03b2\u2082 [def_3].\nTherefore, we conclude:\n\u2022 There exists an element x\u2080 in S such that x\u2080 > \u03b2\u2081 [l3].", "dependencies": ["tc_1", "def_1", "def_2", "l1", "l2", "def_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1 : \u2200 (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2192 Prop)\n  (def_2 : \u2200 (\u03b2 : \u211d), ((\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)) \u2192 Prop)\n  (l1 : \u2200 x \u2208 S, x \u2264 sSup S)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (def_3 : \u03b2\u2081 < \u03b2\u2082 \u2227 def_1 \u03b2\u2081 (by sorry) \u2227 def_2 \u03b2\u2081 (by sorry) \u2227 def_1 \u03b2\u2082 (by sorry) \u2227 def_2 \u03b2\u2082 (by sorry)) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1 : \u2200 (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2192 Prop)\n  (def_2 : \u2200 (\u03b2 : \u211d), ((\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)) \u2192 Prop)\n  (l1 : \u2200 x \u2208 S, x \u2264 sSup S)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5)\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (def_3 : \u03b2\u2081 < \u03b2\u2082 \u2227 (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5) \u2227 (\u2200 x \u2208 S, x \u2264 \u03b2\u2082) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5)) :\n  \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 := by\n  set \u03b5 := \u03b2\u2082 - \u03b2\u2081 with h\u03b5\n  have h\u03b5_pos : 0 < \u03b5 := by linarith\n  obtain \u27e8x\u2080, hx\u2080\u27e9 := def_3.2.2.1 \u03b5 h\u03b5_pos\n  exact \u27e8x\u2080, hx\u2080.1, by linarith [hx\u2080.2]\u27e9", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 23, "endLine": 18, "endColumn": 39, "data": "linarith failed to find a contradiction\ncase h\nS : Set \u211d\ntc_1 : S.Nonempty \u2227 BddAbove S\ndef_1 : (\u03b2 : \u211d) \u2192 (\u2200 x \u2208 S, x \u2264 \u03b2) \u2192 Prop\ndef_2 : (\u03b2 : \u211d) \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5) \u2192 Prop\nl1 : \u2200 x \u2208 S, x \u2264 sSup S\nl2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > sSup S - \u03b5\n\u03b2\u2081 \u03b2\u2082 : \u211d\ndef_3 :\n  \u03b2\u2081 < \u03b2\u2082 \u2227 (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081 - \u03b5) \u2227 (\u2200 x \u2208 S, x \u2264 \u03b2\u2082) \u2227 \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5\n\u03b5 : \u211d := \u03b2\u2082 - \u03b2\u2081\nh\u03b5 : \u03b5 = \u03b2\u2082 - \u03b2\u2081\nh\u03b5_pos : 0 < \u03b5\nx\u2080 : \u211d\nhx\u2080 : x\u2080 \u2208 S \u2227 x\u2080 > \u03b2\u2081 - \u03b5\na\u271d : \u03b2\u2081 \u2265 x\u2080\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["tc_1 correctly captures that S is nonempty and bounded above", "def_1 is incorrectly formalized as a function (\u2200 (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2192 Prop) rather than as a predicate on \u03b2. It should be something like (def_1 : \u211d \u2192 Prop) where def_1 \u03b2 := \u2200 x \u2208 S, x \u2264 \u03b2", "def_2 has the same issue as def_1 - it's formalized as a function rather than a predicate on \u03b2", "l1 correctly states that sSup S satisfies property (a)", "l2 correctly states that sSup S satisfies property (b)", "def_3 attempts to use def_1 and def_2 incorrectly due to their wrong definitions. The applications 'def_1 \u03b2\u2081 (by sorry)' don't make sense given how def_1 is defined", "The conclusion correctly formalizes the existence of x\u2080 \u2208 S such that x\u2080 > \u03b2\u2081", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['tc_1 correctly captures that S is nonempty and bounded above', 'def_1 is incorrectly formalized as a function (\u2200 (\u03b2 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2) \u2192 Prop) rather than as a predicate on \u03b2. It should be something like (def_1 : \u211d \u2192 Prop) where def_1 \u03b2 := \u2200 x \u2208 S, x \u2264 \u03b2', \"def_2 has the same issue as def_1 - it's formalized as a function rather than a predicate on \u03b2\", 'l1 correctly states that sSup S satisfies property (a)', 'l2 correctly states that sSup S satisfies property (b)', \"def_3 attempts to use def_1 and def_2 incorrectly due to their wrong definitions. The applications 'def_1 \u03b2\u2081 (by sorry)' don't make sense given how def_1 is defined\", 'The conclusion correctly formalizes the existence of x\u2080 \u2208 S such that x\u2080 > \u03b2\u2081']"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "so  $\\beta_1$ cannot have property \\part{a}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].\n\u2022 \u03b2 = sup S also satisfies property (b) [l2].\n\u2022 We assume there are two distinct real numbers, \u03b2\u2081 and \u03b2\u2082, that both satisfy properties (a) and (b), and assume \u03b2\u2081 < \u03b2\u2082 [def_3].\n\u2022 There exists an element x\u2080 in S such that x\u2080 > \u03b2\u2081 [l3].\nTherefore, we conclude:\n\u2022 The number \u03b2\u2081 cannot satisfy property (a) [l4].", "dependencies": ["tc_1", "def_1", "def_2", "l1", "l2", "def_3", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1_prop : \u2200 (\u03b2 : \u211d), Prop) -- Property (a) as a proposition\n  (def_2_prop : \u2200 (\u03b2 : \u211d), Prop) -- Property (b) as a proposition\n  (def_1_statement : \u2200 (\u03b2 : \u211d), def_1_prop \u03b2 \u2192 (\u2200 x \u2208 S, x \u2264 \u03b2)) -- The actual statement of property (a)\n  (def_2_statement : \u2200 (\u03b2 : \u211d), def_2_prop \u03b2 \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)) -- The actual statement of property (b)\n  (l1 : def_1_prop (sSup S))\n  (l2 : def_2_prop (sSup S))\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (def_3 : \u03b2\u2081 < \u03b2\u2082 \u2227 def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081 \u2227 def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082)\n  (l3 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081) :\n  \u00ac (def_1_prop \u03b2\u2081) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1_prop : \u2200 (\u03b2 : \u211d), Prop) -- Property (a) as a proposition\n  (def_2_prop : \u2200 (\u03b2 : \u211d), Prop) -- Property (b) as a proposition\n  (def_1_statement : \u2200 (\u03b2 : \u211d), def_1_prop \u03b2 \u2192 (\u2200 x \u2208 S, x \u2264 \u03b2)) -- The actual statement of property (a)\n  (def_2_statement : \u2200 (\u03b2 : \u211d), def_2_prop \u03b2 \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)) -- The actual statement of property (b)\n  (l1 : def_1_prop (sSup S))\n  (l2 : def_2_prop (sSup S))\n  (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (def_3 : \u03b2\u2081 < \u03b2\u2082 \u2227 def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081 \u2227 def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082)\n  (l3 : \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2081) :\n  \u00ac (def_1_prop \u03b2\u2081) := by\n  intro h\n  obtain \u27e8x\u2080, hx\u2080, hx\u2080'\u27e9 := l3\n  have := def_1_statement \u03b2\u2081 h x\u2080 hx\u2080\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The set S and its properties (nonempty and bounded above) are correctly formalized as tc_1.", "Properties (a) and (b) are appropriately abstracted with their mathematical definitions preserved through statement parameters.", "The supremum satisfying both properties is correctly captured in l1 and l2.", "The assumption about two distinct numbers \u03b2\u2081 and \u03b2\u2082 both satisfying properties (a) and (b) with \u03b2\u2081 < \u03b2\u2082 is accurately formalized.", "The existence of x\u2080 in S with x\u2080 > \u03b2\u2081 is directly translated.", "Major logical contradiction: The goal attempts to prove \u00ac(def_1_prop \u03b2\u2081) while def_3 assumes def_1_prop \u03b2\u2081. This makes the theorem unprovable and contradicts the logical flow described in the natural language."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The set S and its properties (nonempty and bounded above) are correctly formalized as tc_1.', 'Properties (a) and (b) are appropriately abstracted with their mathematical definitions preserved through statement parameters.', 'The supremum satisfying both properties is correctly captured in l1 and l2.', 'The assumption about two distinct numbers \u03b2\u2081 and \u03b2\u2082 both satisfying properties (a) and (b) with \u03b2\u2081 < \u03b2\u2082 is accurately formalized.', 'The existence of x\u2080 in S with x\u2080 > \u03b2\u2081 is directly translated.', 'Major logical contradiction: The goal attempts to prove \u00ac(def_1_prop \u03b2\u2081) while def_3 assumes def_1_prop \u03b2\u2081. This makes the theorem unprovable and contradicts the logical flow described in the natural language.']"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Therefore, there cannot be more than one real number that satisfies both \\part{a} and \\part{b}.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers that is bounded above [tc_1].\n\u2022 Property (a) for a real number \u03b2 and a set S is defined as: \u2200x \u2208 S, x \u2264 \u03b2 [def_1].\n\u2022 Property (b) for a real number \u03b2 and a set S is defined as: \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S such that x\u2080 > \u03b2 - \u03b5 [def_2].\n\u2022 Let \u03b2 = sup S. Then \u03b2 satisfies property (a) [l1].\n\u2022 \u03b2 = sup S also satisfies property (b) [l2].\n\u2022 The assumption of two distinct numbers \u03b2\u2081 < \u03b2\u2082 satisfying the properties [def_3] leads to the conclusion that \u03b2\u2081 cannot satisfy property (a) [l4].\nTherefore, we conclude:\n\u2022 Any real number \u03b2 that satisfies both properties (a) and (b) for set S must be unique [ts_1].", "dependencies": ["tc_1", "def_1", "def_2", "l1", "l2", "def_3", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1_prop : \u2200 (\u03b2 : \u211d), Prop)\n  (def_2_prop : \u2200 (\u03b2 : \u211d), Prop)\n  (def_1_statement : \u2200 (\u03b2 : \u211d), def_1_prop \u03b2 \u2192 (\u2200 x \u2208 S, x \u2264 \u03b2))\n  (def_2_statement : \u2200 (\u03b2 : \u211d), def_2_prop \u03b2 \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5))\n  (l1 : def_1_prop (sSup S))\n  (l2 : def_2_prop (sSup S))\n  (l4 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u03b2\u2081 < \u03b2\u2082 \u2227 def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081 \u2227 def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082) \u2192 \u00acdef_1_prop \u03b2\u2081) :\n  \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081) \u2192 (def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082) \u2192 \u03b2\u2081 = \u03b2\u2082 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (S : Set \u211d)\n  (tc_1 : S.Nonempty \u2227 BddAbove S)\n  (def_1_prop : \u2200 (\u03b2 : \u211d), Prop)\n  (def_2_prop : \u2200 (\u03b2 : \u211d), Prop)\n  (def_1_statement : \u2200 (\u03b2 : \u211d), def_1_prop \u03b2 \u2192 (\u2200 x \u2208 S, x \u2264 \u03b2))\n  (def_2_statement : \u2200 (\u03b2 : \u211d), def_2_prop \u03b2 \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5))\n  (l1 : def_1_prop (sSup S))\n  (l2 : def_2_prop (sSup S))\n  (l4 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u03b2\u2081 < \u03b2\u2082 \u2227 def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081 \u2227 def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082) \u2192 \u00acdef_1_prop \u03b2\u2081) :\n  \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (def_1_prop \u03b2\u2081 \u2227 def_2_prop \u03b2\u2081) \u2192 (def_1_prop \u03b2\u2082 \u2227 def_2_prop \u03b2\u2082) \u2192 \u03b2\u2081 = \u03b2\u2082 := by\n  intro \u03b2\u2081 \u03b2\u2082 h\u2081 h\u2082\n  by_contra h_ne\n  cases' Ne.lt_or_lt h_ne with h_lt h_gt\n  \u00b7 exact l4 \u03b2\u2081 \u03b2\u2082 \u27e8h_lt, h\u2081.1, h\u2081.2, h\u2082.1, h\u2082.2\u27e9 h\u2081.1\n  \u00b7 exact l4 \u03b2\u2082 \u03b2\u2081 \u27e8h_gt, h\u2082.1, h\u2082.2, h\u2081.1, h\u2081.2\u27e9 h\u2082.1", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The premise l4 contains a logical contradiction by assuming def_1_prop \u03b2\u2081 in the antecedent while concluding \u00acdef_1_prop \u03b2\u2081. This makes the premise vacuously true rather than capturing the intended proof by contradiction. The natural language suggests that assuming two distinct numbers both satisfy properties (a) and (b) leads to a contradiction, but l4 encodes this as an internally inconsistent statement rather than properly modeling the contradiction that arises from the distinctness assumption."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The premise l4 contains a logical contradiction by assuming def_1_prop \u03b2\u2081 in the antecedent while concluding \u00acdef_1_prop \u03b2\u2081. This makes the premise vacuously true rather than capturing the intended proof by contradiction. The natural language suggests that assuming two distinct numbers both satisfy properties (a) and (b) leads to a contradiction, but l4 encodes this as an internally inconsistent statement rather than properly modeling the contradiction that arises from the distinctness assumption.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_3", "label": "def_3", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    