
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Suppose that  $u_1,$ $u_2,$ \dots$,$ $u_n$ and $v_1,$ $v_2,$ \dots$,$ $v_n$
are nonnegative  numbers and $p>1.$ Then
\begin{equation} \label{eq:8.1.8}
\left(\sum_{i=1}^n(u_i+v_i)^p\right)^{1/p}
\le\left(\sum_{i=1}^n u_i^p\right)^{1/p}
+\left(\sum_{i=1}^n v_i^p\right)^{1/p}.
\end{equation}

Proof: Again, let $q=p/(p-1)$. We write
\begin{equation} \label{eq:8.1.9}
\sum_{i=1}^n(u_i+v_i)^p=\sum_{i=1}^n u_i(u_i+v_i)^{p-1}
+\sum_{i=1}^n v_i(u_i+v_i)^{p-1}.
\end{equation}
From H\"older's inequality with $\mu_i=u_i$ and
$
u_i=(u_i+v_i)^{p-1}$,
\begin{equation} \label{eq:8.1.10}
\sum_{i=1}^n u_i(u_i+v_i)^{p-1}\le
\left(\sum_{i=1}^n u_i^p\right)^{1/p}
\left(\sum_{i=1}^n(u_i+v_i)^p\right)^{1/q},
\end{equation}
since $q(p-1)=p$. Similarly,
$$
\sum_{i=1}^n v_i(u_i+v_i)^{p-1}\le
\left(\sum_{i=1}^n v_i^p\right)^{1/p}
\left(\sum_{i=1}^n(u_i+v_i)^p\right)^{1/q}.
$$
This, \eqref{eq:8.1.9}, and \eqref{eq:8.1.10} imply that
$$
\sum_{i=1}^n(u_i+v_i)^p
\le\left[\left(\sum_{i=1}^n u_i^p\right)^{1/p}
+\left(\sum_{i=1}^n v_i^p\right)^{1/p}\right]
\left(\sum_{i=1}^n(u_i+v_i)^p\right)^{1/q}.
$$

ewpage

oindent
Since $1-1/q=1/p$, this implies \eqref{eq:8.1.8}, which is
known as {\it Minkowski's inequality\/}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Suppose that u_1, u_2, ..., u_n and v_1, v_2, ..., v_n are nonnegative numbers", "statement": "Premise:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (u_nonneg : \u2200 i, 0 \u2264 u i)\n  (v_nonneg : \u2200 i, 0 \u2264 v i)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration (n : \u2115) perfectly matches the condition n \u2208 \u2115", "The Lean type (u v : Fin n \u2192 \u211d) correctly represents sequences of real numbers indexed from 1 to n. Fin n in Lean represents {0, 1, ..., n-1}, but when used for sequences it effectively captures the same mathematical concept as (u_i)_{i=1..n}", "The same Lean declaration covers both sequences u and v, which is equivalent to having separate declarations for each sequence", "The Lean constraint (u_nonneg : \u2200 i, 0 \u2264 u i) perfectly captures u_i \u2265 0 for all i \u2208 {1, 2, ..., n}", "The Lean constraint (v_nonneg : \u2200 i, 0 \u2264 v i) perfectly captures v_i \u2265 0 for all i \u2208 {1, 2, ..., n}"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "and p>1.", "statement": "Premise:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (u_nonneg : \u2200 i, 0 \u2264 u i)\n  (v_nonneg : \u2200 i, 0 \u2264 v i)\n  (p : \u211d)\n  (tc_2 : p > 1)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.6, "semantic_feedback": ["The natural language condition 'n \u2208 \u2115' directly corresponds to Lean's '(n : \u2115)'", "The natural language describes '(u_i)_{i=1..n} is a sequence of non-negative real numbers' while Lean splits this into '(u : Fin n \u2192 \u211d)' and '(u_nonneg : \u2200 i, 0 \u2264 u i)'. The indexing is slightly different - natural language uses i=1..n while Lean uses Fin n (which is 0..n-1), but both represent sequences of length n with non-negative real values", "Similar to u, the natural language describes '(v_i)_{i=1..n} is a sequence of non-negative real numbers' while Lean splits this into the type declaration and separate non-negativity constraint. Same indexing difference as with u", "The natural language condition 'p is a real number' directly corresponds to Lean's '(p : \u211d)'", "The natural language condition 'p > 1' directly corresponds to Lean's '(tc_2 : p > 1)'"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.6, below threshold 0.6.\nScorer feedback: [\"The natural language condition 'n \u2208 \u2115' directly corresponds to Lean's '(n : \u2115)'\", \"The natural language describes '(u_i)_{i=1..n} is a sequence of non-negative real numbers' while Lean splits this into '(u : Fin n \u2192 \u211d)' and '(u_nonneg : \u2200 i, 0 \u2264 u i)'. The indexing is slightly different - natural language uses i=1..n while Lean uses Fin n (which is 0..n-1), but both represent sequences of length n with non-negative real values\", \"Similar to u, the natural language describes '(v_i)_{i=1..n} is a sequence of non-negative real numbers' while Lean splits this into the type declaration and separate non-negativity constraint. Same indexing difference as with u\", \"The natural language condition 'p is a real number' directly corresponds to Lean's '(p : \u211d)'\", \"The natural language condition 'p > 1' directly corresponds to Lean's '(tc_2 : p > 1)'\"]"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Again, let q=p/(p-1).", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\nDefinition:\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (u_nonneg : \u2200 i, 0 \u2264 u i)\n  (v_nonneg : \u2200 i, 0 \u2264 v i)\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.67, "semantic_feedback": ["The natural language describes sequences (u_i)_{i=1..n} and (v_i)_{i=1..n}, which suggests indexing from 1 to n. The Lean formalization uses Fin n \u2192 \u211d, which indexes from 0 to n-1. While both represent sequences of length n with non-negative real values, the indexing convention differs slightly.", "Both the natural language and Lean declare p as a real number with the constraint p > 1. This is a perfect match.", "Both define q as p / (p - 1). The natural language presents this as a conclusion/definition, while Lean treats it as a constraint, but the mathematical content is identical."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "We write\n\\begin{equation} \n\\sum_{i=1}^n(u_i+v_i)^p=\\sum_{i=1}^n u_i(u_i+v_i)^{p-1}\n+\\sum_{i=1}^n v_i(u_i+v_i)^{p-1}.\n\\end{equation}", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\nTherefore, we conclude:\n\u2022 \u2211_{i=1..n} (u_i + v_i)^p = \u2211_{i=1..n} u_i(u_i + v_i)^(p-1) + \u2211_{i=1..n} v_i(u_i + v_i)^(p-1) [l1].", "dependencies": ["tc_1", "tc_2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (q : \u211d)\n  (def_1 : q = p / (p - 1)) :\n  \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (q : \u211d)\n  (def_1 : q = p / (p - 1)) :\n  \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) := by\n  simp only [add_pow, add_mul]\n  rw [Finset.sum_add_distrib]\n  rfl", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 14, "column": 2, "endLine": 14, "endColumn": 30, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The variable declarations correctly capture sequences of non-negative real numbers indexed from 1 to n using Fin n \u2192 \u211d with explicit non-negativity constraints", "The constraint p > 1 is exactly preserved in the Lean formalization", "The definition q = p / (p - 1) is identically represented in both versions", "The main equation is mathematically identical, with Lean's summation notation being the direct equivalent of the mathematical notation", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1 :\n  \u00ac (\u2200 (n : \u2115) (u v : Fin n \u2192 \u211d) (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i)) (p : \u211d) (tc_2 : p > 1) (q : \u211d) (def_1 : q = p / (p - 1)),\n  \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) := by\n  intro h\n  let n := 1\n  let u : Fin n \u2192 \u211d := fun _ => 1\n  let v : Fin n \u2192 \u211d := fun _ => 1\n  let p : \u211d := 2\n  have tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i) := by simp [u, v]\n  have tc_2 : p > 1 := by norm_num\n  have def_1 : p / (p - 1) = p / (p - 1) := by rfl\n  specialize h n u v tc_1 p tc_2 (p / (p - 1)) def_1\n  simp [u, v, p] at h\n  norm_num at h"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "since q(p-1)=p.", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 \u2211_{i=1..n} (u_i + v_i)^p = \u2211_{i=1..n} u_i(u_i + v_i)^(p-1) + \u2211_{i=1..n} v_i(u_i + v_i)^(p-1) [l1].\nTherefore, we conclude:\n\u2022 q * (p - 1) = p [l2].", "dependencies": ["tc_1", "tc_2", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (q : \u211d)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) :\n  q * (p - 1) = p := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (q : \u211d)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) :\n  q * (p - 1) = p := by\n  rw [def_1]\n  field_simp [ne_of_gt (sub_pos.mpr tc_2)]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 2, "endLine": 17, "endColumn": 6, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The sequences and non-negativity constraints are correctly formalized using Fin n \u2192 \u211d and universal quantification over the constraint conditions.", "The constraint p > 1 is exactly preserved in the Lean formalization.", "The definition q = p / (p - 1) is identically represented in both versions.", "The sum equation is correctly translated to Lean syntax with proper summation notation and mathematical operations.", "The conclusion q * (p - 1) = p is exactly the same in both natural language and Lean formalization.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (p : \u211d)\n  (tc_2 : p > 1)\n  (q : \u211d)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) :\n  \u00ac (q * (p - 1) = p) := by\n  intro h\n  rw [def_1] at h\n  field_simp [tc_2.ne', (sub_pos.mpr tc_2).ne'] at h\n  linear_combination h"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "From H\"older's inequality with $\\mu_i=u_i$ and\n$\\nu_i=(u_i+v_i)^{p-1}$,\n\\begin{equation} \n\\sum_{i=1}^n u_i(u_i+v_i)^{p-1}\\le\n\\left(\\sum_{i=1}^n u_i^p\\right)^{1/p}\n\\left(\\sum_{i=1}^n(u_i+v_i)^p\\right)^{1/q},\n\\end{equation}\nsince $q(p-1)=p$.", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 \u2211_{i=1..n} (u_i + v_i)^p = \u2211_{i=1..n} u_i(u_i + v_i)^(p-1) + \u2211_{i=1..n} v_i(u_i + v_i)^(p-1) [l1].\n\u2022 q * (p - 1) = p [l2].\nTherefore, we conclude:\n\u2022 \u2211_{i=1..n} u_i(u_i+v_i)^(p-1) \u2264 (\u2211_{i=1..n} u_i^p)^(1/p) * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l3].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p) :\n  (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p) :\n  (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  have hp : p \u2260 0 := by linarith\n  have hpq : p - 1 \u2260 0 := by linarith\n  have hq : q \u2260 0 := by rw [def_1]; field_simp; linarith\n  have hq_pos : q > 0 := by rw [def_1]; apply div_pos (by linarith) (by linarith)\n  have hp_pos : p > 0 := by linarith\n  have hpq_pos : p - 1 > 0 := by linarith\n  have h_conj : 1 / p + 1 / q = 1 := by\n    rw [def_1, \u2190 l2]\n    field_simp [hpq]\n    ring\n  have h_sum_pos : 0 \u2264 \u2211 i, u i ^ p := by\n    apply Finset.sum_nonneg\n    intro i _\n    exact Real.rpow_nonneg (tc_1.1 i) p\n  have h_sum_pos' : 0 \u2264 \u2211 i, (u i + v i) ^ p := by\n    apply Finset.sum_nonneg\n    intro i _\n    exact Real.rpow_nonneg (add_nonneg (tc_1.1 i) (tc_1.2 i)) p\n  simp_rw [\u2190 mul_assoc, \u2190 Real.rpow_add (tc_1.1 _)]\n  conv_rhs => \n    rw [\u2190 Real.rpow_one (\u2211 i, u i ^ p), \u2190 Real.rpow_one (\u2211 i, (u i + v i) ^ p)]\n    rw [\u2190 Real.rpow_add h_sum_pos, \u2190 Real.rpow_add h_sum_pos']\n  refine Real.inner_le_Lp_mul_Lq n (fun i => u i) (fun i => (u i + v i)^(p-1)) h_conj ?_ ?_\n  \u00b7 intro i\n    exact mul_nonneg (tc_1.1 i) (Real.rpow_nonneg (add_nonneg (tc_1.1 i) (tc_1.2 i)) _)\n  \u00b7 intro i\n    exact Real.rpow_nonneg (tc_1.1 i) _", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 24, "column": 4, "endLine": 24, "endColumn": 8, "data": "no goals to be solved"}, {"line": 33, "column": 11, "endLine": 33, "endColumn": 22, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The sequence definitions are correctly formalized using Fin n \u2192 \u211d which is the standard Lean representation for finite sequences. The non-negativity constraints are properly captured.", "The constraint p > 1 is exactly preserved in the Lean formalization.", "The definition q = p / (p - 1) is exactly preserved in the Lean formalization.", "The sum decomposition identity l1 is correctly formalized with equivalent mathematical meaning, using Lean's standard notation for sums and multiplication.", "The equation l2: q * (p - 1) = p is exactly preserved in the Lean formalization.", "The H\u00f6lder-type inequality conclusion l3 is correctly formalized with equivalent mathematical meaning, preserving all the structural components of the inequality.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3 :\n  \u2203 (n : \u2115) (u v : Fin n \u2192 \u211d) (p q : \u211d),\n    (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i) \u2227\n    p > 1 \u2227\n    q = p / (p - 1) \u2227\n    (\u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) \u2227\n    q * (p - 1) = p \u2227\n    \u00ac (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  let n := 1\n  let u : Fin n \u2192 \u211d := fun _ => 1\n  let v : Fin n \u2192 \u211d := fun _ => 1\n  let p : \u211d := 2\n  let q : \u211d := p / (p - 1)\n  refine \u27e8n, u, v, p, q, ?_, ?_, ?_, ?_, ?_, ?_, ?_\u27e9\n  \u00b7 simp [u, v]\n  \u00b7 simp [u, v]\n  \u00b7 norm_num\n  \u00b7 rfl\n  \u00b7 simp [u, v, Fin.sum_univ_succ, Fin.default_eq_zero]; ring\n  \u00b7 simp [q]; field_simp; ring\n  \u00b7 simp [u, v, Fin.sum_univ_succ, Fin.default_eq_zero]\n    norm_num\n    field_simp [q]\n    norm_num"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Similarly,\n$$\n\\sum_{i=1}^n v_i(u_i+v_i)^{p-1}\\le\n\\left(\\sum_{i=1}^n v_i^p\\right)^{1/p}\n\\left(\\sum_{i=1}^n(u_i+v_i)^p\\right)^{1/q}.\n$$", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 \u2211_{i=1..n} (u_i + v_i)^p = \u2211_{i=1..n} u_i(u_i + v_i)^(p-1) + \u2211_{i=1..n} v_i(u_i + v_i)^(p-1) [l1].\n\u2022 q * (p - 1) = p [l2].\n\u2022 \u2211_{i=1..n} u_i(u_i+v_i)^(p-1) \u2264 (\u2211_{i=1..n} u_i^p)^(1/p) * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l3].\nTherefore, we conclude:\n\u2022 \u2211_{i=1..n} v_i(u_i+v_i)^(p-1) \u2264 (\u2211_{i=1..n} v_i^p)^(1/p) * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l4].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) :\n  (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) :\n  (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  have hpq : 1 / p + (p - 1) / p = 1 := by\n    rw [\u2190 add_div, sub_add_cancel, div_self (ne_of_gt tc_2)]\n  have hq : q = p / (p - 1) := def_1\n  rw [hq, div_div, \u2190 hpq]\n  rw [\u2190 l1, add_comm, add_sub_cancel]\n  refine le_trans (sub_le_self _ ?_) l3\n  exact mul_nonneg (sum_nonneg fun i _ \u21a6 mul_nonneg (tc_1.2 i) (pow_nonneg (add_nonneg (tc_1.1 i) (tc_1.2 i)) _)) (sum_nonneg fun i _ \u21a6 pow_nonneg (add_nonneg (tc_1.1 i) (tc_1.2 i)) _)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 8, "endLine": 17, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.4509 / ?m.4511 + ?m.4510 / ?m.4511 + if ?m.4511 \u2264 ?m.4509 % ?m.4511 + ?m.4510 % ?m.4511 then 1 else 0\nn : \u2115\nu v : Fin n \u2192 \u211d\np q : \u211d\ntc_1 : (\u2200 (i : Fin n), 0 \u2264 u i) \u2227 \u2200 (i : Fin n), 0 \u2264 v i\ntc_2 : p > 1\ndef_1 : q = p / (p - 1)\nl1 : \u2211 i : Fin n, (u i + v i) ^ p = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)\nl2 : q * (p - 1) = p\nl3 :\n  \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\n\u22a2 1 / p + (p - 1) / p = 1"}, {"line": 19, "column": 10, "endLine": 19, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a / ?b / ?c\nn : \u2115\nu v : Fin n \u2192 \u211d\np q : \u211d\ntc_1 : (\u2200 (i : Fin n), 0 \u2264 u i) \u2227 \u2200 (i : Fin n), 0 \u2264 v i\ntc_2 : p > 1\ndef_1 : q = p / (p - 1)\nl1 : \u2211 i : Fin n, (u i + v i) ^ p = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)\nl2 : q * (p - 1) = p\nl3 :\n  \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nhpq : 1 / p + (p - 1) / p = 1\nhq : q = p / (p - 1)\n\u22a2 \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1) \u2264\n    (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / (p / (p - 1)))"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture sequences of non-negative reals using Lean's function type notation", "Parameter constraint p > 1 is exactly preserved", "Definition of q is identical in both versions", "Equation l1 correctly translates the sum decomposition using Lean's BigOperators notation", "Equation l2 is exactly the same in both versions", "Inequality l3 perfectly captures the H\u00f6lder-type inequality assumption", "The conclusion l4 is correctly stated as the lemma goal with identical mathematical content", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4 :\n  \u2203 (n : \u2115) (u v : Fin n \u2192 \u211d) (p q : \u211d),\n    (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i) \u2227\n    p > 1 \u2227\n    q = p / (p - 1) \u2227\n    (\u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) \u2227\n    q * (p - 1) = p \u2227\n    (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) \u2227\n    \u00ac (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  let n := 1\n  let u : Fin n \u2192 \u211d := fun _ => 1\n  let v : Fin n \u2192 \u211d := fun _ => 1\n  let p := 2\n  let q := 2\n  refine \u27e8n, u, v, p, q, ?_, ?_, ?_, ?_, ?_, ?_, ?_\u27e9\n  \u00b7 simp [u, v]\n  \u00b7 simp [u, v]\n  \u00b7 norm_num\n  \u00b7 norm_num\n  \u00b7 simp [u, v]; norm_num\n  \u00b7 norm_num\n  \u00b7 simp [u, v]; norm_num\n  \u00b7 simp [u, v]; norm_num"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "This, \\eqref{eq:8.1.9}, and \\eqref{eq:8.1.10} imply that\n$$\n\\sum_{i=1}^n(u_i+v_i)^p\n\\le\\left[\\left(\\sum_{i=1}^n u_i^p\\right)^{1/p}\n+\\left(\\sum_{i=1}^n v_i^p\\right)^{1/p}\\right]\n\\left(\\sum_{i=1}^n(u_i+v_i)^p\\right)^{1/q}.\n$$", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 \u2211_{i=1..n} (u_i + v_i)^p = \u2211_{i=1..n} u_i(u_i + v_i)^(p-1) + \u2211_{i=1..n} v_i(u_i + v_i)^(p-1) [l1].\n\u2022 q * (p - 1) = p [l2].\n\u2022 \u2211_{i=1..n} u_i(u_i+v_i)^(p-1) \u2264 (\u2211_{i=1..n} u_i^p)^(1/p) * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l3].\n\u2022 \u2211_{i=1..n} v_i(u_i+v_i)^(p-1) \u2264 (\u2211_{i=1..n} v_i^p)^(1/p) * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l4].\nTherefore, we conclude:\n\u2022 \u2211_{i=1..n} (u_i+v_i)^p \u2264 [ (\u2211_{i=1..n} u_i^p)^(1/p) + (\u2211_{i=1..n} v_i^p)^(1/p) ] * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l5].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l4 : (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) :\n  (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l4 : (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) :\n  (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  rw [l1]\n  let S := \u2211 i : Fin n, (u i + v i) ^ p\n  have hS : S = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1) := by rw [\u2190l1]\n  trans (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))\n  \u00b7 rfl\n  \u00b7 trans ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) * S ^ (1 / q)) + ((\u2211 i : Fin n, v i ^ p) ^ (1 / p) * S ^ (1 / q))\n    \u00b7 gcongr\n      \u00b7 exact l3\n      \u00b7 exact l4\n    \u00b7 rw [\u2190 add_mul, hS]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 24, "column": 6, "endLine": 24, "endColumn": 16, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all components of the natural language statement. The use of Fin n \u2192 \u211d for sequences is the standard Lean representation and is mathematically equivalent to sequences indexed from 1 to n. All constraints (non-negativity, p > 1), definitions (q = p/(p-1)), intermediate lemmas (l1-l4), and the final conclusion (l5) are accurately formalized. The mathematical content and logical structure are preserved completely.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l5\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l4 : (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) :\n  \u00ac (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q) := by\n  intro h\n  let S := \u2211 i : Fin n, (u i + v i) ^ p\n  have hS : S > 0 \u2228 S = 0 := by\n    refine lt_or_eq_of_le ?_\n    exact sum_nonneg (fun i \u21a6 by simp [pow_nonneg (by linarith [tc_1.1 i, tc_1.2 i])])\n  cases' hS with hS hS\n  \u00b7 have h' : S \u2264 (S ^ (1 / p))\u207b\u00b9 * ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * S := by\n      rw [\u2190 mul_assoc, \u2190 rpow_neg_one S, neg_eq_iff_eq_neg.mp (show -1 = -(1 / p) - (1 / q) by\n        rw [def_1, div_eq_mul_inv, \u2190 neg_add', \u2190 add_div, div_self (sub_pos.mpr tc_2), div_one])]\n      rw [\u2190 rpow_add hS, add_comm, rpow_add hS]\n      simp only [rpow_one, mul_assoc]\n      exact h\n    simp only [inv_mul_eq_iff_eq_mul\u2080 (ne_of_gt (rpow_pos_of_pos hS (1 / p))), mul_right_comm _ _ S] at h'\n    rw [\u2190 mul_assoc, mul_comm _ S, mul_assoc] at h'\n    nth_rw 2 [\u2190 one_mul S] at h'\n    rw [\u2190 mul_add, mul_le_mul_left hS] at h'\n    have := le_antisymm h' (by linarith [l3, l4, l1])\n    linarith\n  \u00b7 have hu : \u2200 i, u i = 0 := by\n      intro i\n      have := tc_1.1 i\n      simp [pow_eq_zero_iff (by linarith), this] at hS\n      exact this\n    have hv : \u2200 i, v i = 0 := by\n      intro i\n      have := tc_1.2 i\n      simp [pow_eq_zero_iff (by linarith), this] at hS\n      exact this\n    simp [hu, hv, hS] at h\n    linarith"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "Since $1-1/q=1/p$", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 [...] \n\u2022 \u2211_{i=1..n} (u_i+v_i)^p \u2264 [ (\u2211_{i=1..n} u_i^p)^(1/p) + (\u2211_{i=1..n} v_i^p)^(1/p) ] * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l5].\nTherefore, we conclude:\n\u2022 1 - 1/q = 1/p [l6].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (p q : \u211d)\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1)) :\n  1 - 1 / q = 1 / p := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (p q : \u211d)\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1)) :\n  1 - 1 / q = 1 / p := by\n  rw [def_1]\n  have h : p \u2260 0 := by linarith [tc_2]\n  field_simp [h]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 2, "endLine": 13, "endColumn": 6, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the final conclusion (1 - 1/q = 1/p) and the essential conditions on p and q, but it completely omits the mathematical context that leads to this conclusion. The natural language describes sequences (u_i) and (v_i), a parameter n, and an inequality l5 that appears to be part of the logical development. These components are entirely missing from the Lean formalization, making it an incomplete representation of the stated mathematical premise.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures the final conclusion (1 - 1/q = 1/p) and the essential conditions on p and q, but it completely omits the mathematical context that leads to this conclusion. The natural language describes sequences (u_i) and (v_i), a parameter n, and an inequality l5 that appears to be part of the logical development. These components are entirely missing from the Lean formalization, making it an incomplete representation of the stated mathematical premise.']"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Since $1-1/q=1/p$, this implies \\eqref{eq:8.1.8}, which is\nknown as {\\it Minkowski's inequality\\/}.", "statement": "We assume:\n\u2022 For n \u2208 \u2115, let (u_i)_{i=1..n} and (v_i)_{i=1..n} be sequences of non-negative real numbers [tc_1].\n\u2022 Let p be a real number such that p > 1 [tc_2].\n\u2022 Let q be a real number such that q = p / (p - 1) [def_1].\n\u2022 [...] \n\u2022 \u2211_{i=1..n} (u_i+v_i)^p \u2264 [ (\u2211_{i=1..n} u_i^p)^(1/p) + (\u2211_{i=1..n} v_i^p)^(1/p) ] * (\u2211_{i=1..n} (u_i+v_i)^p)^(1/q) [l5].\n\u2022 1 - 1/q = 1/p [l6].\nTherefore, we conclude:\n\u2022 (\u2211_{i=1..n} (u_i+v_i)^p)^(1/p) \u2264 (\u2211_{i=1..n} u_i^p)^(1/p) + (\u2211_{i=1..n} v_i^p)^(1/p) [ts_1].", "dependencies": ["tc_1", "tc_2", "def_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l4 : (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l5 : (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l6 : 1 - 1 / q = 1 / p) :\n  (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / p) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (n : \u2115)\n  (u v : Fin n \u2192 \u211d)\n  (p q : \u211d)\n  (tc_1 : (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i))\n  (tc_2 : p > 1)\n  (def_1 : q = p / (p - 1))\n  (l1 : \u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)))\n  (l2 : q * (p - 1) = p)\n  (l3 : (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l4 : (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l5 : (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q))\n  (l6 : 1 - 1 / q = 1 / p) :\n  (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / p) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p) := by\n  have hp : p \u2260 0 := by linarith [tc_2]\n  have hq : q \u2260 0 := by rw [def_1]; field_simp; linarith [tc_2]\n  have hpq : 1 / p + 1 / q = 1 := by rw [\u2190 l6]; ring\n  by_cases h : \u2211 i : Fin n, (u i + v i) ^ p = 0\n  \u00b7 simp [h, tc_1]\n  have hpos : 0 < \u2211 i : Fin n, (u i + v i) ^ p := by\n    apply lt_of_le_of_ne (Finset.sum_nonneg (fun i _ => by apply Real.rpow_nonneg (add_nonneg (tc_1.1 i) (tc_1.2 i)))) (Ne.symm h)\n  rw [\u2190 mul_le_mul_iff_of_pos_right hpos, \u2190 Real.rpow_add hpos, hpq, Real.rpow_one]\n  exact l5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 20, "column": 48, "endLine": 20, "endColumn": 63, "data": "linarith failed to find a contradiction\nn : \u2115\nu v : Fin n \u2192 \u211d\np q : \u211d\ntc_1 : (\u2200 (i : Fin n), 0 \u2264 u i) \u2227 \u2200 (i : Fin n), 0 \u2264 v i\ntc_2 : p > 1\ndef_1 : q = p / (p - 1)\nl1 : \u2211 i : Fin n, (u i + v i) ^ p = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)\nl2 : q * (p - 1) = p\nl3 :\n  \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl4 :\n  \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl5 :\n  \u2211 i : Fin n, (u i + v i) ^ p \u2264\n    ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl6 : 1 - 1 / q = 1 / p\nhp : p \u2260 0\n\u22a2 False failed"}, {"line": 23, "column": 2, "endLine": 23, "endColumn": 18, "data": "unsolved goals\ncase pos\nn : \u2115\nu v : Fin n \u2192 \u211d\np q : \u211d\ntc_1 : (\u2200 (i : Fin n), 0 \u2264 u i) \u2227 \u2200 (i : Fin n), 0 \u2264 v i\ntc_2 : p > 1\ndef_1 : q = p / (p - 1)\nl1 : \u2211 i : Fin n, (u i + v i) ^ p = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)\nl2 : q * (p - 1) = p\nl3 :\n  \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl4 :\n  \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl5 :\n  \u2211 i : Fin n, (u i + v i) ^ p \u2264\n    ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl6 : 1 - 1 / q = 1 / p\nhp : p \u2260 0\nhq : q \u2260 0\nhpq : 1 / p + 1 / q = 1\nh : \u2211 i : Fin n, (u i + v i) ^ p = 0\n\u22a2 0 ^ p\u207b\u00b9 \u2264 (\u2211 i : Fin n, u i ^ p) ^ p\u207b\u00b9 + (\u2211 i : Fin n, v i ^ p) ^ p\u207b\u00b9"}, {"line": 26, "column": 42, "endLine": 26, "endColumn": 62, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (\u2211 i : Fin n, (u i + v i) ^ p) ^ ?y * (\u2211 i : Fin n, (u i + v i) ^ p) ^ ?z\ncase neg\nn : \u2115\nu v : Fin n \u2192 \u211d\np q : \u211d\ntc_1 : (\u2200 (i : Fin n), 0 \u2264 u i) \u2227 \u2200 (i : Fin n), 0 \u2264 v i\ntc_2 : p > 1\ndef_1 : q = p / (p - 1)\nl1 : \u2211 i : Fin n, (u i + v i) ^ p = \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) + \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)\nl2 : q * (p - 1) = p\nl3 :\n  \u2211 i : Fin n, u i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl4 :\n  \u2211 i : Fin n, v i * (u i + v i) ^ (p - 1) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl5 :\n  \u2211 i : Fin n, (u i + v i) ^ p \u2264\n    ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)\nl6 : 1 - 1 / q = 1 / p\nhp : p \u2260 0\nhq : q \u2260 0\nhpq : 1 / p + 1 / q = 1\nh : \u00ac\u2211 i : Fin n, (u i + v i) ^ p = 0\nhpos : 0 < \u2211 i : Fin n, (u i + v i) ^ p\n\u22a2 (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / p) * \u2211 i : Fin n, (u i + v i) ^ p \u2264\n    ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * \u2211 i : Fin n, (u i + v i) ^ p"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture the natural language specification. The use of Fin n \u2192 \u211d appropriately represents sequences indexed from 1 to n, and the non-negativity constraints are properly formalized.", "The constraint p > 1 is correctly represented in both type declaration and constraint.", "The definition q = p / (p - 1) is exactly preserved in the Lean formalization.", "The inequality l5 is correctly formalized with proper Lean syntax for summations and exponentiation, maintaining the exact mathematical meaning.", "The relationship 1 - 1/q = 1/p is precisely captured.", "The conclusion statement perfectly matches the natural language goal, representing the Minkowski inequality correctly.", "The additional premises (l1, l2, l3, l4) in Lean are logically consistent intermediate steps that don't contradict the natural language but provide the necessary foundation for the proof. This is acceptable as extra detail that supports the main logical structure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1 :\n  \u2203 (n : \u2115) (u v : Fin n \u2192 \u211d) (p q : \u211d),\n    (\u2200 i, 0 \u2264 u i) \u2227 (\u2200 i, 0 \u2264 v i) \u2227\n    p > 1 \u2227\n    q = p / (p - 1) \u2227\n    (\u2211 i : Fin n, (u i + v i) ^ p = (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) + (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1))) \u2227\n    q * (p - 1) = p \u2227\n    (\u2211 i : Fin n, u i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) \u2227\n    (\u2211 i : Fin n, v i * (u i + v i) ^ (p - 1)) \u2264 (\u2211 i : Fin n, v i ^ p) ^ (1 / p) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) \u2227\n    (\u2211 i : Fin n, (u i + v i) ^ p) \u2264 ((\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p)) * (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / q)) \u2227\n    (1 - 1 / q = 1 / p) \u2227\n    \u00ac (\u2211 i : Fin n, (u i + v i) ^ p) ^ (1 / p) \u2264 (\u2211 i : Fin n, u i ^ p) ^ (1 / p) + (\u2211 i : Fin n, v i ^ p) ^ (1 / p) := by\n  use 1, (fun _ => 1), (fun _ => 1), 2, 2\n  simp [Fin.sum_univ_one]\n  norm_num"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    