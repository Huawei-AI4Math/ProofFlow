
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all $a, b \\in \\mathbb{R}^{+}$, the following inequality holds: $4(a^3 + b^3) \\geq (a + b)^3$.

Proof: Expand $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$. Then $4(a^3+b^3) - (a+b)^3 = 4a^3+4b^3 - (a^3+3a^2b+3ab^2+b^3) = 3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3 = (a^2 - b^2)(a-b) = (a-b)^2(a+b) \geq 0$. Since $a+b>0$ and $(a-b)^2\ge 0$ for all positive $a,b$, the inequality holds: $4(a^3+b^3) \ge (a+b)^3$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "for all $a, b \\in \\mathbb{R}^{+}$", "statement": "Premise:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b : \u211d)\n(tc_1 : 0 < a \u2227 0 < b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a and b are positive real numbers through the variable declaration and the constraint tc_1", "The condition 0 < a in Lean is equivalent to a > 0 in the natural language", "The condition 0 < b in Lean is equivalent to b > 0 in the natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Expand $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$.", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1].\nTherefore, we conclude:\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b) :\n  (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b) :\n  (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3 := by\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable types and positivity constraints are correctly translated from natural language to Lean, with real number types and the conjunction expressing both a > 0 and b > 0.", "The algebraic identity is perfectly transcribed with correct operator precedence and explicit multiplication symbols.", "The logical structure correctly represents the natural language's presentation of assumptions leading to a conclusion, even though mathematically the positivity assumption is unnecessary for this identity."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Then $4(a^3+b^3) - (a+b)^3 = 4a^3+4b^3 - (a^3+3a^2b+3ab^2+b^3) = 3a^3 - 3a^2b - 3ab^2 + 3b^3", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1].\nTherefore, we conclude:\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3) :\n  4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3) :\n  4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 := by\n  rw [l1]\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable types and positivity constraints are correctly formalized. The Lean code appropriately declares a and b as real numbers and constrains them to be positive using the condition 0 < a \u2227 0 < b.", "The binomial expansion assumption l1 is perfectly translated from natural language to Lean syntax, maintaining exact mathematical equivalence.", "The conclusion statement l2 is accurately formalized with proper Lean syntax while preserving the complete mathematical meaning.", "The overall logical structure correctly captures the theorem format with assumptions leading to a conclusion, and the mathematical content is verified to be correct."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "$3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2].\nTherefore, we conclude:\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3) :\n  3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3) :\n  3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 := by\n  rw [\u2190l2]\n  simp only [mul_sub, sub_mul, one_mul, sub_add, sub_sub, mul_one]\n  ring_nf\n  simp only [mul_sub, sub_mul, one_mul, sub_add, sub_sub, mul_one]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 99, "endLine": 15, "endColumn": 6, "data": "unsolved goals\na b : \u211d\ntc_1 : 0 < a \u2227 0 < b\nl1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3\nl2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3\n\u22a2 -(a * b ^ 2 * 3) - a ^ 2 * b * 3 + a ^ 3 * 3 + b ^ 3 * 3 = -(a * b ^ 2) - a ^ 2 * b + a ^ 3 + b ^ 3"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly captured with appropriate Lean syntax", "The binomial expansion formula l1 is exactly translated with proper operator precedence", "The algebraic identity l2 is perfectly formalized with all terms and operations correctly represented", "The conclusion l3 is properly stated as the lemma's goal with exact mathematical correspondence", "The logical flow from assumptions to conclusion is correctly structured as a Lean lemma with hypotheses and goal", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l3\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3) :\n  \u00ac (3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3) := by\n  intro h\n  have h1 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 := h\n  have h2 : 2 * a ^ 3 - 2 * a ^ 2 * b - 2 * a * b ^ 2 + 2 * b ^ 3 = 0 := by\n    linear_combination h1\n  have h3 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = 0 := by\n    have : 2 * (a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3) = 0 := by\n      rw [\u2190 h2]\n      ring\n    exact eq_zero_of_double_eq_zero this\n  have h4 : (a - b) * (a ^ 2 + b ^ 2) = 0 := by\n    linear_combination h3\n  rw [mul_eq_zero] at h4\n  cases h4\n  \u00b7 have h5 : a = b := by linarith\n    have h6 : a ^ 3 - a ^ 2 * a - a * a ^ 2 + a ^ 3 = 0 := by\n      rw [h5] at h3\n      exact h3\n    simp at h6\n    linarith\n  \u00b7 have h7 : a ^ 2 + b ^ 2 = 0 := h4\n    have h8 : a = 0 \u2228 b = 0 := by\n      rw [add_eq_zero_iff' (pow_two_nonneg a) (pow_two_nonneg b)] at h7\n      exact h7\n    cases h8 <;> cases tc_1 <;> linarith"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "$a^3 - a^2b - ab^2 + b^3 = (a^2 - b^2)(a-b) = (a-b)^2(a+b)$", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3].\nTherefore, we conclude:\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4].", "dependencies": ["tc_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3) :\n  a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3) :\n  a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b) := by\n  rw [\u2190 l3]\n  rw [\u2190 l2]\n  rw [l1]\n  ring_nf\n  rw [\u2190 sub_eq_zero]\n  ring\n  rw [sub_eq_zero]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 6, "endLine": 18, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.36828 - ?m.36829 = 0\na b : \u211d\ntc_1 : 0 < a \u2227 0 < b\nl1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3\nl2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3\nl3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3\n\u22a2 -(a * b ^ 2 * 2) - a ^ 2 * b * 2 + a ^ 3 * 2 + b ^ 3 * 2 = 0"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized with appropriate types and logical conjunction", "The binomial expansion formula is exactly translated with proper operator precedence using explicit multiplication", "The first algebraic transformation equation is precisely captured with correct parenthesization and operator ordering", "The second algebraic transformation maintains exact correspondence in all terms and their coefficients", "The final conclusion statement perfectly matches the target equality with proper factorization form", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3) :\n  \u00ac(a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b)) := by\n  intro h\n  have h1 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) * (a ^ 2 - b ^ 2) := by ring\n  have h2 : (a - b) * (a ^ 2 - b ^ 2) = (a - b) ^ 2 * (a + b) := by ring\n  have h3 : (a - b) * (a ^ 2 - b ^ 2) = (a - b) * (a - b) * (a + b) := by ring\n  rw [h1, h2, h3] at h\n  simp at h"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Since $a+b>0$", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3];\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4].\nTherefore, we conclude:\n\u2022 $a+b > 0$ [l5].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b)) :\n  0 < a + b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b)) :\n  0 < a + b := by\n  have h1 : 0 < a := tc_1.left\n  have h2 : 0 < b := tc_1.right\n  exact add_pos h1 h2", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable types and positivity constraints are correctly formalized using real number type and conjunction of strict inequalities", "The binomial expansion identity is accurately translated with explicit multiplication operators", "The algebraic manipulation equation is precisely captured in Lean syntax", "The simplification step is correctly formalized with proper operator precedence", "The factorization identity is accurately represented using Lean's exponentiation and multiplication syntax", "The conclusion maintains equivalent mathematical meaning, with the inequality direction being a standard equivalent form in Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "and $(a-b)^2\\ge 0$ for all positive $a,b$", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3];\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4];\n\u2022 $a+b > 0$ [l5].\nTherefore, we conclude:\n\u2022 $(a-b)^2 \\ge 0$ [l6].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b) :\n  (a - b) ^ 2 \u2265 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b) :\n  (a - b) ^ 2 \u2265 0 := by\n  have h : 0 \u2264 (a - b) ^ 2 * (a + b) := by\n    rw [\u2190 l4, \u2190 l3, \u2190 l2]\n    rw [l1]\n    ring_nf\n    have : 0 \u2264 (a - b) ^ 2 := sq_nonneg (a - b)\n    have : 0 \u2264 a + b := le_of_lt l5\n    exact mul_nonneg (by norm_num) (mul_nonneg this this)\n  apply nonneg_of_mul_nonneg_left h l5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 20, "column": 22, "endLine": 20, "endColumn": 33, "data": "unsolved goals\na b : \u211d\ntc_1 : 0 < a \u2227 0 < b\nl1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3\nl2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3\nl3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3\nl4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b)\nl5 : 0 < a + b\nthis\u271d : 0 \u2264 (a - b) ^ 2\nthis : 0 \u2264 a + b\n\u22a2 0 \u2264 ?m.37845"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture positive real numbers using conjunction of positivity constraints", "Binomial expansion identity is precisely translated with explicit multiplication operators", "Complex algebraic identity is accurately represented with proper operator precedence", "Algebraic simplification step is correctly formalized", "Factorization identity is precisely captured", "Positivity condition is correctly expressed using Lean's inequality notation", "Conclusion about non-negativity of squares is accurately represented", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l6\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b) :\n  \u00ac (a - b) ^ 2 \u2265 0 := by\n  simp [sq_nonneg]\n  exact False.elim (by simp at tc_1)"}, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "$(a-b)^2(a+b) \\geq 0$", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3];\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4];\n\u2022 $a+b > 0$ [l5];\n\u2022 $(a-b)^2 \\ge 0$ [l6].\nTherefore, we conclude:\n\u2022 $(a-b)^2(a+b) \\geq 0$ [l7].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0) :\n  (a - b) ^ 2 * (a + b) \u2265 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0) :\n  (a - b) ^ 2 * (a + b) \u2265 0 := by\n  rw [\u2190 l4]\n  rw [\u2190 l3]\n  rw [\u2190 l2]\n  rw [l1]\n  simp\n  nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization perfectly captures all components from the natural language, including variable declarations, all equations l1-l6, condition l5, and the conclusion l7. Each mathematical statement is correctly translated with proper Lean syntax. Note that while the natural language contains a mathematical error in l3 (the equation 3a\u00b3 - 3a\u00b2b - 3ab\u00b2 + 3b\u00b3 = a\u00b3 - a\u00b2b - ab\u00b2 + b\u00b3 is false), the Lean formalization faithfully represents this incorrect statement as given in the natural language.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "$4(a^3+b^3) - (a+b)^3 = 4a^3+4b^3 - (a^3+3a^2b+3ab^2+b^3) = 3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3 = (a^2 - b^2)(a-b) = (a-b)^2(a+b) \\geq 0$.", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3];\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4];\n\u2022 $a+b > 0$ [l5];\n\u2022 $(a-b)^2 \\ge 0$ [l6];\n\u2022 $(a-b)^2(a+b) \\geq 0$ [l7].\nTherefore, we conclude:\n\u2022 $4(a^3+b^3) - (a+b)^3 \\geq 0$ [l8].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0)\n  (l7 : (a - b) ^ 2 * (a + b) \u2265 0) :\n  4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 \u2265 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0)\n  (l7 : (a - b) ^ 2 * (a + b) \u2265 0) :\n  4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 \u2265 0 := by\n  rw [l2, l3, l4]\n  exact l7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures all components of the natural language premise. All assumptions (tc_1, l1-l7) are correctly translated with exact mathematical equivalence, and the conclusion (l8) matches precisely. The variable declarations properly encode the constraint that a and b are positive real numbers. Every algebraic equation and inequality from the natural language is faithfully represented in Lean syntax."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "the inequality holds: $4(a^3+b^3) \\ge (a+b)^3$.", "statement": "We assume:\n\u2022 a and b are positive real numbers, i.e., $a, b \\in \\mathbb{R}^{+}$ [tc_1];\n\u2022 $(a+b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ [l1];\n\u2022 $4(a^3+b^3) - (a+b)^3 = 3a^3 - 3a^2b - 3ab^2 + 3b^3$ [l2];\n\u2022 $3a^3 - 3a^2b - 3ab^2 + 3b^3 = a^3 - a^2b - ab^2 + b^3$ [l3];\n\u2022 $a^3 - a^2b - ab^2 + b^3 = (a-b)^2(a+b)$ [l4];\n\u2022 $a+b > 0$ [l5];\n\u2022 $(a-b)^2 \\ge 0$ [l6];\n\u2022 $(a-b)^2(a+b) \\geq 0$ [l7];\n\u2022 $4(a^3+b^3) - (a+b)^3 \\geq 0$ [l8].\nTherefore, we conclude:\n\u2022 $4(a^3+b^3) \\geq (a+b)^3$ [ts_1].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0)\n  (l7 : (a - b) ^ 2 * (a + b) \u2265 0)\n  (l8 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 \u2265 0) :\n  4 * (a ^ 3 + b ^ 3) \u2265 (a + b) ^ 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b)\n  (l1 : (a + b) ^ 3 = a ^ 3 + 3 * a ^ 2 * b + 3 * a * b ^ 2 + b ^ 3)\n  (l2 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 = 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3)\n  (l3 : 3 * a ^ 3 - 3 * a ^ 2 * b - 3 * a * b ^ 2 + 3 * b ^ 3 = a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3)\n  (l4 : a ^ 3 - a ^ 2 * b - a * b ^ 2 + b ^ 3 = (a - b) ^ 2 * (a + b))\n  (l5 : 0 < a + b)\n  (l6 : (a - b) ^ 2 \u2265 0)\n  (l7 : (a - b) ^ 2 * (a + b) \u2265 0)\n  (l8 : 4 * (a ^ 3 + b ^ 3) - (a + b) ^ 3 \u2265 0) :\n  4 * (a ^ 3 + b ^ 3) \u2265 (a + b) ^ 3 := by\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["tc_1: Correctly captures that a and b are positive real numbers using 0 < a \u2227 0 < b", "l1: Perfectly matches the binomial expansion formula (a+b)\u00b3 = a\u00b3 + 3a\u00b2b + 3ab\u00b2 + b\u00b3", "l2: Correctly represents the algebraic manipulation step", "l3: Major mathematical error - the equation 3a\u00b3 - 3a\u00b2b - 3ab\u00b2 + 3b\u00b3 = a\u00b3 - a\u00b2b - ab\u00b2 + b\u00b3 is mathematically false for positive a,b. The coefficients don't match (3 vs 1), making this equality impossible except when a=b=0, which contradicts tc_1", "l4: Correctly captures the factorization step", "l5: Properly represents a+b > 0", "l6: Correctly states (a-b)\u00b2 \u2265 0", "l7: Properly captures (a-b)\u00b2(a+b) \u2265 0", "l8: Correctly represents 4(a\u00b3+b\u00b3) - (a+b)\u00b3 \u2265 0", "ts_1: Perfect match for the final conclusion 4(a\u00b3+b\u00b3) \u2265 (a+b)\u00b3"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['tc_1: Correctly captures that a and b are positive real numbers using 0 < a \u2227 0 < b', 'l1: Perfectly matches the binomial expansion formula (a+b)\u00b3 = a\u00b3 + 3a\u00b2b + 3ab\u00b2 + b\u00b3', 'l2: Correctly represents the algebraic manipulation step', \"l3: Major mathematical error - the equation 3a\u00b3 - 3a\u00b2b - 3ab\u00b2 + 3b\u00b3 = a\u00b3 - a\u00b2b - ab\u00b2 + b\u00b3 is mathematically false for positive a,b. The coefficients don't match (3 vs 1), making this equality impossible except when a=b=0, which contradicts tc_1\", 'l4: Correctly captures the factorization step', 'l5: Properly represents a+b > 0', 'l6: Correctly states (a-b)\u00b2 \u2265 0', 'l7: Properly captures (a-b)\u00b2(a+b) \u2265 0', 'l8: Correctly represents 4(a\u00b3+b\u00b3) - (a+b)\u00b3 \u2265 0', 'ts_1: Perfect match for the final conclusion 4(a\u00b3+b\u00b3) \u2265 (a+b)\u00b3']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    