
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any triangle with semi-perimeter $s$ and inradius $r$, the inequality $s \\geq 3\\sqrt{3}r$ holds.

Proof: Let $a, b, c$ be the sides of a triangle with semi-perimeter $s = (a+b+c)/2$ and inradius $r$. The area can be expressed as $P = rs = \sqrt{s(s-a)(s-b)(s-c)}$, so $r^2 s = (s-a)(s-b)(s-c)$. To prove $s \ge 3\sqrt{3}\,r$, observe that this is equivalent to $s^3 \ge 27(s-a)(s-b)(s-c)$. Setting $x = s-a$, $y = s-b$, $z = s-c$, we have $x+y+z = s$, and by AMâ€“GM, $(x+y+z)^3 \ge 27xyz$, giving $s^3 \ge 27(s-a)(s-b)(s-c) = 27 r^2 s$, hence $s^2 \ge 27 r^2$ and $s \ge 3\sqrt{3}\,r$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $a, b, c$ be the sides of a triangle with semi-perimeter $s$ and inradius $r$.", "statement": "Premise:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization only ensures a, b, c are positive real numbers, but being sides of a triangle requires additional triangle inequality conditions (a + b > c, b + c > a, c + a > b) that are missing", "The semi-perimeter definition s = (a + b + c) / 2 is correctly captured in Lean", "The Lean formalization only ensures r > 0 but doesn't establish that r is the inradius of the triangle formed by sides a, b, c. The geometric relationship defining the inradius is missing"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization only ensures a, b, c are positive real numbers, but being sides of a triangle requires additional triangle inequality conditions (a + b > c, b + c > a, c + a > b) that are missing', 'The semi-perimeter definition s = (a + b + c) / 2 is correctly captured in Lean', \"The Lean formalization only ensures r > 0 but doesn't establish that r is the inradius of the triangle formed by sides a, b, c. The geometric relationship defining the inradius is missing\"]"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Let $a, b, c$ be the sides of a triangle with semi-perimeter $s = (a+b+c)/2$ and inradius $r$.", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1].\nDefinition:\n\u2022 $s = (a+b+c)/2$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.75, "semantic_feedback": ["The natural language states that a,b,c are sides of a triangle, but the Lean formalization only declares them as positive real numbers (a > 0 \u2227 b > 0 \u2227 c > 0) without the triangle inequality constraints. Being sides of a triangle requires additional constraints like a + b > c, a + c > b, b + c > a.", "The Lean formalization correctly declares s as a real number, which matches the natural language description of s being the semi-perimeter.", "The Lean formalization correctly declares r as a real number with r > 0, which matches the natural language description of r being the inradius (which must be positive).", "The Lean formalization perfectly captures the definition s = (a + b + c) / 2 in both tc_1 and def_1, matching the natural language exactly."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "The area can be expressed as $P = rs = \\sqrt{s(s-a)(s-b)(s-c)}$, so $r^2 s = (s-a)(s-b)(s-c)$.", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1].\nTherefore, we conclude:\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2) :\n  r^2 * s = (s - a) * (s - b) * (s - c) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2) :\n  r^2 * s = (s - a) * (s - b) * (s - c) := by\n  rw [def_1]\n  field_simp\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 9, "column": 43, "endLine": 12, "endColumn": 6, "data": "unsolved goals\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\n\u22a2 r ^ 2 * a * 8 + r ^ 2 * b * 8 + r ^ 2 * c * 8 =\n    -(a * b * c * 4) + a * b ^ 2 * 2 + a * c ^ 2 * 2 + a ^ 2 * b * 2 + (a ^ 2 * c * 2 - a ^ 3 * 2) + b * c ^ 2 * 2 +\n        b ^ 2 * c * 2 +\n      (-(b ^ 3 * 2) - c ^ 3 * 2)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical content from the natural language. The variable declarations, semi-perimeter definition, and the main formula r\u00b2s = (s-a)(s-b)(s-c) are all accurately represented. The additional positivity constraints (a > 0, b > 0, c > 0, r > 0) are reasonable geometric assumptions that don't contradict the natural language. The redundant definition of s in both tc_1 and def_1 is harmless. The structure as a lemma to be proven rather than a concluded theorem is a minor presentational difference but doesn't affect the mathematical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2) :\n  \u00ac (r^2 * s = (s - a) * (s - b) * (s - c)) := by\n  intro h\n  let a' : \u211d := 3\n  let b' : \u211d := 4\n  let c' : \u211d := 5\n  let s' : \u211d := (a' + b' + c') / 2\n  let r' : \u211d := sqrt (((s' - a') * (s' - b') * (s' - c')) / s')\n  have h1 : a' > 0 \u2227 b' > 0 \u2227 c' > 0 \u2227 s' = (a' + b' + c') / 2 \u2227 r' > 0 := by\n    simp [a', b', c', s', r']\n    norm_num\n  have h2 : s' = (a' + b' + c') / 2 := by simp [s']\n  have h' := h a' b' c' s' r' h1 h2\n  simp [a', b', c', s', r'] at h'\n  norm_num at h'"}, "type": "lemma"}, "def_2": {"id": "def_2", "natural_language": "Setting $x = s-a$, $y = s-b$, $z = s-c$,", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1].\nDefinition:\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2].", "dependencies": ["tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.75, "semantic_feedback": ["The natural language states that a,b,c are sides of a triangle, s is semi-perimeter, and r is inradius, but doesn't explicitly mention positivity constraints. The Lean formalization adds explicit positivity conditions (a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 r > 0) and includes the semi-perimeter definition within tc_1. While these are mathematically reasonable assumptions for triangle sides and inradius, they are additional constraints not explicitly stated in the natural language.", "The Lean formalization exactly matches the mathematical equation s = (a+b+c)/2.", "The Lean formalization exactly matches the mathematical equation r^2 s = (s-a)(s-b)(s-c), with appropriate operator precedence.", "The Lean formalization exactly matches the definitions x = s-a, y = s-b, z = s-c using conjunction to combine all three equations."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l2": {"id": "l2", "natural_language": "we have $x+y+z = s$,", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2].\nTherefore, we conclude:\n\u2022 $x+y+z = s$ [l2].", "dependencies": ["tc_1", "def_1", "l1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  x + y + z = s := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c) :\n  x + y + z = s := by\n  rw [def_2.left, def_2.right.left, def_2.right.right]\n  rw [def_1]\n  field_simp\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle context is well-formalized with appropriate positivity constraints for triangle sides and inradius, plus semi-perimeter definition", "Semi-perimeter definition matches exactly (though redundant with tc_1, this is acceptable)", "Inradius relationship formula is correctly translated", "Variable substitution definitions are perfectly captured", "The conclusion statement matches exactly"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "and by AM\u2013GM, $(x+y+z)^3 \\ge 27xyz$,", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2];\n\u2022 $x+y+z = s$ [l2].\nTherefore, we conclude:\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l3].", "dependencies": ["tc_1", "def_1", "l1", "def_2", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s) :\n  (x + y + z)^3 \u2265 27 * x * y * z := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s) :\n  (x + y + z)^3 \u2265 27 * x * y * z := by\n  have hx : x > 0 := by\n    rw [def_2.1, def_1]\n    linarith [tc_1.2.2.2.2.1]\n  have hy : y > 0 := by\n    rw [def_2.2.1, def_1]\n    linarith [tc_1.2.2.2.1]\n  have hz : z > 0 := by\n    rw [def_2.2.2, def_1]\n    linarith [tc_1.2.2.1]\n  rw [l2]\n  have := Real.geom_mean_le_arith_mean3 x y z hx hy hz\n  simp only [\u2190 mul_pow, mul_assoc]\n  norm_num\n  exact this", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 24, "column": 10, "endLine": 24, "endColumn": 54, "data": "unknown constant 'Real.geom_mean_le_arith_mean3'"}, {"line": 13, "column": 36, "endLine": 27, "endColumn": 12, "data": "unsolved goals\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\nl1 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nx y z : \u211d\ndef_2 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl2 : x + y + z = s\nhx : x > 0\nhy : y > 0\nhz : z > 0\n\u22a2 s ^ 3 \u2265 27 * x * y * z"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The variable declarations and tc_1 condition correctly capture that a,b,c are positive real numbers (triangle sides), s is the semi-perimeter, and r is positive (inradius). The extra positivity constraints are mathematically consistent.", "The def_1 condition perfectly matches the natural language definition of semi-perimeter, though it's redundant with tc_1.", "The l1 condition exactly captures the relationship r^2 * s = (s-a)(s-b)(s-c) as stated in natural language.", "The def_2 condition perfectly captures the definitions x = s-a, y = s-b, z = s-c using conjunction.", "The l2 condition exactly matches the natural language statement x+y+z = s.", "The conclusion (x+y+z)^3 \u2265 27*x*y*z perfectly matches the natural language conclusion, representing the AM-GM inequality.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3 :\n  \u00ac \u2200 (a b c s r : \u211d) (x y z : \u211d),\n    (a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0) \u2192\n    s = (a + b + c) / 2 \u2192\n    r^2 * s = (s - a) * (s - b) * (s - c) \u2192\n    (x = s - a \u2227 y = s - b \u2227 z = s - c) \u2192\n    x + y + z = s \u2192\n    (x + y + z)^3 \u2265 27 * x * y * z := by\n  intro h\n  let a := 1\n  let b := 1\n  let c := 3\n  let s := (a + b + c) / 2\n  let r := 1\n  let x := s - a\n  let y := s - b\n  let z := s - c\n  have ha : a > 0 := by norm_num\n  have hb : b > 0 := by norm_num\n  have hc : c > 0 := by norm_num\n  have hr : r > 0 := by norm_num\n  have hs : s = (a + b + c) / 2 := rfl\n  have hx : x = s - a := rfl\n  have hy : y = s - b := rfl\n  have hz : z = s - c := rfl\n  have hsum : x + y + z = s := by\n    rw [hx, hy, hz]\n    ring\n  have hineq : (x + y + z)^3 < 27 * x * y * z := by\n    rw [hx, hy, hz, hs]\n    norm_num\n  have hcontra := h a b c s r x y z \u27e8ha, hb, hc, hs, hr\u27e9 hs (by rw [hs]; norm_num) \u27e8hx, hy, hz\u27e9 hsum\n  linarith [hcontra, hineq]"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "giving $s^3 \\ge 27(s-a)(s-b)(s-c)$.", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2];\n\u2022 $x+y+z = s$ [l2];\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l3].\nTherefore, we conclude:\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l4].", "dependencies": ["tc_1", "def_1", "l1", "def_2", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z) :\n  s^3 \u2265 27 * (s - a) * (s - b) * (s - c) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z) :\n  s^3 \u2265 27 * (s - a) * (s - b) * (s - c) := by\n  rw [\u2190 def_2.1, \u2190 def_2.2.1, \u2190 def_2.2.2]\n  rw [\u2190 l2]\n  exact l3", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["tc_1 correctly captures the triangle sides, semi-perimeter, and inradius with appropriate positivity constraints", "def_1 exactly matches the semi-perimeter definition", "l1 exactly matches the given relationship between r, s, and the triangle parameters", "def_2 exactly matches the variable substitutions x, y, z", "l2 exactly matches the sum relationship", "l3 exactly matches the AM-GM inequality constraint", "l4 exactly matches the desired conclusion"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "$s^3 \\ge 27(s-a)(s-b)(s-c) = 27 r^2 s$,", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2];\n\u2022 $x+y+z = s$ [l2];\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l3];\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l4].\nTherefore, we conclude:\n\u2022 $s^3 \\ge 27 r^2 s$ [l5].", "dependencies": ["tc_1", "def_1", "l1", "def_2", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  s^3 \u2265 27 * r^2 * s := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  s^3 \u2265 27 * r^2 * s := by\n  rw [\u2190 l1]\n  apply l4", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 6, "endLine": 16, "endColumn": 10, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (s - a) * (s - b) * (s - c)\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\nl1 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nx y z : \u211d\ndef_2 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl2 : x + y + z = s\nl3 : (x + y + z) ^ 3 \u2265 27 * x * y * z\nl4 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)\n\u22a2 s ^ 3 \u2265 27 * r ^ 2 * s"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all the mathematical relationships and logical structure from the natural language. The additional positivity constraints (a > 0, b > 0, c > 0, r > 0) are mathematically appropriate for a triangle context and don't contradict the natural language. The slight redundancy between tc_1 and def_1 both stating the semi-perimeter formula is harmless. All premises l1-l4 and the conclusion l5 are accurately translated, preserving the mathematical meaning and logical dependencies.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l5\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c)) :\n  \u00ac (s^3 \u2265 27 * r^2 * s) := by\n  intro h\n  have h1 : s^3 = 27 * r^2 * s := by\n    rw [\u2190 l1] at l4\n    exact le_antisymm h l4\n  have h2 : s^2 = 27 * r^2 := by\n    rcases tc_1 with \u27e8_, _, _, hs, hr\u27e9\n    have : s > 0 := by\n      rw [hs]\n      apply div_pos\n      linarith [tc_1.1, tc_1.2.1, tc_1.2.2.1]\n      linarith\n    rw [\u2190 mul_assoc] at h1\n    exact (mul_right_inj' (ne_of_gt this)).mp h1\n  have h3 : s = 3 * Real.sqrt 3 * r := by\n    rw [\u2190 Real.sqrt_mul (by norm_num : (0:\u211d) \u2264 27), mul_comm, \u2190 h2]\n    simp [Real.sqrt_eq_rpow, \u2190 Real.rpow_nat_cast]\n  have h4 : x * y * z = 0 := by\n    rw [\u2190 l1, \u2190 h2, \u2190 h3]\n    rcases def_2 with \u27e8hx, hy, hz\u27e9\n    rw [hx, hy, hz]\n    have : s = (a + b + c) / 2 := tc_1.2.2.1\n    rw [this]\n    field_simp\n    ring\n  rcases def_2 with \u27e8hx, hy, hz\u27e9\n  have h5 : s = a \u2228 s = b \u2228 s = c := by\n    rw [hx, hy, hz] at h4\n    simp [mul_eq_zero] at h4\n    tauto\n  rcases h5 with h5 | h5 | h5\n  \u00b7 rw [h5] at tc_1\n    have : a = (a + b + c)/2 := tc_1.2.2.1\n    linarith [tc_1.1, tc_1.2.1, tc_1.2.2.1]\n  \u00b7 rw [h5] at tc_1\n    have : b = (a + b + c)/2 := tc_1.2.2.1\n    linarith [tc_1.1, tc_1.2.1, tc_1.2.2.1]\n  \u00b7 rw [h5] at tc_1\n    have : c = (a + b + c)/2 := tc_1.2.2.1\n    linarith [tc_1.1, tc_1.2.1, tc_1.2.2.1]"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "hence $s^2 \\ge 27 r^2$", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2];\n\u2022 $x+y+z = s$ [l2];\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l3];\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l4];\n\u2022 $s^3 \\ge 27 r^2 s$ [l5].\nTherefore, we conclude:\n\u2022 $s^2 \\ge 27 r^2$ [l6].", "dependencies": ["tc_1", "def_1", "l1", "def_2", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s) :\n  s^2 \u2265 27 * r^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s) :\n  s^2 \u2265 27 * r^2 := by\n  have h : s > 0 := by\n    obtain \u27e8ha, hb, hc, hs, _\u27e9 := tc_1\n    rw [hs]\n    linarith [add_pos (add_pos ha hb) hc]\n  have h' : s^2 = s^3 / s := by field_simp [h.ne']; ring\n  rw [h']\n  apply (div_le_iff h).mpr\n  exact l5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 23, "column": 2, "endLine": 23, "endColumn": 26, "data": "tactic 'apply' failed, failed to unify\n  ?m.14003 / s \u2264 ?m.14002\nwith\n  s ^ 3 / s \u2265 27 * r ^ 2\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\nl1 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nx y z : \u211d\ndef_2 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl2 : x + y + z = s\nl3 : (x + y + z) ^ 3 \u2265 27 * x * y * z\nl4 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)\nl5 : s ^ 3 \u2265 27 * r ^ 2 * s\nh : s > 0\nh' : s ^ 2 = s ^ 3 / s\n\u22a2 s ^ 3 / s \u2265 27 * r ^ 2"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical statements from the natural language. The additional positivity constraints (a > 0, b > 0, c > 0, r > 0) are mathematically appropriate for the triangle geometry context and don't contradict the natural language. All premises l1-l5 and the conclusion l6 are faithfully represented. The slight redundancy in def_1 being stated twice (in tc_1 and separately) doesn't affect correctness.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l6\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 a + c > b \u2227 b + c > a \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s) :\n  \u00ac(s^2 \u2265 27 * r^2) := by\n  refine' not_le_of_lt _\n  have : s > 0 := by\n    have h\u2081 : a + b + c > 0 := add_pos (add_pos tc_1.1 tc_1.2.1) tc_1.2.2.1\n    rw [def_1]\n    linarith\n  have hx : s - a > 0 := by\n    rw [def_1]\n    have := tc_1.2.2.2.2.1\n    linarith\n  have hy : s - b > 0 := by\n    rw [def_1]\n    have := tc_1.2.2.2.2.2.1\n    linarith\n  have hz : s - c > 0 := by\n    rw [def_1]\n    have := tc_1.2.2.2.2.2.2\n    linarith\n  have : r^2 * s > 0 := by\n    rw [l1, def_2.1, def_2.2.1, def_2.2.2]\n    exact mul_pos (mul_pos hx hy) hz\n  have : r^2 > 0 := by positivity\n  have : s^2 < 27 * r^2 := by\n    rw [\u2190div_lt_iff (by positivity), \u2190mul_div_assoc, mul_comm, \u2190mul_assoc, \u2190pow_succ']\n    refine' (div_lt_iff' (by positivity)).mp _\n    rw [mul_comm, \u2190mul_assoc]\n    refine' lt_of_le_of_ne l5 _\n    intro h\n    have : (x + y + z)^3 = 27 * x * y * z := by\n      rw [\u2190l1, l2, h, mul_comm, mul_assoc, \u2190pow_succ', \u2190mul_pow]\n      field_simp [this.ne']\n      ring\n    have : x = y \u2227 y = z := by\n      have := geom_mean_le_arith_mean_weighted ![1, 1, 1] ![x, y, z] (by simp) (by simp)\n      simp at this\n      rw [\u2190this, \u2190mul_pow, \u2190mul_assoc] at this\n      norm_num at this\n      exact eq_of_le_of_ge this (by rw [\u2190this]; exact le_refl _)\n    cases this with | intro hx' hy' =>\n      have : a = b \u2227 b = c := by\n        rw [\u2190def_2.1, \u2190def_2.2.1, \u2190def_2.2.2, hx', hy']\n        simp\n      cases this with | intro ha hb =>\n        have : r^2 * s = (s - a)^3 := by\n          rw [l1, \u2190def_2.1, \u2190def_2.2.1, \u2190def_2.2.2, hx', hy']\n          ring\n        have : s = 3 * (s - a) := by\n          rw [l2, \u2190def_2.1, \u2190def_2.2.1, \u2190def_2.2.2, hx', hy']\n          ring\n        have : s = 3 * a / 2 := by\n          rw [def_1, ha, hb]\n          ring\n        have : s - a = a / 2 := by\n          rw [this]\n          ring\n        have : r^2 * (3 * a / 2) = (a / 2)^3 := by\n          rw [\u2190this, this]\n        have : r^2 = a^2 / 27 := by\n          field_simp [this]\n          ring\n        have : s^2 = 27 * r^2 := by\n          rw [this, this]\n          field_simp\n          ring\n        exact (ne_of_lt (lt_irrefl _) h).elim\n  exact this"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "and $s \\ge 3\\sqrt{3}\\,r$.", "statement": "We assume:\n\u2022 $a,b,c$ are the sides of a triangle, $s$ is the semi-perimeter, and $r$ is the inradius [tc_1];\n\u2022 $s = (a+b+c)/2$ [def_1];\n\u2022 $r^2 s = (s-a)(s-b)(s-c)$ [l1];\n\u2022 Let $x = s-a$, $y = s-b$, $z = s-c$ [def_2];\n\u2022 $x+y+z = s$ [l2];\n\u2022 $(x+y+z)^3 \\ge 27xyz$ [l3];\n\u2022 $s^3 \\ge 27(s-a)(s-b)(s-c)$ [l4];\n\u2022 $s^3 \\ge 27 r^2 s$ [l5];\n\u2022 $s^2 \\ge 27 r^2$ [l6].\nTherefore, we conclude:\n\u2022 $s \\ge 3\\sqrt{3}r$ [ts_1].", "dependencies": ["tc_1", "def_1", "l1", "def_2", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s)\n  (l6 : s^2 \u2265 27 * r^2) :\n  s \u2265 3 * (Real.sqrt 3) * r := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s)\n  (l6 : s^2 \u2265 27 * r^2) :\n  s \u2265 3 * (Real.sqrt 3) * r := by\n  have h : s \u2265 0 := by\n    rw [def_1]\n    have := tc_1.2.2.1\n    linarith\n  have hr : r > 0 := tc_1.2.2.2\n  have h' : r^2 \u2264 s^2 / 27 := by\n    rw [div_eq_mul_inv, mul_comm]\n    rw [mul_comm] at l6\n    exact (le_div_iff' (by norm_num)).mpr l6\n  have h3 : 0 \u2264 3 := by norm_num\n  have h3r : 0 \u2264 3 * r^2 := by nlinarith\n  rw [\u2190 mul_assoc, \u2190 Real.sqrt_mul h3, \u2190 Real.sqrt_mul h3r, mul_assoc]\n  apply Real.sqrt_le_sqrt\n  rw [mul_assoc, mul_comm (3 * _), \u2190 mul_assoc]\n  apply mul_le_mul_of_nonneg_left h' (by linarith)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 22, "column": 21, "endLine": 22, "endColumn": 31, "data": "type mismatch\n  tc_1.right.right.right\nhas type\n  s = (a + b + c) / 2 \u2227 r > 0 : Prop\nbut is expected to have type\n  r > 0 : Prop"}, {"line": 26, "column": 24, "endLine": 26, "endColumn": 35, "data": "unsolved goals\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\nl1 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nx y z : \u211d\ndef_2 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl2 : x + y + z = s\nl3 : (x + y + z) ^ 3 \u2265 27 * x * y * z\nl4 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)\nl5 : s ^ 3 \u2265 27 * r ^ 2 * s\nl6 : s ^ 2 \u2265 r ^ 2 * 27\nh : s \u2265 0\nhr : r > 0\n\u22a2 0 < r ^ 2"}, {"line": 29, "column": 6, "endLine": 29, "endColumn": 17, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a * (?b * ?c)\na b c s r : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0\ndef_1 : s = (a + b + c) / 2\nl1 : r ^ 2 * s = (s - a) * (s - b) * (s - c)\nx y z : \u211d\ndef_2 : x = s - a \u2227 y = s - b \u2227 z = s - c\nl2 : x + y + z = s\nl3 : (x + y + z) ^ 3 \u2265 27 * x * y * z\nl4 : s ^ 3 \u2265 27 * (s - a) * (s - b) * (s - c)\nl5 : s ^ 3 \u2265 27 * r ^ 2 * s\nl6 : s ^ 2 \u2265 27 * r ^ 2\nh : s \u2265 0\nhr : r > 0\nh' : r ^ 2 \u2264 s ^ 2 / 27\nh3 : 0 \u2264 3\nh3r : 0 \u2264 3 * r ^ 2\n\u22a2 s \u2265 3 * \u221a3 * r"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization accurately captures all the mathematical content from the natural language. The triangle inequality context, semi-perimeter definition, inradius formula, variable substitutions, AM-GM inequality application, and final conclusion are all correctly formalized. The additional type constraints and positivity conditions in Lean are mathematically appropriate and don't contradict the natural language statements. The slight redundancy in defining s = (a+b+c)/2 in both tc_1 and def_1 is handled properly in the Lean code.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  (a b c : \u211d) (s r : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 s = (a + b + c) / 2 \u2227 r > 0)\n  (def_1 : s = (a + b + c) / 2)\n  (l1 : r^2 * s = (s - a) * (s - b) * (s - c))\n  (x y z : \u211d)\n  (def_2 : x = s - a \u2227 y = s - b \u2227 z = s - c)\n  (l2 : x + y + z = s)\n  (l3 : (x + y + z)^3 \u2265 27 * x * y * z)\n  (l4 : s^3 \u2265 27 * (s - a) * (s - b) * (s - c))\n  (l5 : s^3 \u2265 27 * r^2 * s)\n  (l6 : s^2 \u2265 27 * r^2) :\n  \u00ac s \u2265 3 * (Real.sqrt 3) * r := by\n  intro h\n  have : (3 * Real.sqrt 3 * r)^2 = 27 * r^2 := by\n    calc (3 * Real.sqrt 3 * r)^2\n      _ = 9 * (Real.sqrt 3)^2 * r^2 := by ring\n      _ = 9 * 3 * r^2 := by rw [Real.sq_sqrt (by norm_num)]\n      _ = 27 * r^2 := by ring\n  have h' : s^2 \u2265 (3 * Real.sqrt 3 * r)^2 := by nlinarith [h]\n  rw [this] at h'\n  have : s^2 = 27 * r^2 := by linarith [l6, h']\n  have : s = 3 * Real.sqrt 3 * r := by\n    apply_fun Real.sqrt at this\n    rw [Real.sqrt_mul (by linarith), Real.sqrt_sq (by linarith [tc_1.2.2.2.1])] at this\n    exact this\n  have : (s - a) * (s - b) * (s - c) = 0 := by\n    rw [\u2190 l1, \u2190 this]\n    ring\n  have : s - a = 0 \u2228 s - b = 0 \u2228 s - c = 0 := by\n    rw [mul_eq_zero, mul_eq_zero] at this\n    tauto\n  cases this with\n  | inl h1 => linarith [h1, tc_1.1]\n  | inr h2 => cases h2 with\n    | inl h2 => linarith [h2, tc_1.2.1]\n    | inr h3 => linarith [h3, tc_1.2.2.1]"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    