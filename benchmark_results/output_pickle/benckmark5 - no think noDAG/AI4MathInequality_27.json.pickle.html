
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that if $a$ and $b$ are real numbers such that $9a^2 + 8ab + 7b^2 \leq 6$, then $7a + 5b + 12ab \leq 9$.

Proof: We want to show that $7a+5b+12ab\leq 9$ under the condition $9a^{2}+8ab+7b^{2}\leq 6$. Note that $7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3\leq (9a^{2}+8ab+7b^{2})+3\leq 9$. On the other hand, by the inequality $x^{2}+	frac{1}{4}\geq x$, we have $7a^{2}+	frac{7}{4}\geq 7a$ and $5b^{2}+	frac{5}{4}\geq 5b$, so adding yields $7a^{2}+5b^{2}+3\geq 7a+5b$. Therefore $7a^{2}+5b^{2}+12ab+3\geq 7a+5b+12ab$. Combining both bounds gives $$7a+5b+12ab \leq 7a^{2}+5b^{2}+12ab+3 \leq 9$$, which proves the claim.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "if a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$", "statement": "Premise:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b : \u211d)\n(tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration `variable (a b : \u211d)` perfectly captures that a and b are real numbers", "The Lean constraint `9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6` is mathematically identical to the natural language constraint $9a^2 + 8ab + 7b^2 \u2264 6$, just using Lean syntax instead of LaTeX", "Both the natural language and Lean formalization correctly indicate this is just a premise with no conclusions derived yet"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "$7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1]\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3 := by\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly specify a and b as real numbers using appropriate Lean type notation", "The constraint 9a\u00b2+8ab+7b\u00b2\u22646 is accurately formalized with correct mathematical operators and inequality symbol", "The equality statement is perfectly translated with all terms and operations correctly represented in Lean syntax", "The logical structure properly uses the assumption tc_1 as a hypothesis and states the equality as the conclusion to be proved"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "$7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3\\leq (9a^{2}+8ab+7b^{2})+3$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3 := by\n  rw [l1]\n  simp\n  nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations are semantically identical - both declare a and b as real numbers.", "The constraint tc_1 is perfectly captured with only notational differences between mathematical and Lean syntax.", "The algebraic identity l1 is correctly formalized with equivalent mathematical content despite minor term reordering.", "The conclusion l2 is exactly represented in both versions with identical mathematical meaning.", "The overall logical structure and mathematical reasoning flow is preserved perfectly from natural language to Lean formalization."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "$(9a^{2}+8ab+7b^{2})+3\\leq 9$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2].\nTherefore, we conclude:\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3) :\n  (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3) :\n  (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9 := by\n  linarith [tc_1]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly specify a and b as real numbers", "Constraint tc_1 is accurately translated with explicit multiplication notation", "Assumption l1 correctly captures the equality with proper operator precedence", "Assumption l2 correctly captures the inequality relationship", "Conclusion l3 is properly formulated as the goal to prove, maintaining the correct mathematical relationship"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "$7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3\\leq (9a^{2}+8ab+7b^{2})+3\\leq 9$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4].", "dependencies": ["tc_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9 := by\n  exact le_trans l2 l3", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly specify a and b as real numbers in both versions", "The main constraint tc_1 is identically formalized with proper mathematical notation", "The equality statement l1 perfectly captures the algebraic relationship with correct operator precedence", "The inequality l2 is exactly translated with identical mathematical meaning", "The inequality l3 maintains the same mathematical constraint", "The conclusion l4 is identically stated in both natural language and Lean", "The overall logical structure preserves the assumption-conclusion relationship, with the Lean formalization appropriately using lemma format with hypotheses leading to the desired conclusion"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "by the inequality $x^{2}+\tfrac{1}{4}\\geq x$, we have $7a^{2}+\tfrac{7}{4}\\geq 7a$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3];\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4].\nTherefore, we conclude:\n\u2022 $7a^2 + 7/4 \\geq 7a$ [l5].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9) :\n  7 * a^2 + 7/4 \u2265 7 * a := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9) :\n  7 * a^2 + 7/4 \u2265 7 * a := by\n  have h : 7 * a^2 - 7 * a + 7/4 \u2265 0 := by\n    have : 7 * a^2 - 7 * a + 7/4 = 7 * (a^2 - a + 1/4) := by ring\n    rw [this]\n    have : a^2 - a + 1/4 = (a - 1/2)^2 := by ring\n    rw [this]\n    apply mul_nonneg\n    linarith\n    apply sq_nonneg\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures all components from the natural language. Variable declarations (a, b as reals), the constraint tc_1, the algebraic identity l1, the chain of inequalities l2-l4, and the conclusion l5 are all correctly translated. The mathematical expressions, coefficients, and logical structure are preserved exactly. While there may be questions about whether the conclusion actually follows from the premises mathematically, the formalization itself is a faithful representation of what was stated in natural language."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "and $5b^{2}+\tfrac{5}{4}\\geq 5b$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3];\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4];\n\u2022 $7a^2 + 7/4 \\geq 7a$ [l5].\nTherefore, we conclude:\n\u2022 $5b^2 + 5/4 \\geq 5b$ [l6].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a) :\n  5 * b^2 + 5/4 \u2265 5 * b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a) :\n  5 * b^2 + 5/4 \u2265 5 * b := by\n  suffices h : 5 * (b^2 - b + 1/4) \u2265 0 by\n    rw [\u2190sub_nonneg]\n    calc\n      5 * b^2 + 5/4 - 5 * b = 5 * (b^2 - b + 1/4) := by ring\n      _ \u2265 0 := h\n  have h1 : b^2 - b + 1/4 = (b - 1/2)^2 := by ring\n  rw [h1]\n  apply mul_nonneg\n  linarith\n  apply sq_nonneg", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 8, "endLine": 15, "endColumn": 19, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?m.23584 \u2264 ?m.23583\na b : \u211d\ntc_1 : 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 \u2264 6\nl1 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 = 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 - 2 * (a - b) ^ 2 + 3\nl2 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 \u2264 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 + 3\nl3 : 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 + 3 \u2264 9\nl4 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 \u2264 9\nl5 : 7 * a ^ 2 + 7 / 4 \u2265 7 * a\nh : 5 * (b ^ 2 - b + 1 / 4) \u2265 0\n\u22a2 5 * b ^ 2 + 5 / 4 \u2265 5 * b"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization perfectly captures all mathematical content from the natural language. All assumptions (tc_1, l1, l2, l3, l4, l5) are correctly translated, the variable types are properly declared, and the conclusion matches exactly. The only differences are syntactic requirements of Lean (explicit multiplication operators) which do not affect the mathematical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l6 :\n  \u2203 (a b : \u211d),\n  (9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) \u2227\n  (7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3) \u2227\n  (7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3) \u2227\n  ((9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9) \u2227\n  (7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9) \u2227\n  (7 * a^2 + 7/4 \u2265 7 * a) \u2227\n  \u00ac (5 * b^2 + 5/4 \u2265 5 * b) := by\n  use 0, 2\n  simp\n  norm_num"}, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "so adding yields $7a^{2}+5b^{2}+3\\geq 7a+5b$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3];\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4];\n\u2022 $7a^2 + 7/4 \\geq 7a$ [l5];\n\u2022 $5b^2 + 5/4 \\geq 5b$ [l6].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+3 \\geq 7a+5b$ [l7].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b) :\n  7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b) :\n  7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b := by\n  have h1 : 7 * a^2 + 5 * b^2 + 3 = (7 * a^2 + 7/4) + (5 * b^2 + 5/4) - 1/2 := by ring\n  rw [h1]\n  have h2 : 7 * a + 5 * b \u2264 (7 * a^2 + 7/4) + (5 * b^2 + 5/4) := by linarith [l5, l6]\n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 79, "endLine": 15, "endColumn": 86, "data": "unsolved goals\na b : \u211d\ntc_1 : 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 \u2264 6\nl1 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 = 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 - 2 * (a - b) ^ 2 + 3\nl2 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 \u2264 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 + 3\nl3 : 9 * a ^ 2 + 8 * a * b + 7 * b ^ 2 + 3 \u2264 9\nl4 : 7 * a ^ 2 + 5 * b ^ 2 + 12 * a * b + 3 \u2264 9\nl5 : 7 * a ^ 2 + 7 / 4 \u2265 7 * a\nl6 : 5 * b ^ 2 + 5 / 4 \u2265 5 * b\n\u22a2 3 + a ^ 2 * 7 + b ^ 2 * 5 = 5 / 2 + a ^ 2 * 7 + b ^ 2 * 5"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. All variables are properly typed as real numbers, all assumptions (tc_1, l1-l6) are accurately translated with correct mathematical expressions, and the conclusion (l7) is properly stated. The logical structure and mathematical meaning are completely preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l7\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b) :\n  \u00ac (7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b) := by\n  intro h\n  have : 7 * a^2 + 5 * b^2 + 3 = 7 * a + 5 * b := by\n    apply le_antisymm\n    \u00b7 exact h\n    \u00b7 have h1 := l5\n      have h2 := l6\n      linarith\n  have h2 : 7 * a^2 - 7 * a + 5 * b^2 - 5 * b + 3 = 0 := by linear_combination this\n  have h3 : 7 * (a - 1/2)^2 + 5 * (b - 1/2)^2 = 0 := by\n    have h4 : 7 * (a^2 - a + 1/4) + 5 * (b^2 - b + 1/4) = 0 := by\n      linear_combination h2 + 7/4 + 5/4 - 3\n    ring_nf at h4 \u22a2\n    exact h4\n  have h5 : (a - 1/2)^2 = 0 := by\n    apply eq_zero_of_nonneg_of_add_eq_zero_right\n    \u00b7 apply pow_two_nonneg\n    \u00b7 exact h3\n  have h6 : (b - 1/2)^2 = 0 := by\n    apply eq_zero_of_nonneg_of_add_eq_zero_left\n    \u00b7 apply pow_two_nonneg\n    \u00b7 exact h3\n  have : a = 1/2 := by\n    rw [sub_eq_zero] at h5\n    exact h5\n  have : b = 1/2 := by\n    rw [sub_eq_zero] at h6\n    exact h6\n  subst this\n  simp at tc_1\n  norm_num at tc_1\n  linarith"}, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "Therefore $7a^{2}+5b^{2}+12ab+3\\geq 7a+5b+12ab$.", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3];\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4];\n\u2022 $7a^2 + 7/4 \\geq 7a$ [l5];\n\u2022 $5b^2 + 5/4 \\geq 5b$ [l6];\n\u2022 $7a^2+5b^2+3 \\geq 7a+5b$ [l7].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 \\geq 7a+5b+12ab$ [l8].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b)\n  (l7 : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b)\n  (l7 : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b := by\n  linarith [l7]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures the natural language statement. All assumptions (tc_1 through l7) are correctly translated from mathematical notation to Lean syntax, the variable types are properly declared as real numbers, and the conclusion l8 is accurately represented as the goal of the lemma. The logical structure and mathematical content are completely preserved."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Combining both bounds gives $$7a+5b+12ab \\leq 7a^{2}+5b^{2}+12ab+3 \\leq 9$$, which proves the claim.", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1];\n\u2022 $7a^2+5b^2+12ab+3 = (9a^2+8ab+7b^2)-2(a-b)^2+3$ [l1];\n\u2022 $7a^2+5b^2+12ab+3 \\leq (9a^2+8ab+7b^2)+3$ [l2];\n\u2022 $(9a^2+8ab+7b^2)+3 \\leq 9$ [l3];\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l4];\n\u2022 $7a^2 + 7/4 \\geq 7a$ [l5];\n\u2022 $5b^2 + 5/4 \\geq 5b$ [l6];\n\u2022 $7a^2+5b^2+3 \\geq 7a+5b$ [l7];\n\u2022 $7a^2+5b^2+12ab+3 \\geq 7a+5b+12ab$ [l8].\nTherefore, we conclude:\n\u2022 $7a + 5b + 12ab \\leq 9$ [ts_1].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b)\n  (l7 : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b)\n  (l8 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b) :\n  7 * a + 5 * b + 12 * a * b \u2264 9 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b : \u211d)\n  (tc_1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = (9 * a^2 + 8 * a * b + 7 * b^2) - 2 * (a - b)^2 + 3)\n  (l2 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 (9 * a^2 + 8 * a * b + 7 * b^2) + 3)\n  (l3 : (9 * a^2 + 8 * a * b + 7 * b^2) + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l5 : 7 * a^2 + 7/4 \u2265 7 * a)\n  (l6 : 5 * b^2 + 5/4 \u2265 5 * b)\n  (l7 : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b)\n  (l8 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b) :\n  7 * a + 5 * b + 12 * a * b \u2264 9 := by\n  have h1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9 := l4\n  have h2 : 7 * a + 5 * b + 12 * a * b \u2264 7 * a^2 + 5 * b^2 + 12 * a * b + 3 := by linarith\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The constraint tc_1 is correctly formalized with proper multiplication notation", "The equality l1 is correctly translated with explicit multiplication operators", "The inequality l2 matches perfectly with proper Lean syntax", "The inequality l3 is correctly formalized", "The inequality l4 is correctly formalized", "The inequality l5 is correctly formalized with proper fraction notation", "The inequality l6 is correctly formalized with proper fraction notation", "The inequality l7 is correctly formalized", "The inequality l8 is correctly formalized", "The conclusion ts_1 is correctly stated as the goal with proper multiplication notation"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    