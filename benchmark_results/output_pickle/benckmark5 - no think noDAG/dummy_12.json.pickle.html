
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If a nonempty set S of real numbers is bounded above, then sup S is the unique real number β such that (a) x ≤ β for all x in S; (b) if ε > 0, there is an x₀ in S such that x₀ > β − ε.

Proof: We first show that β = sup S has properties (a) and (b). Since β is an upper bound of S, it satisfies (a). Since any real number a < β can be written as β − ε with ε > 0, (b) just says no number less than β is an upper bound. Now, suppose β₁ < β₂ and β₂ has property (b); taking ε = β₂ − β₁, there’s x₀ in S with x₀ > β₁, so β₁ fails (a). Thus, uniqueness holds.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "a nonempty set S of real numbers", "statement": "Premise:\n\u2022 S is a nonempty set of real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures the condition. `S : Set \u211d` declares S as a set of real numbers, and `tc_1 : S.Nonempty` states that S is nonempty, which exactly matches the natural language statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "S of real numbers is bounded above", "statement": "Premise:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty)\n(tc_2 : BddAbove S)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers through the type declaration (S : Set \u211d) and the nonemptiness condition (tc_1 : S.Nonempty)", "The Lean formalization correctly captures that S is bounded above using the standard Mathlib definition (tc_2 : BddAbove S)"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "\u03b2 = sup S", "statement": "Definition:\n\u2022 Given that S is a nonempty set of real numbers [tc_1] and is bounded above [tc_2], a unique supremum exists by the completeness axiom of real numbers. Let \u03b2 = sup S [def_1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d)\n(tc_1 : S.Nonempty)\n(tc_2 : BddAbove S)\n(def_1 : \u03b2 = sSup S)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.8, "semantic_feedback": ["The Lean formalization correctly captures that S is a nonempty set of real numbers through the type declaration and nonempty condition", "BddAbove S in Lean correctly represents that S is bounded above", "The completeness axiom is built into Lean's real number system, so this is implicitly satisfied", "The existence and uniqueness of supremum follows automatically from the completeness of reals in Lean's type system", "The Lean uses sSup (supremum) while the natural language uses sup, but these refer to the same mathematical concept. This is a minor notational difference in the formalization"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "(a) x \u2264 \u03b2 for all x in S; (b) if \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 \u2212 \u03b5.", "statement": "Definition:\n\u2022 Property (a) for a real number \u03b3 with respect to set S is defined as: For all x in S, x \u2264 \u03b3. (i.e., \u03b3 is an upper bound of S) [def_2_a];\n\u2022 Property (b) for a real number \u03b3 with respect to set S is defined as: For any \u03b5 > 0, there exists an element x\u2080 in S such that x\u2080 > \u03b3 \u2212 \u03b5. [def_2_b].", "dependencies": ["tc_1", "tc_2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (S : Set \u211d) (\u03b3 : \u211d)\n(def_2_a : \u2200 x \u2208 S, x \u2264 \u03b3)\n(def_2_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b3 - \u03b5)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.8, "semantic_feedback": ["\u03b3 is declared as a real number in both natural language and Lean", "Natural language states 'S is a set' while Lean specifies 'S : Set \u211d' (a set of real numbers). The Lean version is more specific but captures the same concept with additional type information", "The condition \u03b5 > 0 is properly incorporated within the quantification in the Lean formalization", "Property (a) is perfectly captured: \u2200 x \u2208 S, x \u2264 \u03b3 matches exactly", "Property (b) is perfectly captured: \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b3 - \u03b5 matches exactly"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Since \u03b2 is an upper bound of S, it satisfies (a).", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2];\n\u2022 \u03b2 = sup S [def_1];\n\u2022 Property (a) for a real number \u03b3 is defined as \u2200x \u2208 S, x \u2264 \u03b3 [def_2_a];\nTherefore, we conclude:\n\u2022 \u03b2 satisfies property (a) for the set S [l1].", "dependencies": ["tc_1", "tc_2", "def_1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (S : Set \u211d) (\u03b2 : \u211d) (\u03b3 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (def_2_a : \u2200 x \u2208 S, x \u2264 \u03b3) :\n  \u2200 x \u2208 S, x \u2264 \u03b2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (S : Set \u211d) (\u03b2 : \u211d) (\u03b3 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (def_2_a : \u2200 x \u2208 S, x \u2264 \u03b3) :\n  \u2200 x \u2208 S, x \u2264 \u03b2 := by\n  intro x hx\n  rw [def_1]\n  exact le_csSup tc_2 hx", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all components of the natural language statement. The set assumptions (nonempty, bounded above), the definition of \u03b2 as supremum, the definition of property (a), and the conclusion are all accurately represented. The additional variable declaration for \u03b3 is a necessary technical detail that doesn't change the logical meaning of the statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Since any real number a < \u03b2 can be written as \u03b2 \u2212 \u03b5 with \u03b5 > 0, (b) just says no number less than \u03b2 is an upper bound.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2];\n\u2022 \u03b2 = sup S [def_1];\n\u2022 Property (b) for a real number \u03b3 is defined as \u2200\u03b5 > 0, \u2203x\u2080 \u2208 S, x\u2080 > \u03b3 \u2212 \u03b5 [def_2_b];\n\u2022 \u03b2 satisfies property (a) [l1];\nTherefore, we conclude:\n\u2022 \u03b2 satisfies property (b) for the set S [l2].", "dependencies": ["tc_1", "tc_2", "def_1", "def_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (S : Set \u211d) (\u03b2 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2) :\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (S : Set \u211d) (\u03b2 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2) :\n  \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 := by\n  intro \u03b5 h\u03b5\n  rw [def_1] at *\n  have h : sSup S - \u03b5 < sSup S := by linarith\n  exact exists_lt_of_lt_csSup tc_1 h", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 0.8, "semantic_feedback": ["Set assumptions (nonempty and bounded above) are correctly formalized with appropriate Lean types and predicates.", "The definition \u03b2 = sup S is perfectly captured using Lean's sSup notation.", "The conclusion correctly formalizes property (b) as stated in the natural language definition.", "Property (a) is mentioned in natural language but not defined, while Lean provides the concrete mathematical content (upper bound property). This is a minor structural difference but mathematically consistent.", "The overall logical flow from assumptions to conclusion is preserved correctly, with all mathematical relationships maintained."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Now, suppose \u03b2\u2081 < \u03b2\u2082 and \u03b2\u2082 has property (b); taking \u03b5 = \u03b2\u2082 \u2212 \u03b2\u2081, there\u2019s x\u2080 in S with x\u2080 > \u03b2\u2081, so \u03b2\u2081 fails (a).", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2];\n\u2022 \u03b2 = sup S [def_1];\n\u2022 Properties (a) and (b) are defined [def_2];\n\u2022 \u03b2 satisfies properties (a) and (b) [l1, l2];\nTherefore, we conclude:\n\u2022 If \u03b2\u2081 is a real number satisfying property (a) and \u03b2\u2082 is a real number satisfying property (b), then the assumption \u03b2\u2081 < \u03b2\u2082 leads to a contradiction [l3].", "dependencies": ["tc_1", "tc_2", "def_1", "def_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (S : Set \u211d) (\u03b2 : \u211d) (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (def_2 : \u2200 (\u03b3 : \u211d), ( (\u2200 x \u2208 S, x \u2264 \u03b3) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b3 - \u03b5) ) \u2192 True)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (h_\u03b21_prop_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h_\u03b22_prop_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) :\n  \u03b2\u2081 < \u03b2\u2082 \u2192 False := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (S : Set \u211d) (\u03b2 : \u211d) (\u03b2\u2081 \u03b2\u2082 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (def_2 : \u2200 (\u03b3 : \u211d), ( (\u2200 x \u2208 S, x \u2264 \u03b3) \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b3 - \u03b5) ) \u2192 True)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (h_\u03b21_prop_a : \u2200 x \u2208 S, x \u2264 \u03b2\u2081)\n  (h_\u03b22_prop_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) :\n  \u03b2\u2081 < \u03b2\u2082 \u2192 False := by\n  intro h\n  have h\u03b2 : IsLUB S \u03b2 := by\n    rw [def_1]\n    exact isLUB_csSup tc_1 tc_2\n  have h\u03b2\u2081 : \u03b2 \u2264 \u03b2\u2081 := by\n    apply h\u03b2.right\n    exact h_\u03b21_prop_a\n  let \u03b5 := \u03b2\u2082 - \u03b2\u2081\n  have h\u03b5 : \u03b5 > 0 := sub_pos.mpr h\n  obtain \u27e8x\u2080, hx\u2080\u27e9 := h_\u03b22_prop_b \u03b5 h\u03b5\n  have hx\u2080' : x\u2080 > \u03b2\u2081 := by\n    rw [sub_sub_cancel] at hx\u2080\n    exact hx\u2080.2\n  exact not_le_of_gt hx\u2080' (h_\u03b21_prop_a x\u2080 hx\u2080.1)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 0, "semantic_feedback": ["The nonempty set and bounded above conditions are correctly formalized using S.Nonempty and BddAbove S.", "The supremum definition \u03b2 = sSup S correctly captures \u03b2 = sup S.", "The definition def_2 is problematic - it defines properties (a) and (b) as a tautology (\u2192 True) rather than meaningfully defining them. While the actual properties are correctly used elsewhere, this formal definition doesn't serve its intended purpose.", "The conditions l1 and l2 correctly formalize that \u03b2 satisfies the supremum properties (upper bound and least upper bound properties).", "The main theorem structure correctly captures the logical flow: given the assumptions about \u03b2\u2081 and \u03b2\u2082 satisfying their respective properties, assuming \u03b2\u2081 < \u03b2\u2082 leads to a contradiction.", "The hypotheses h_\u03b21_prop_a and h_\u03b22_prop_b correctly assign property (a) to \u03b2\u2081 and property (b) to \u03b2\u2082 respectively.", "Wrong dependencies in Lean4 tactics!"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The nonempty set and bounded above conditions are correctly formalized using S.Nonempty and BddAbove S.', 'The supremum definition \u03b2 = sSup S correctly captures \u03b2 = sup S.', \"The definition def_2 is problematic - it defines properties (a) and (b) as a tautology (\u2192 True) rather than meaningfully defining them. While the actual properties are correctly used elsewhere, this formal definition doesn't serve its intended purpose.\", 'The conditions l1 and l2 correctly formalize that \u03b2 satisfies the supremum properties (upper bound and least upper bound properties).', 'The main theorem structure correctly captures the logical flow: given the assumptions about \u03b2\u2081 and \u03b2\u2082 satisfying their respective properties, assuming \u03b2\u2081 < \u03b2\u2082 leads to a contradiction.', 'The hypotheses h_\u03b21_prop_a and h_\u03b22_prop_b correctly assign property (a) to \u03b2\u2081 and property (b) to \u03b2\u2082 respectively.']"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Thus, uniqueness holds.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2];\n\u2022 \u03b2 = sup S [def_1];\n\u2022 Properties (a) and (b) are defined [def_2];\n\u2022 \u03b2 satisfies properties (a) and (b) [l1, l2];\n\u2022 If \u03b2\u2081 satisfies property (a) and \u03b2\u2082 satisfies property (b), then \u03b2\u2081 < \u03b2\u2082 leads to a contradiction [l3];\nTherefore, we conclude:\n\u2022 Any real number \u03b2 that satisfies both properties (a) and (b) for set S must be unique [l4].", "dependencies": ["tc_1", "tc_2", "def_1", "def_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (S : Set \u211d) (\u03b2 \u03b2' : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (l3 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2192 \u03b2\u2081 < \u03b2\u2082 \u2192 False)\n  (h_beta'_prop_a : \u2200 x \u2208 S, x \u2264 \u03b2')\n  (h_beta'_prop_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) :\n  \u03b2' = \u03b2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (S : Set \u211d) (\u03b2 \u03b2' : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (l3 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2192 \u03b2\u2081 < \u03b2\u2082 \u2192 False)\n  (h_beta'_prop_a : \u2200 x \u2208 S, x \u2264 \u03b2')\n  (h_beta'_prop_b : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) :\n  \u03b2' = \u03b2 := by\n  by_contra h\n  cases' lt_or_gt_of_ne h with h_lt h_gt\n  \u00b7 exact l3 \u03b2' \u03b2 h_beta'_prop_a l2 h_lt\n  \u00b7 exact l3 \u03b2 \u03b2' l1 h_beta'_prop_b h_gt", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The set assumptions (nonempty, bounded above, real numbers) are correctly captured in Lean.", "The definition \u03b2 = sup S is correctly formalized as \u03b2 = sSup S.", "Properties (a) and (b) are properly defined as upper bound property and approximation property, with \u03b2 satisfying both.", "The contradiction statement is accurately formalized with the correct logical structure.", "The uniqueness conclusion is properly formalized by proving equality of any two elements satisfying both properties.", "The additional assumptions about \u03b2' satisfying both properties are necessary and consistent with proving uniqueness."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "We first show that \u03b2 = sup S has properties (a) and (b). ... Thus, uniqueness holds.", "statement": "We assume:\n\u2022 S is a nonempty set of real numbers [tc_1];\n\u2022 S is bounded above [tc_2];\n\u2022 \u03b2 = sup S [def_1];\n\u2022 Properties (a) and (b) are defined [def_2];\n\u2022 \u03b2 = sup S satisfies property (a) [l1];\n\u2022 \u03b2 = sup S satisfies property (b) [l2];\n\u2022 It is impossible for two numbers \u03b2\u2081 and \u03b2\u2082 satisfying the properties to have the relation \u03b2\u2081 < \u03b2\u2082 [l3];\n\u2022 Any real number satisfying both properties (a) and (b) for set S must be unique [l4];\nTherefore, we conclude:\n\u2022 sup S is the unique real number \u03b2 such that (a) x \u2264 \u03b2 for all x in S, and (b) if \u03b5 > 0, there is an x\u2080 in S such that x\u2080 > \u03b2 \u2212 \u03b5 [ts_1].", "dependencies": ["tc_1", "tc_2", "def_1", "def_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (S : Set \u211d) (\u03b2 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (l3 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2192 \u03b2\u2081 < \u03b2\u2082 \u2192 False)\n  (l4 : \u2200 (\u03b2' : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2') \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) \u2192 \u03b2' = \u03b2) :\n  \u2203! \u03b2' : \u211d, (\u2200 x \u2208 S, x \u2264 \u03b2') \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (S : Set \u211d) (\u03b2 : \u211d)\n  (tc_1 : S.Nonempty)\n  (tc_2 : BddAbove S)\n  (def_1 : \u03b2 = sSup S)\n  (l1 : \u2200 x \u2208 S, x \u2264 \u03b2)\n  (l2 : \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5)\n  (l3 : \u2200 (\u03b2\u2081 \u03b2\u2082 : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2\u2081) \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2\u2082 - \u03b5) \u2192 \u03b2\u2081 < \u03b2\u2082 \u2192 False)\n  (l4 : \u2200 (\u03b2' : \u211d), (\u2200 x \u2208 S, x \u2264 \u03b2') \u2192 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) \u2192 \u03b2' = \u03b2) :\n  \u2203! \u03b2' : \u211d, (\u2200 x \u2208 S, x \u2264 \u03b2') \u2227 (\u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2' - \u03b5) := by\n  refine \u27e8\u03b2, \u27e8l1, l2\u27e9, ?_\u27e9\n  intro \u03b2' h\u03b2'\n  exact l4 \u03b2' h\u03b2'.1 h\u03b2'.2", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["tc_1: S.Nonempty correctly captures that S is nonempty", "tc_2: BddAbove S correctly captures that S is bounded above", "def_1: \u03b2 = sSup S correctly captures \u03b2 = sup S", "def_2: Properties (a) and (b) are implicitly but correctly defined through l1 and l2", "l1: \u2200 x \u2208 S, x \u2264 \u03b2 perfectly captures property (a)", "l2: \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 perfectly captures property (b)", "l3: The formalization incorrectly mixes properties - \u03b2\u2081 only has property (a) while \u03b2\u2082 only has property (b), but the natural language implies both should satisfy both properties", "l4: The uniqueness statement correctly captures that any real number satisfying both properties must equal \u03b2", "ts_1: The conclusion perfectly captures the uniqueness of sup S with both required properties"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['tc_1: S.Nonempty correctly captures that S is nonempty', 'tc_2: BddAbove S correctly captures that S is bounded above', 'def_1: \u03b2 = sSup S correctly captures \u03b2 = sup S', 'def_2: Properties (a) and (b) are implicitly but correctly defined through l1 and l2', 'l1: \u2200 x \u2208 S, x \u2264 \u03b2 perfectly captures property (a)', 'l2: \u2200 \u03b5 > 0, \u2203 x\u2080 \u2208 S, x\u2080 > \u03b2 - \u03b5 perfectly captures property (b)', 'l3: The formalization incorrectly mixes properties - \u03b2\u2081 only has property (a) while \u03b2\u2082 only has property (b), but the natural language implies both should satisfy both properties', 'l4: The uniqueness statement correctly captures that any real number satisfying both properties must equal \u03b2', 'ts_1: The conclusion perfectly captures the uniqueness of sup S with both required properties']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    