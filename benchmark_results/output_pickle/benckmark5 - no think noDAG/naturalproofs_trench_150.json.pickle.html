
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $f$ be a real-valued function defined on a subset of $\R^n,$
 and let the
vector-valued function $\mathbf{G}=(g_1,g_2, \dots,g_n)$ be defined on a
domain $D_\mathbf{G}$ in $\R^m.$ Let the set
$$
T=\set{\mathbf{U}}{\mathbf{U}\in D_{\mathbf{G}}\mbox{\quad and \quad}
\mathbf{G}(\mathbf{U})\in D_f}
$$
$($Figure~\ref{figure:5.2.3}$)$,
 be
nonempty$,$ and define the real-valued composite function
$$
h=f\circ\mathbf{G}
$$
on $T$ by
$$
h(\mathbf{U})=f(\mathbf{G}(\mathbf{U})),\quad \mathbf{U}\in T.
$$
Now suppose that  $\mathbf{U}_0$ is in $T$ and is a limit point of $T,$
$\mathbf{G}$ is continuous at $\mathbf{U}_0,$ and $f$ is continuous at
$\mathbf{X}_0=\mathbf{G}(\mathbf{U}_0).$ Then $h$ is continuous at
$\mathbf{U}_0.$

Proof: Suppose that  $\epsilon>0$. Since $f$ is continuous at
$\mathbf{X}_0=\mathbf{G}(\mathbf{U}_0)$, there is an $\epsilon_1>0$
such that
\begin{equation}\label{eq:5.2.17}
|f(\mathbf{X})-f(\mathbf{G}(\mathbf{U}_0))|<\epsilon
\end{equation}
if
\begin{equation}\label{eq:5.2.18}
|\mathbf{X}-\mathbf{G}(\mathbf{U}_0)|<\epsilon_1\mbox{\quad and\quad}
\mathbf{X}\in D_f.
\end{equation}
Since $\mathbf{G}$ is continuous at $\mathbf{U}_0$, there is a $\delta>0$
such that
$$
|\mathbf{G}(\mathbf{U})-\mathbf{G}(\mathbf{U}_0)|<\epsilon_1
\mbox{\quad if\quad} |\mathbf{U}-\mathbf{U}_0|<
\delta\mbox{\quad and\quad}\mathbf{U}\in D_\mathbf{G}.
$$
By taking $\mathbf{X}=\mathbf{G}(\mathbf{U})$ in \eqref{eq:5.2.17} and
\eqref{eq:5.2.18}, we see that
$$
|h(\mathbf{U})-h(\mathbf{U}_0)|=|f(\mathbf{G}(\mathbf{U})
-f(\mathbf{G}(\mathbf{U}_0))|<\epsilon
$$
if
$$
|\mathbf{U}-\mathbf{U}_0|<\delta\mbox{\quad and\quad}\mathbf{U}\in T.
$$
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $f$ be a real-valued function defined on a subset of $\\R^n,$", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (n : \u2115) (f : (Fin n \u2192 \u211d) \u2192 \u211d) (D_f : Set (Fin n \u2192 \u211d))", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly captures that f is real-valued, as f maps to \u211d", "The natural language states that f is defined on domain D_f, but the Lean formalization defines f as a total function on (Fin n \u2192 \u211d) and D_f as just a set. There's no connection established between f's domain and D_f in the Lean code - f is defined on all of (Fin n \u2192 \u211d), not restricted to D_f", "The Lean formalization correctly represents D_f \u2286 \u211d\u207f, where \u211d\u207f is represented as (Fin n \u2192 \u211d) and D_f is a Set of that type"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly captures that f is real-valued, as f maps to \u211d', \"The natural language states that f is defined on domain D_f, but the Lean formalization defines f as a total function on (Fin n \u2192 \u211d) and D_f as just a set. There's no connection established between f's domain and D_f in the Lean code - f is defined on all of (Fin n \u2192 \u211d), not restricted to D_f\", 'The Lean formalization correctly represents D_f \u2286 \u211d\u207f, where \u211d\u207f is represented as (Fin n \u2192 \u211d) and D_f is a Set of that type']"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "let the vector-valued function $\\mathbf{G}=(g_1,g_2, \\dots,g_n)$ be defined on a domain $D_\\mathbf{G}$ in $\\R^m.$", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (n m : \u2115) (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d)) (D_G : Set (Fin m \u2192 \u211d))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language specifies a real-valued function f with domain D_f \u2286 \u211d\u207f, but the Lean formalization completely omits any declaration of function f or its domain D_f. This is a major missing component.", "The Lean formalization declares G as a function from (Fin m \u2192 \u211d) to (Fin n \u2192 \u211d) and D_G as a Set (Fin m \u2192 \u211d), which correctly represents the mathematical concepts of a vector-valued function from \u211d\u1d50 to \u211d\u207f and its domain. However, there's no explicit constraint showing that G is defined specifically on domain D_G, though this could be implicit in the context."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language specifies a real-valued function f with domain D_f \u2286 \u211d\u207f, but the Lean formalization completely omits any declaration of function f or its domain D_f. This is a major missing component.', \"The Lean formalization declares G as a function from (Fin m \u2192 \u211d) to (Fin n \u2192 \u211d) and D_G as a Set (Fin m \u2192 \u211d), which correctly represents the mathematical concepts of a vector-valued function from \u211d\u1d50 to \u211d\u207f and its domain. However, there's no explicit constraint showing that G is defined specifically on domain D_G, though this could be implicit in the context.\"]"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "Let the set\n$$\nT=\\set{\\mathbf{U}}{\\mathbf{U}\\in D_{\\mathbf{G}}\\mbox{\\quad and \\quad}\n\\mathbf{G}(\\mathbf{U})\\in D_f}\n$$\nbe nonempty", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (n m : \u2115) (f : (Fin n \u2192 \u211d) \u2192 \u211d) (D_f : Set (Fin n \u2192 \u211d))\n(G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d)) (D_G : Set (Fin m \u2192 \u211d))\n(T : Set (Fin m \u2192 \u211d))\n(tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is mathematically equivalent but a different representation. The function type and domain structure are correctly captured.", "Similar to condition 1, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors in \u211d\u1d50 and \u211d\u207f respectively. The function mapping and domain structure are correctly captured but with different vector representation.", "The Lean formalization perfectly captures both the set definition and the nonempty condition. The logical structure `U \u2208 D_G \u2227 G U \u2208 D_f` correctly represents the mathematical condition `\ud835\udc14 \u2208 D_\ud835\udc06 \u2223 \ud835\udc06(\ud835\udc14) \u2208 D_f`, and `T.Nonempty` captures the nonempty requirement."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is mathematically equivalent but a different representation. The function type and domain structure are correctly captured.', 'Similar to condition 1, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors in \u211d\u1d50 and \u211d\u207f respectively. The function mapping and domain structure are correctly captured but with different vector representation.', 'The Lean formalization perfectly captures both the set definition and the nonempty condition. The logical structure `U \u2208 D_G \u2227 G U \u2208 D_f` correctly represents the mathematical condition `\ud835\udc14 \u2208 D_\ud835\udc06 \u2223 \ud835\udc06(\ud835\udc14) \u2208 D_f`, and `T.Nonempty` captures the nonempty requirement.']"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "define the real-valued composite function\n$$\nh=f\\circ\\mathbf{G}\n$$\non $T$ by\n$$\nh(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U})),\\quad \\mathbf{U}\\in T.", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].\n\u2022 The composite function $h=f\\circ\\mathbf{G}$ is defined on $T$ by $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is mathematically equivalent but a different representation. The function f and domain D_f are declared but their relationship (that f is defined on D_f) is not explicitly stated in the Lean code, though it's implied by the context.", "Similar to condition 1, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors, which is equivalent but different notation. The function G and domain D_G are declared but their explicit relationship is not stated in the Lean code.", "The Lean formalization perfectly captures both the definition of T and the nonempty condition using `T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty`.", "The Lean formalization perfectly captures the composite function definition using `\u2200 U \u2208 T, (f \u2218 G) U = f (G U)`, which is exactly what the natural language states."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean formalization uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is mathematically equivalent but a different representation. The function f and domain D_f are declared but their relationship (that f is defined on D_f) is not explicitly stated in the Lean code, though it's implied by the context.\", 'Similar to condition 1, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors, which is equivalent but different notation. The function G and domain D_G are declared but their explicit relationship is not stated in the Lean code.', 'The Lean formalization perfectly captures both the definition of T and the nonempty condition using `T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty`.', 'The Lean formalization perfectly captures the composite function definition using `\u2200 U \u2208 T, (f \u2218 G) U = f (G U)`, which is exactly what the natural language states.']"}, "type": "condition"}, "tc_5": {"id": "tc_5", "natural_language": "Now suppose that  $\\mathbf{U}_0$ is in $T$ and is a limit point of $T,$", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].\n\u2022 The composite function $h=f\\circ\\mathbf{G}$ is defined on $T$ by $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4].\n\u2022 $\\mathbf{U}_0$ is in $T$ and is a limit point of $T$ [tc_5].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is a valid but different representation than the mathematical notation \u211d\u207f. The domain constraint is implicit in Lean rather than explicitly stated as a subset relationship.", "Similar to f, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors, which is mathematically equivalent but notationally different from \u211d\u1d50 and \u211d\u207f.", "The Lean formalization perfectly captures both the set definition and the nonempty condition, with the logical structure exactly matching the mathematical statement.", "The Lean uses `U_0 \u2208 closure (T \\ {U_0})` which is the standard topological definition of a limit point, equivalent to but more precise than the natural language 'limit point of T'.", "The Lean formalization exactly captures the composite function definition with the same mathematical meaning and structure."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean uses `Fin n \u2192 \u211d` to represent vectors in \u211d\u207f, which is a valid but different representation than the mathematical notation \u211d\u207f. The domain constraint is implicit in Lean rather than explicitly stated as a subset relationship.', 'Similar to f, the Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d` to represent vectors, which is mathematically equivalent but notationally different from \u211d\u1d50 and \u211d\u207f.', 'The Lean formalization perfectly captures both the set definition and the nonempty condition, with the logical structure exactly matching the mathematical statement.', \"The Lean uses `U_0 \u2208 closure (T \\\\ {U_0})` which is the standard topological definition of a limit point, equivalent to but more precise than the natural language 'limit point of T'.\", 'The Lean formalization exactly captures the composite function definition with the same mathematical meaning and structure.']"}, "type": "condition"}, "tc_6": {"id": "tc_6", "natural_language": "$\\mathbf{G}$ is continuous at $\\mathbf{U}_0,$", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].\n\u2022 The composite function $h=f\\circ\\mathbf{G}$ is defined on $T$ by $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4].\n\u2022 $\\mathbf{U}_0$ is in $T$ and is a limit point of $T$ [tc_5].\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean uses `(Fin n \u2192 \u211d)` to represent vectors in \u211d\u207f, which is a valid but different representation than the standard mathematical notation. The function type and domain are correctly captured.", "Similar to condition 1, Lean uses `(Fin m \u2192 \u211d)` and `(Fin n \u2192 \u211d)` to represent vectors, which is mathematically equivalent but notationally different from \u211d\u1d50 and \u211d\u207f.", "The set definition and nonemptiness condition are perfectly captured in Lean with the same logical structure.", "The composite function definition is correctly formalized, explicitly stating the equality for all U in T.", "The Lean formalization uses `U_0 \u2208 closure (T \\ {U_0})` which is the standard topological definition of a limit point, equivalent to but more precise than the natural language statement.", "The continuity condition is perfectly captured using Lean's `ContinuousAt` predicate."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean uses `(Fin n \u2192 \u211d)` to represent vectors in \u211d\u207f, which is a valid but different representation than the standard mathematical notation. The function type and domain are correctly captured.', 'Similar to condition 1, Lean uses `(Fin m \u2192 \u211d)` and `(Fin n \u2192 \u211d)` to represent vectors, which is mathematically equivalent but notationally different from \u211d\u1d50 and \u211d\u207f.', 'The set definition and nonemptiness condition are perfectly captured in Lean with the same logical structure.', 'The composite function definition is correctly formalized, explicitly stating the equality for all U in T.', 'The Lean formalization uses `U_0 \u2208 closure (T \\\\ {U_0})` which is the standard topological definition of a limit point, equivalent to but more precise than the natural language statement.', \"The continuity condition is perfectly captured using Lean's `ContinuousAt` predicate.\"]"}, "type": "condition"}, "tc_7": {"id": "tc_7", "natural_language": "and $f$ is continuous at $\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0).$", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a vector-valued function defined on a domain $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ with values in $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].\n\u2022 The composite function $h=f\\circ\\mathbf{G}$ is defined on $T$ by $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4].\n\u2022 $\\mathbf{U}_0$ is in $T$ and is a limit point of $T$ [tc_5].\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6].\n\u2022 $f$ is continuous at $\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0)$ [tc_7].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.57, "semantic_feedback": ["The natural language uses $\\mathbb{R}^n$ while Lean uses `Fin n \u2192 \u211d`. These are isomorphic representations of n-dimensional real space, but use different notational conventions. The mathematical meaning is equivalent.", "Similar to tc_1, the natural language uses $\\mathbb{R}^m$ and $\\mathbb{R}^n$ while Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d`. The function types are equivalent but use different representations of finite-dimensional real vector spaces.", "The Lean formalization exactly captures both the set definition and the nonempty condition as stated in the natural language.", "The Lean formalization correctly captures the definition of the composite function using function composition notation, which is mathematically equivalent to the natural language statement.", "The natural language states '$\\mathbf{U}_0$ is a limit point of $T$' while Lean uses '$U_0 \u2208 closure (T \\ \\{U_0\\})$'. These are equivalent definitions of a limit point in topology, but use different formulations.", "The Lean formalization directly matches the natural language statement about continuity of G at U_0.", "The Lean formalization directly matches the natural language statement about continuity of f at G(U_0), with the implicit understanding that X_0 = G(U_0)."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.57, below threshold 0.6.\nScorer feedback: ['The natural language uses $\\\\mathbb{R}^n$ while Lean uses `Fin n \u2192 \u211d`. These are isomorphic representations of n-dimensional real space, but use different notational conventions. The mathematical meaning is equivalent.', 'Similar to tc_1, the natural language uses $\\\\mathbb{R}^m$ and $\\\\mathbb{R}^n$ while Lean uses `Fin m \u2192 \u211d` and `Fin n \u2192 \u211d`. The function types are equivalent but use different representations of finite-dimensional real vector spaces.', 'The Lean formalization exactly captures both the set definition and the nonempty condition as stated in the natural language.', 'The Lean formalization correctly captures the definition of the composite function using function composition notation, which is mathematically equivalent to the natural language statement.', \"The natural language states '$\\\\mathbf{U}_0$ is a limit point of $T$' while Lean uses '$U_0 \u2208 closure (T \\\\ \\\\{U_0\\\\})$'. These are equivalent definitions of a limit point in topology, but use different formulations.\", 'The Lean formalization directly matches the natural language statement about continuity of G at U_0.', 'The Lean formalization directly matches the natural language statement about continuity of f at G(U_0), with the implicit understanding that X_0 = G(U_0).']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Suppose that  $\\epsilon>0$.", "statement": "Definition:\n\u2022 Let $\\epsilon$ be a real number such that $\\epsilon > 0$ [def_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (def_1 : \u03b5 > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean code does not explicitly declare \u03b5 as a real number (\u03b5 : \u211d) in the variable section, while the natural language clearly states \u03b5 is a real number", "The condition \u03b5 > 0 is perfectly captured by (def_1 : \u03b5 > 0) in Lean", "The conclusion that \u03b5 is defined as a positive real number is mostly captured by (def_1 : \u03b5 > 0), but the explicit real number type declaration is missing from the Lean formalization"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean code does not explicitly declare \u03b5 as a real number (\u03b5 : \u211d) in the variable section, while the natural language clearly states \u03b5 is a real number', 'The condition \u03b5 > 0 is perfectly captured by (def_1 : \u03b5 > 0) in Lean', 'The conclusion that \u03b5 is defined as a positive real number is mostly captured by (def_1 : \u03b5 > 0), but the explicit real number type declaration is missing from the Lean formalization']"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "Since $f$ is continuous at\n$\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0)$, there is an $\\epsilon_1>0$\nsuch that\n\\begin{equation}\\label{eq:5.2.17}\n|f(\\mathbf{X})-f(\\mathbf{G}(\\mathbf{U}_0))|<\\epsilon\n\\end{equation}\nif\n\\begin{equation}\\label{eq:5.2.18}\n|\\mathbf{X}-\\mathbf{G}(\\mathbf{U}_0)|<\\epsilon_1\\mbox{\\quad and\\quad}\n\\mathbf{X}\\in D_f.\n\\end{equation}", "statement": "We assume:\n\u2022 $f$ is continuous at $\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0)$ [tc_7];\n\u2022 Let $\\epsilon$ be a real number such that $\\epsilon > 0$ [def_1];\nTherefore, we conclude:\n\u2022 There exists an $\\epsilon_1 > 0$ such that for any $\\mathbf{X} \\in D_f$ with $|\\mathbf{X}-\\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$, we have $|f(\\mathbf{X})-f(\\mathbf{G}(\\mathbf{U}_0))| < \\epsilon$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (\u03b5 : \u211d)\n  (def_1 : \u03b5 > 0) :\n  \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 |X - G U_0| < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (\u03b5 : \u211d)\n  (def_1 : \u03b5 > 0) :\n  \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 \u2016X - G U_0\u2016 < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5 := by\n  rcases Metric.continuousAt_iff.1 tc_7 \u03b5 def_1 with \u27e8\u03b5_1, h\u03b5_1, h\u27e9\n  use \u03b5_1, h\u03b5_1\n  intro X hX hX'\n  exact h hX'", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The continuity assumption tc_7 in Lean exactly matches the natural language statement that f is continuous at G(U_0)", "The epsilon conditions (\u03b5 : \u211d) and (def_1 : \u03b5 > 0) perfectly capture the natural language requirement that epsilon is a positive real number", "The conclusion statement in Lean precisely formalizes the existential quantification over \u03b5_1 and the universal quantification over X with the required conditions, matching the natural language conclusion exactly. The additional context assumptions in Lean are supplementary and don't contradict the core logical relationship being expressed"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Since $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$, there is a $\\delta>0$\nsuch that\n$$\n|\\mathbf{G}(\\mathbf{U})-\\mathbf{G}(\\mathbf{U}_0)|<\\epsilon_1\n\\mbox{\\quad if\\quad} |\\mathbf{U}-\\mathbf{U}_0|< \n\\delta\\mbox{\\quad and\\quad}\\mathbf{U}\\in D_\\mathbf{G}.\n$$", "statement": "We assume:\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6];\n\u2022 There exists an $\\epsilon_1 > 0$ such that for any $\\mathbf{X} \\in D_f$ with $|\\mathbf{X}-\\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$, we have $|f(\\mathbf{X})-f(\\mathbf{G}(\\mathbf{U}_0))| < \\epsilon$ [l1];\nTherefore, we conclude:\n\u2022 For the $\\epsilon_1 > 0$ from [l1], there exists a $\\delta > 0$ such that for any $\\mathbf{U} \\in D_\\mathbf{G}$ with $|\\mathbf{U}-\\mathbf{U}_0| < \\delta$, we have $|\\mathbf{G}(\\mathbf{U})-\\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (\u03b5 : \u211d)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 |X - G U_0| < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5) :\n  \u2203 \u03b5_1 > 0, (\u2200 X' : Fin n \u2192 \u211d, X' \u2208 D_f \u2192 |X' - G U_0| < \u03b5_1 \u2192 |f X' - f (G U_0)| < \u03b5) \u2192\n  (\u2203 \u03b4 > 0, \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 |U - U_0| < \u03b4 \u2192 |G U - G U_0| < \u03b5_1) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (\u03b5 : \u211d)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 |X - G U_0| < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5) :\n  \u2203 \u03b5_1 > 0, (\u2200 X' : Fin n \u2192 \u211d, X' \u2208 D_f \u2192 |X' - G U_0| < \u03b5_1 \u2192 |f X' - f (G U_0)| < \u03b5) \u2192\n  (\u2203 \u03b4 > 0, \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 |U - U_0| < \u03b4 \u2192 |G U - G U_0| < \u03b5_1) := by\n  obtain \u27e8\u03b5\u2081, h\u03b5\u2081, h\u27e9 := l1\n  refine \u27e8\u03b5\u2081, h\u03b5\u2081, fun _ => ?_\u27e9\n  rw [Metric.continuousAt_iff] at tc_6\n  obtain \u27e8\u03b4, h\u03b4pos, h\u03b4\u27e9 := tc_6 \u03b5\u2081 h\u03b5\u2081\n  exact \u27e8\u03b4, h\u03b4pos, h\u03b4\u27e9", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 26, "column": 32, "endLine": 26, "endColumn": 34, "data": "application type mismatch\n  tc_6 \u03b5\u2081\nargument\n  \u03b5\u2081\nhas type\n  Fin n \u2192 \u211d : Type\nbut is expected to have type\n  \u211d : Type"}, {"line": 27, "column": 9, "endLine": 27, "endColumn": 10, "data": "application type mismatch\n  Exists.intro \u03b4\nargument\n  \u03b4\nhas type\n  \u211d : Type\nbut is expected to have type\n  Fin m \u2192 \u211d : Type"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumptions (tc_6 and l1) are correctly captured in the Lean formalization, with proper translation of continuity and the epsilon condition.", "The conclusion has a major logical inconsistency. The natural language refers to 'the \u03b5\u2081 > 0 from [l1]', indicating we should use the specific \u03b5\u2081 already established in assumption l1. However, the Lean formalization introduces a new existential quantifier for \u03b5\u2081 and makes the l1 property a conditional hypothesis rather than using the established assumption. This fundamentally changes the logical structure from 'given the \u03b5\u2081 from l1, prove \u2203\u03b4...' to 'prove \u2203\u03b5\u2081 such that if l1 holds then \u2203\u03b4...'", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The assumptions (tc_6 and l1) are correctly captured in the Lean formalization, with proper translation of continuity and the epsilon condition.', \"The conclusion has a major logical inconsistency. The natural language refers to 'the \u03b5\u2081 > 0 from [l1]', indicating we should use the specific \u03b5\u2081 already established in assumption l1. However, the Lean formalization introduces a new existential quantifier for \u03b5\u2081 and makes the l1 property a conditional hypothesis rather than using the established assumption. This fundamentally changes the logical structure from 'given the \u03b5\u2081 from l1, prove \u2203\u03b4...' to 'prove \u2203\u03b5\u2081 such that if l1 holds then \u2203\u03b4...'\"]"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "By taking $\\mathbf{X}=\\mathbf{G}(\\mathbf{U})$ in \\eqref{eq:5.2.17} and\n\\eqref{eq:5.2.18}, we see that\n$$\n|h(\\mathbf{U})-h(\\mathbf{U}_0)|=|f(\\mathbf{G}(\\mathbf{U}))\n-f(\\mathbf{G}(\\mathbf{U}_0))|<\\epsilon\n$$\nif\n$$\n|\\mathbf{U}-\\mathbf{U}_0|<\\delta\\mbox{\\quad and\\quad}\\mathbf{U}\\in T.\n$$", "statement": "We assume:\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3];\n\u2022 The composite function $h$ is defined by $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4];\n\u2022 There exists an $\\epsilon_1 > 0$ such that for any $\\mathbf{X} \\in D_f$ with $|\\mathbf{X}-\\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$, we have $|f(\\mathbf{X})-f(\\mathbf{G}(\\mathbf{U}_0))| < \\epsilon$ [l1];\n\u2022 For $\\epsilon_1$, there exists a $\\delta > 0$ such that for any $\\mathbf{U} \\in D_\\mathbf{G}$ with $|\\mathbf{U}-\\mathbf{U}_0| < \\delta$, we have $|\\mathbf{G}(\\mathbf{U})-\\mathbf{G}(\\mathbf{U}_0)| < \\epsilon_1$ [l2];\nTherefore, we conclude:\n\u2022 For any $\\mathbf{U}$ such that $|\\mathbf{U}-\\mathbf{U}_0|<\\delta$ and $\\mathbf{U}\\in T$, it holds that $|h(\\mathbf{U})-h(\\mathbf{U}_0)| < \\epsilon$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (\u03b5 : \u211d)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 |X - G U_0| < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5)\n  (l2 : \u2203 \u03b5_1 > 0, (\u2200 X' : Fin n \u2192 \u211d, X' \u2208 D_f \u2192 |X' - G U_0| < \u03b5_1 \u2192 |f X' - f (G U_0)| < \u03b5) \u2192\n    (\u2203 \u03b4 : \u211d, \u03b4 > 0 \u2227 \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 |U - U_0| < \u03b4 \u2192 |G U - G U_0| < \u03b5_1)) :\n  \u2203 (\u03b4 : \u211d), \u03b4 > 0 \u2227 (\u2200 (U : Fin m \u2192 \u211d), |U - U_0| < \u03b4 \u2227 U \u2208 T \u2192 |(f \u2218 G) U - (f \u2218 G) U_0| < \u03b5) := by\nsorry", "lean_pass": false, "error_msg": [{"line": 22, "column": 63, "endLine": 22, "endColumn": 64, "data": "type mismatch\n  \u03b4\nhas type\n  \u211d : Type\nbut is expected to have type\n  Fin m \u2192 \u211d : Type"}, {"line": 23, "column": 53, "endLine": 23, "endColumn": 54, "data": "type mismatch\n  \u03b4\nhas type\n  \u211d : Type\nbut is expected to have type\n  Fin m \u2192 \u211d : Type"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (n m : \u2115)\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (\u03b5 : \u211d)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5\u2081 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 \u2016X - G U_0\u2016 < \u03b5\u2081 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5)\n  (l2 : \u2200 \u03b5\u2081 > 0, (\u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 \u2016X - G U_0\u2016 < \u03b5\u2081 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5) \u2192 \n    \u2203 \u03b4 > 0, \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 \u2016U - U_0\u2016 < \u03b4 \u2192 \u2016G U - G U_0\u2016 < \u03b5\u2081) :\n  \u2203 (\u03b4 : \u211d), \u03b4 > 0 \u2227 (\u2200 (U : Fin m \u2192 \u211d), \u2016U - U_0\u2016 < \u03b4 \u2227 U \u2208 T \u2192 \u2016(f \u2218 G) U - (f \u2218 G) U_0\u2016 < \u03b5) := by\n  obtain \u27e8\u03b5\u2081, h\u03b5\u2081, hf\u27e9 := l1\n  obtain \u27e8\u03b4, h\u03b4, hG\u27e9 := l2 \u03b5\u2081 h\u03b5\u2081 hf\n  use \u03b4\n  constructor\n  \u00b7 exact h\u03b4\n  \u00b7 intro U hU\n    have hU_T : U \u2208 T := hU.2\n    rw [tc_4 U hU_T, tc_4 U_0 (tc_3.1 \u25b8 tc_5.1)]\n    apply hf (G U)\n    \u00b7 exact (tc_3.1 \u25b8 hU_T).2\n    \u00b7 apply hG U (tc_3.1 \u25b8 hU_T).1 hU.1", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Then $h$ is continuous at\n$\\mathbf{U}_0.$", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function on $D_f \\subseteq \\mathbb{R}^n$ [tc_1].\n\u2022 Let $\\mathbf{G}$ be a function on $D_\\mathbf{G} \\subseteq \\mathbb{R}^m$ to $\\mathbb{R}^n$ [tc_2].\n\u2022 The set $T = \\{\\mathbf{U} \\in D_\\mathbf{G} \\mid \\mathbf{G}(\\mathbf{U}) \\in D_f\\}$ is nonempty [tc_3].\n\u2022 $h(\\mathbf{U})=f(\\mathbf{G}(\\mathbf{U}))$ for $\\mathbf{U}\\in T$ [tc_4].\n\u2022 $\\mathbf{U}_0 \\in T$ and is a limit point of $T$ [tc_5].\n\u2022 $\\mathbf{G}$ is continuous at $\\mathbf{U}_0$ [tc_6].\n\u2022 $f$ is continuous at $\\mathbf{X}_0=\\mathbf{G}(\\mathbf{U}_0)$ [tc_7].\n\u2022 Let $\\epsilon > 0$ be a real number [def_1].\n\u2022 There exists an $\\epsilon_1 > 0$ with a property for $f$ [l1].\n\u2022 There exists a $\\delta > 0$ with a property for $\\mathbf{G}$ related to $\\epsilon_1$ [l2].\n\u2022 For any $\\mathbf{U}$ such that $|\\mathbf{U}-\\mathbf{U}_0|<\\delta$ and $\\mathbf{U}\\in T$, it holds that $|h(\\mathbf{U})-h(\\mathbf{U}_0)| < \\epsilon$ [l3].\nTherefore, we conclude:\n\u2022 The function $h$ is continuous at $\\mathbf{U}_0$ [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "tc_4", "tc_5", "tc_6", "tc_7", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n m : \u2115}\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : True)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (\u03b5 : \u211d)\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 |X - G U_0| < \u03b5_1 \u2192 |f X - f (G U_0)| < \u03b5)\n  (l2 : \u2200 \u03b5_1 > 0, (\u2200 X' : Fin n \u2192 \u211d, X' \u2208 D_f \u2192 |X' - G U_0| < \u03b5_1 \u2192 |f X' - f (G U_0)| < \u03b5) \u2192\n  (\u2203 (\u03b4_val : \u211d), \u03b4_val > 0 \u2227 \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 |U - U_0| < \u03b4_val \u2192 |G U - G U_0| < \u03b5_1))\n  (l3 : \u2200 (\u03b4_val : \u211d), \u03b4_val > 0 \u2192 (\u2200 (U : Fin m \u2192 \u211d), |U - U_0| < \u03b4_val \u2192 U \u2208 T \u2192 |((f \u2218 G) U) - ((f \u2218 G) U_0)| < \u03b5)) :\n  ContinuousAt (fun U : Fin m \u2192 \u211d => f (G U)) U_0 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 24, "column": 71, "endLine": 24, "endColumn": 76, "data": "type mismatch\n  \u03b4_val\nhas type\n  \u211d : Type\nbut is expected to have type\n  Fin m \u2192 \u211d : Type"}, {"line": 25, "column": 67, "endLine": 25, "endColumn": 72, "data": "type mismatch\n  \u03b4_val\nhas type\n  \u211d : Type\nbut is expected to have type\n  Fin m \u2192 \u211d : Type"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n m : \u2115}\n  (f : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (D_f : Set (Fin n \u2192 \u211d))\n  (G : (Fin m \u2192 \u211d) \u2192 (Fin n \u2192 \u211d))\n  (D_G : Set (Fin m \u2192 \u211d))\n  (T : Set (Fin m \u2192 \u211d))\n  (U_0 : Fin m \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : True)\n  (tc_3 : T = {U : Fin m \u2192 \u211d | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty)\n  (tc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U))\n  (tc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0}))\n  (tc_6 : ContinuousAt G U_0)\n  (tc_7 : ContinuousAt f (G U_0))\n  (\u03b5 : \u211d)\n  (def_1 : \u03b5 > 0)\n  (l1 : \u2203 \u03b5_1 > 0, \u2200 (X : Fin n \u2192 \u211d), X \u2208 D_f \u2192 \u2016X - G U_0\u2016 < \u03b5_1 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5)\n  (l2 : \u2200 \u03b5_1 > 0, (\u2200 X' : Fin n \u2192 \u211d, X' \u2208 D_f \u2192 \u2016X' - G U_0\u2016 < \u03b5_1 \u2192 \u2016f X' - f (G U_0)\u2016 < \u03b5) \u2192\n  (\u2203 (\u03b4_val : \u211d), \u03b4_val > 0 \u2227 \u2200 (U : Fin m \u2192 \u211d), U \u2208 D_G \u2192 \u2016U - U_0\u2016 < \u03b4_val \u2192 \u2016G U - G U_0\u2016 < \u03b5_1))\n  (l3 : \u2200 (\u03b4_val : \u211d), \u03b4_val > 0 \u2192 (\u2200 (U : Fin m \u2192 \u211d), \u2016U - U_0\u2016 < \u03b4_val \u2192 U \u2208 T \u2192 \u2016((f \u2218 G) U) - ((f \u2218 G) U_0)\u2016 < \u03b5)) :\n  ContinuousAt (fun U : Fin m \u2192 \u211d => f (G U)) U_0 := by\n  rw [continuousAt_def]\n  intro \u03b5 h\u03b5\n  obtain \u27e8\u03b5\u2081, h\u03b5\u2081, hf\u27e9 := l1\n  obtain \u27e8\u03b4, h\u03b4, hG\u27e9 := l2 \u03b5\u2081 h\u03b5\u2081 hf\n  refine mem_nhds_iff.mpr \u27e8Metric.ball U_0 \u03b4, ?_, Metric.ball_mem_nhds U_0 h\u03b4\u27e9\n  intro U hU\n  simp only [Metric.mem_ball] at hU\n  have hU' : U \u2208 T := by\n    rw [tc_3.1]\n    exact \u27e8hG U (by rwa [mem_setOf_eq]) hU.le, by rw [mem_setOf_eq]; exact hG U (by rwa [mem_setOf_eq]) hU.le\u27e9\n  rw [\u2190 tc_4 U hU', \u2190 tc_4 U_0 (tc_5.1)]\n  exact l3 \u03b4 h\u03b4 U hU.le hU'", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 31, "column": 50, "endLine": 31, "endColumn": 77, "data": "application type mismatch\n  \u27e8?m.5027, Metric.ball_mem_nhds U_0 h\u03b4\u27e9\nargument\n  Metric.ball_mem_nhds U_0 h\u03b4\nhas type\n  Metric.ball U_0 \u03b4 \u2208 \ud835\udcdd U_0 : Prop\nbut is expected to have type\n  IsOpen (Metric.ball U_0 \u03b4) \u2227 U_0 \u2208 Metric.ball U_0 \u03b4 : Prop"}, {"line": 36, "column": 40, "endLine": 36, "endColumn": 45, "data": "application type mismatch\n  hG U ?m.5647 (LT.lt.le hU)\nargument\n  LT.lt.le hU\nhas type\n  Dist.dist U U_0 \u2264 \u03b4 : Prop\nbut is expected to have type\n  \u2016U - U_0\u2016 < \u03b4 : Prop"}, {"line": 36, "column": 25, "endLine": 36, "endColumn": 37, "data": "unknown identifier 'mem_setOf_eq'"}, {"line": 36, "column": 25, "endLine": 36, "endColumn": 37, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.6352\nn m : \u2115\nf : (Fin n \u2192 \u211d) \u2192 \u211d\nD_f : Set (Fin n \u2192 \u211d)\nG : (Fin m \u2192 \u211d) \u2192 Fin n \u2192 \u211d\nD_G T : Set (Fin m \u2192 \u211d)\nU_0 : Fin m \u2192 \u211d\ntc_1 tc_2 : True\ntc_3 : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty\ntc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U)\ntc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0})\ntc_6 : ContinuousAt G U_0\ntc_7 : ContinuousAt f (G U_0)\n\u03b5\u271d : \u211d\ndef_1 : \u03b5\u271d > 0\nl2 :\n  \u2200 \u03b5_1 > 0,\n    (\u2200 X' \u2208 D_f, \u2016X' - G U_0\u2016 < \u03b5_1 \u2192 \u2016f X' - f (G U_0)\u2016 < \u03b5\u271d) \u2192\n      \u2203 \u03b4_val > 0, \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4_val \u2192 \u2016G U - G U_0\u2016 < \u03b5_1\nl3 : \u2200 \u03b4_val > 0, \u2200 (U : Fin m \u2192 \u211d), \u2016U - U_0\u2016 < \u03b4_val \u2192 U \u2208 T \u2192 \u2016(f \u2218 G) U - (f \u2218 G) U_0\u2016 < \u03b5\u271d\n\u03b5 : Set \u211d\nh\u03b5 : \u03b5 \u2208 \ud835\udcdd (f (G U_0))\n\u03b5\u2081 : \u211d\nh\u03b5\u2081 : \u03b5\u2081 > 0\nhf : \u2200 X \u2208 D_f, \u2016X - G U_0\u2016 < \u03b5\u2081 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5\u271d\n\u03b4 : \u211d\nh\u03b4 : \u03b4 > 0\nhG : \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4 \u2192 \u2016G U - G U_0\u2016 < \u03b5\u2081\nU : Fin m \u2192 \u211d\nhU : Dist.dist U U_0 < \u03b4\n\u22a2 U \u2208 D_G"}, {"line": 36, "column": 54, "endLine": 36, "endColumn": 66, "data": "unknown identifier 'mem_setOf_eq'"}, {"line": 36, "column": 54, "endLine": 36, "endColumn": 66, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.6354\nn m : \u2115\nf : (Fin n \u2192 \u211d) \u2192 \u211d\nD_f : Set (Fin n \u2192 \u211d)\nG : (Fin m \u2192 \u211d) \u2192 Fin n \u2192 \u211d\nD_G T : Set (Fin m \u2192 \u211d)\nU_0 : Fin m \u2192 \u211d\ntc_1 tc_2 : True\ntc_3 : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty\ntc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U)\ntc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0})\ntc_6 : ContinuousAt G U_0\ntc_7 : ContinuousAt f (G U_0)\n\u03b5\u271d : \u211d\ndef_1 : \u03b5\u271d > 0\nl2 :\n  \u2200 \u03b5_1 > 0,\n    (\u2200 X' \u2208 D_f, \u2016X' - G U_0\u2016 < \u03b5_1 \u2192 \u2016f X' - f (G U_0)\u2016 < \u03b5\u271d) \u2192\n      \u2203 \u03b4_val > 0, \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4_val \u2192 \u2016G U - G U_0\u2016 < \u03b5_1\nl3 : \u2200 \u03b4_val > 0, \u2200 (U : Fin m \u2192 \u211d), \u2016U - U_0\u2016 < \u03b4_val \u2192 U \u2208 T \u2192 \u2016(f \u2218 G) U - (f \u2218 G) U_0\u2016 < \u03b5\u271d\n\u03b5 : Set \u211d\nh\u03b5 : \u03b5 \u2208 \ud835\udcdd (f (G U_0))\n\u03b5\u2081 : \u211d\nh\u03b5\u2081 : \u03b5\u2081 > 0\nhf : \u2200 X \u2208 D_f, \u2016X - G U_0\u2016 < \u03b5\u2081 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5\u271d\n\u03b4 : \u211d\nh\u03b4 : \u03b4 > 0\nhG : \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4 \u2192 \u2016G U - G U_0\u2016 < \u03b5\u2081\nU : Fin m \u2192 \u211d\nhU : Dist.dist U U_0 < \u03b4\n\u22a2 G U \u2208 D_f"}, {"line": 37, "column": 6, "endLine": 37, "endColumn": 18, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  f (G U)\ncase intro.intro.intro.intro\nn m : \u2115\nf : (Fin n \u2192 \u211d) \u2192 \u211d\nD_f : Set (Fin n \u2192 \u211d)\nG : (Fin m \u2192 \u211d) \u2192 Fin n \u2192 \u211d\nD_G T : Set (Fin m \u2192 \u211d)\nU_0 : Fin m \u2192 \u211d\ntc_1 tc_2 : True\ntc_3 : T = {U | U \u2208 D_G \u2227 G U \u2208 D_f} \u2227 T.Nonempty\ntc_4 : \u2200 U \u2208 T, (f \u2218 G) U = f (G U)\ntc_5 : U_0 \u2208 T \u2227 U_0 \u2208 closure (T \\ {U_0})\ntc_6 : ContinuousAt G U_0\ntc_7 : ContinuousAt f (G U_0)\n\u03b5\u271d : \u211d\ndef_1 : \u03b5\u271d > 0\nl2 :\n  \u2200 \u03b5_1 > 0,\n    (\u2200 X' \u2208 D_f, \u2016X' - G U_0\u2016 < \u03b5_1 \u2192 \u2016f X' - f (G U_0)\u2016 < \u03b5\u271d) \u2192\n      \u2203 \u03b4_val > 0, \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4_val \u2192 \u2016G U - G U_0\u2016 < \u03b5_1\nl3 : \u2200 \u03b4_val > 0, \u2200 (U : Fin m \u2192 \u211d), \u2016U - U_0\u2016 < \u03b4_val \u2192 U \u2208 T \u2192 \u2016(f \u2218 G) U - (f \u2218 G) U_0\u2016 < \u03b5\u271d\n\u03b5 : Set \u211d\nh\u03b5 : \u03b5 \u2208 \ud835\udcdd (f (G U_0))\n\u03b5\u2081 : \u211d\nh\u03b5\u2081 : \u03b5\u2081 > 0\nhf : \u2200 X \u2208 D_f, \u2016X - G U_0\u2016 < \u03b5\u2081 \u2192 \u2016f X - f (G U_0)\u2016 < \u03b5\u271d\n\u03b4 : \u211d\nh\u03b4 : \u03b4 > 0\nhG : \u2200 U \u2208 D_G, \u2016U - U_0\u2016 < \u03b4 \u2192 \u2016G U - G U_0\u2016 < \u03b5\u2081\nU : Fin m \u2192 \u211d\nhU : Dist.dist U U_0 < \u03b4\nhU' : U \u2208 T\n\u22a2 U \u2208 (fun U => f (G U)) \u207b\u00b9' \u03b5"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_5", "label": "tc_5", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_6", "label": "tc_6", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_7", "label": "tc_7", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#fa2c07", "highlight": {"background": "#a3c2a8", "border": "#fa2c07"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "tc_6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "tc_7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    