
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $f^{(n)}(x_0)$ exists$,$ then
\begin{equation}\label{eq:2.5.7}
f(x)=\sum_{r=0}^n\frac{f^{(r)}(x_0)}{ r!} (x-x_0)^r+E_n(x)(x-x_0)^n,
\end{equation}
where
$$
\lim_{x	o x_0} E_n(x)=E_n(x_0)=0.
$$

Proof: Define
$$
E_n(x)=
\left\{\casespace\begin{array}{ll}
\dst\frac{f(x)-T_n(x)}{(x-x_0)^n},&x\in D_f-\{x_0\},\\
0,&x=x_0.\end{array}\right.
$$
Then  \eqref{eq:2.5.5} implies that $\lim_{x	o x_0}E_n(x)=E_n(x_0)=0$,
and it is straightforward to verify \eqref{eq:2.5.7}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $f^{(n)}(x_0)$ exists", "statement": "Premise:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {\u03b1 : Type*} [TopologicalSpace \u03b1] [AddCommGroup \u03b1] [Module \u211d \u03b1] [MeasurableSpace \u03b1]\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 DifferentiableAt \u211d (fun x => f x) x_0)", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization (f : \u211d \u2192 \u211d) correctly captures that f is a real-valued function, and (D_f : Set \u211d) represents the domain", "The Lean condition x_0 \u2208 D_f in tc_1 perfectly matches the natural language requirement", "The Lean (n : \u2115) correctly represents a non-negative integer", "The Lean only specifies DifferentiableAt which guarantees existence of the first derivative, but the natural language requires the n-th derivative f^{(n)}(x_0) to exist. This is a major logical gap since differentiability at a point does not imply higher-order derivatives exist"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization (f : \u211d \u2192 \u211d) correctly captures that f is a real-valued function, and (D_f : Set \u211d) represents the domain', 'The Lean condition x_0 \u2208 D_f in tc_1 perfectly matches the natural language requirement', 'The Lean (n : \u2115) correctly represents a non-negative integer', 'The Lean only specifies DifferentiableAt which guarantees existence of the first derivative, but the natural language requires the n-th derivative f^{(n)}(x_0) to exist. This is a major logical gap since differentiability at a point does not imply higher-order derivatives exist']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Define\n$$\nE_n(x)=\n\\left\\{\\casespace\\begin{array}{ll}\n\\dst\\frac{f(x)-T_n(x)}{(x-x_0)^n},&x\\in D_f-\\{x_0\\},\\\\\n0,&x=x_0.\\end{array}\\right.\n$$", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].\nDefinition:\n\u2022 The Taylor polynomial of degree $n$ for $f$ at $x_0$ is defined as $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {\u03b1 : Type*} [TopologicalSpace \u03b1] [AddCommGroup \u03b1] [Module \u211d \u03b1] [MeasurableSpace \u03b1]\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 DifferentiableAt \u211d (fun x => f x) x_0)\n  (def_1 : \u2200 x, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly declares f as a real-valued function (f : \u211d \u2192 \u211d) and D_f as a set of reals, matching the natural language condition.", "The Lean formalization correctly states x_0 \u2208 D_f in the tc_1 condition, matching the natural language.", "The Lean formalization correctly declares n as a natural number (\u2115), which corresponds to non-negative integers.", "The Lean uses DifferentiableAt which implies existence of the first derivative, but the natural language specifically requires the n-th derivative f^{(n)}(x_0) to exist. DifferentiableAt is weaker than requiring the n-th derivative to exist.", "The Lean definition sets the Taylor polynomial equal to 0 for all x, which contradicts the natural language definition. The natural language defines T_n(x) as the Taylor polynomial itself, but Lean incorrectly states this sum equals 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly declares f as a real-valued function (f : \u211d \u2192 \u211d) and D_f as a set of reals, matching the natural language condition.', 'The Lean formalization correctly states x_0 \u2208 D_f in the tc_1 condition, matching the natural language.', 'The Lean formalization correctly declares n as a natural number (\u2115), which corresponds to non-negative integers.', 'The Lean uses DifferentiableAt which implies existence of the first derivative, but the natural language specifically requires the n-th derivative f^{(n)}(x_0) to exist. DifferentiableAt is weaker than requiring the n-th derivative to exist.', 'The Lean definition sets the Taylor polynomial equal to 0 for all x, which contradicts the natural language definition. The natural language defines T_n(x) as the Taylor polynomial itself, but Lean incorrectly states this sum equals 0.']"}, "type": "definition"}, "def_2": {"id": "def_2", "natural_language": "Define\n$$\nE_n(x)=\n\\left\\{\\casespace\\begin{array}{ll}\n\\dst\\frac{f(x)-T_n(x)}{(x-x_0)^n},&x\\in D_f-\\{x_0\\},\\\\\n0,&x=x_0.\\end{array}\\right.\n$$", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].\n\u2022 The Taylor polynomial of degree $n$ for $f$ at $x_0$ is defined as $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r$ [def_1].\nDefinition:\n\u2022 The error function $E_n(x)$ is defined as $E_n(x)=\\begin{cases} \\frac{f(x)-T_n(x)}{(x-x_0)^n} & x\\in D_f-\\{x_0\\} \\\\ 0 & x=x_0 \\end{cases}$ [def_2].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 DifferentiableAt \u211d (fun x => f x) x_0)\n  (def_1 : \u2200 x : \u211d, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)", "lean_pass": true, "error_msg": [], "tries": 4}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly declares f as a real-valued function and D_f as a set of reals, matching the natural language description.", "The Lean condition includes x_0 \u2208 D_f as required, with additional differentiability condition which is consistent with the context.", "Natural numbers in Lean (\u2115) correctly represent non-negative integers.", "The Lean formalization uses DifferentiableAt which implies first derivative exists, but the natural language requires the n-th derivative to exist. DifferentiableAt is weaker than what's needed for general n.", "The Lean def_1 states that the Taylor polynomial equals 0 for all x, which is completely wrong. It should define T_n(x) as the Taylor polynomial, not assert it equals zero.", "The Lean formalization correctly captures the piecewise definition of the error function, with the same formula for x \u2208 D_f \\ {x_0} and 0 for x = x_0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly declares f as a real-valued function and D_f as a set of reals, matching the natural language description.', 'The Lean condition includes x_0 \u2208 D_f as required, with additional differentiability condition which is consistent with the context.', 'Natural numbers in Lean (\u2115) correctly represent non-negative integers.', \"The Lean formalization uses DifferentiableAt which implies first derivative exists, but the natural language requires the n-th derivative to exist. DifferentiableAt is weaker than what's needed for general n.\", 'The Lean def_1 states that the Taylor polynomial equals 0 for all x, which is completely wrong. It should define T_n(x) as the Taylor polynomial, not assert it equals zero.', 'The Lean formalization correctly captures the piecewise definition of the error function, with the same formula for x \u2208 D_f \\\\ {x_0} and 0 for x = x_0.']"}, "type": "definition"}, "tc_2": {"id": "tc_2", "natural_language": "Then  \\eqref{eq:2.5.5} implies that $\\lim_{x\\to x_0}E_n(x)=E_n(x_0)=0$,", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].\n\u2022 The Taylor polynomial of degree $n$ for $f$ at $x_0$ is defined as $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r$ [def_1].\n\u2022 The error function $E_n(x)$ is defined as $E_n(x)=\\begin{cases} \\frac{f(x)-T_n(x)}{(x-x_0)^n} & x\\in D_f-\\{x_0\\} \\\\ 0 & x=x_0 \\end{cases}$ [def_2].\nPremise:\n\u2022 We use the property, referred to as (2.5.5) in the proof text, which is a known consequence of the existence of $f^{(n)}(x_0)$: $\\lim_{x\\to x_0} \\frac{f(x) - T_n(x)}{(x-x_0)^n} = 0$ [tc_2].", "dependencies": ["tc_1", "def_1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 (\u2200 k : \u2115, k \u2264 n \u2192 DifferentiableAt \u211d f x_0))\n  (def_1 : \u2200 x, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)\n  (tc_2 : Tendsto E_n (nhds x_0) (pure 0))", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly declares f as a function from reals to reals and D_f as a set of reals", "The condition x_0 \u2208 D_f is correctly captured in the tc_1 conjunction", "Natural numbers in Lean include 0, so this correctly represents non-negative integers", "DifferentiableAt for all k \u2264 n implies the existence of all derivatives up to n, which is equivalent to the existence of the n-th derivative", "The def_1 in Lean states that the Taylor polynomial equals 0 for all x, which contradicts the mathematical definition where T_n(x) should be the actual Taylor polynomial, not zero", "The error function definition correctly matches the piecewise definition using conditional logic in Lean", "The limit condition is correctly expressed using Tendsto, where E_n represents the error function that should tend to 0"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly declares f as a function from reals to reals and D_f as a set of reals', 'The condition x_0 \u2208 D_f is correctly captured in the tc_1 conjunction', 'Natural numbers in Lean include 0, so this correctly represents non-negative integers', 'DifferentiableAt for all k \u2264 n implies the existence of all derivatives up to n, which is equivalent to the existence of the n-th derivative', 'The def_1 in Lean states that the Taylor polynomial equals 0 for all x, which contradicts the mathematical definition where T_n(x) should be the actual Taylor polynomial, not zero', 'The error function definition correctly matches the piecewise definition using conditional logic in Lean', 'The limit condition is correctly expressed using Tendsto, where E_n represents the error function that should tend to 0']"}, "type": "condition"}, "ts_1": {"id": "ts_1", "natural_language": "Then  \\eqref{eq:2.5.5} implies that $\\lim_{x\\to x_0}E_n(x)=E_n(x_0)=0$,", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].\n\u2022 The Taylor polynomial of degree $n$ for $f$ at $x_0$ is defined as $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r$ [def_1].\n\u2022 The error function $E_n(x)$ is defined as $E_n(x)=\\begin{cases} \\frac{f(x)-T_n(x)}{(x-x_0)^n} & x\\in D_f-\\{x_0\\} \\\\ 0 & x=x_0 \\end{cases}$ [def_2].\n\u2022 We use the property (2.5.5): $\\lim_{x\\to x_0} \\frac{f(x) - T_n(x)}{(x-x_0)^n} = 0$ [tc_2].\nTherefore, we conclude:\n\u2022 $\\lim_{x\\to x_0}E_n(x)=E_n(x_0)=0$ [ts_1].", "dependencies": ["tc_1", "def_1", "def_2", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 (\u2200 k : \u2115, k \u2264 n \u2192 DifferentiableAt \u211d f x_0))\n  (def_1 : \u2200 x : \u211d, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)\n  (tc_2 : Tendsto (fun x => (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n)) (nhds x_0) (pure 0)) :\n  Tendsto E_n (nhds x_0) (pure 0) \u2227 E_n x_0 = 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 (\u2200 k : \u2115, k \u2264 n \u2192 DifferentiableAt \u211d f x_0))\n  (def_1 : \u2200 x : \u211d, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)\n  (tc_2 : Tendsto (fun x => (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n)) (nhds x_0) (pure 0)) :\n  Tendsto E_n (nhds x_0) (pure 0) \u2227 E_n x_0 = 0 := by\n  constructor\n  \u00b7 simp_rw [def_2]\n    have : \u2200\u1da0 x in nhds x_0, x \u2208 D_f \\ {x_0} \u2192 E_n x = (f x - \u2211 r in Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r) / (x - x_0) ^ n := by\n      intro x\n      apply eventually_of_forall\n      intro hx\n      rw [if_pos hx]\n    have : \u2200\u1da0 x in nhds x_0, x \u2209 D_f \\ {x_0} \u2192 E_n x = 0 := by\n      intro x\n      apply eventually_of_forall\n      intro hx\n      rw [if_neg hx]\n    have : \u2200\u1da0 x in nhds x_0, E_n x = (fun x => (f x - \u2211 r in Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r) / (x - x_0) ^ n) x := by\n      filter_upwards [this]\n      intro x hx\n      by_cases h : x \u2208 D_f \\ {x_0}\n      \u00b7 rw [hx h]\n      \u00b7 rw [if_neg h]\n    rw [show E_n =\u1da0[nhds x_0] (fun x => (f x - \u2211 r in Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r) / (x - x_0) ^ n) from this]\n    exact tc_2\n  \u00b7 rw [def_2]\n    simp only [ite_eq_right_iff]\n    intro h\n    simp at h", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 13, "endLine": 15, "endColumn": 18, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The differentiability condition tc_1 correctly captures that x_0 is in the domain and f is differentiable up to order n at x_0.", "The Taylor polynomial definition def_1 has a critical error: it sets the Taylor polynomial equal to 0 for all x, rather than defining T_n(x) as the sum. This makes the entire formalization mathematically meaningless.", "The error function definition def_2 correctly implements the piecewise definition with the proper case distinction.", "The limit property tc_2 correctly formalizes the limit condition using Lean's Tendsto.", "The conclusion ts_1 properly captures both the limit of E_n and the value E_n(x_0) = 0.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The differentiability condition tc_1 correctly captures that x_0 is in the domain and f is differentiable up to order n at x_0.', 'The Taylor polynomial definition def_1 has a critical error: it sets the Taylor polynomial equal to 0 for all x, rather than defining T_n(x) as the sum. This makes the entire formalization mathematically meaningless.', 'The error function definition def_2 correctly implements the piecewise definition with the proper case distinction.', \"The limit property tc_2 correctly formalizes the limit condition using Lean's Tendsto.\", 'The conclusion ts_1 properly captures both the limit of E_n and the value E_n(x_0) = 0.']"}, "solved_negation": null, "type": "solution"}, "ts_2": {"id": "ts_2", "natural_language": "and it is straightforward to verify \\eqref{eq:2.5.7}.", "statement": "We assume:\n\u2022 Let $f$ be a real-valued function defined on a domain $D_f$, $x_0 \\in D_f$, $n$ be a non-negative integer, and the $n$-th derivative $f^{(n)}(x_0)$ exists [tc_1].\n\u2022 The Taylor polynomial of degree $n$ for $f$ at $x_0$ is defined as $T_n(x) = \\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r$ [def_1].\n\u2022 The error function $E_n(x)$ is defined as $E_n(x)=\\begin{cases} \\frac{f(x)-T_n(x)}{(x-x_0)^n} & x\\in D_f-\\{x_0\\} \\\\ 0 & x=x_0 \\end{cases}$ [def_2].\n\u2022 We use the property (2.5.5): $\\lim_{x\\to x_0} \\frac{f(x) - T_n(x)}{(x-x_0)^n} = 0$ [tc_2].\n\u2022 $\\lim_{x\\to x_0}E_n(x)=E_n(x_0)=0$ [ts_1].\nTherefore, we conclude:\n\u2022 $f(x)=\\sum_{r=0}^n\\frac{f^{(r)}(x_0)}{r!} (x-x_0)^r+E_n(x)(x-x_0)^n$ [ts_2].", "dependencies": ["tc_1", "def_1", "def_2", "tc_2", "ts_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_2\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 (\u2200 k : \u2115, k \u2264 n \u2192 DifferentiableAt \u211d f x_0))\n  (def_1 : \u2200 x : \u211d, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)\n  (tc_2 : Tendsto (fun x => (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n)) (nhds x_0) (pure 0))\n  (ts_1 : Tendsto E_n (nhds x_0) (pure 0) \u2227 E_n x_0 = 0) :\n  \u2200 x : \u211d, f x = (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) + E_n x * (x - x_0) ^ n := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_2\n  (f : \u211d \u2192 \u211d) (D_f : Set \u211d) (x_0 : \u211d) (n : \u2115)\n  (tc_1 : x_0 \u2208 D_f \u2227 (\u2200 k : \u2115, k \u2264 n \u2192 DifferentiableAt \u211d f x_0))\n  (def_1 : \u2200 x : \u211d, (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) = 0)\n  (E_n : \u211d \u2192 \u211d)\n  (dec_mem_Df_x : \u2200 x, Decidable (x \u2208 D_f \\ {x_0}))\n  (def_2 : \u2200 x : \u211d, E_n x = if x \u2208 D_f \\ {x_0} then (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n) else 0)\n  (tc_2 : Tendsto (fun x => (f x - (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r)) / ((x - x_0) ^ n)) (nhds x_0) (pure 0))\n  (ts_1 : Tendsto E_n (nhds x_0) (pure 0) \u2227 E_n x_0 = 0) :\n  \u2200 x : \u211d, f x = (\u2211 r in Finset.range (n + 1), ((deriv^[r] f) x_0 / r!) * (x - x_0) ^ r) + E_n x * (x - x_0) ^ n := by\n  intro x\n  by_cases hx : x \u2208 D_f \\ {x_0}\n  \u00b7 simp [def_2, hx]\n    have h : (x - x_0) ^ n \u2260 0 := by\n      intro h'\n      have : x \u2260 x_0 := by simp at hx; exact hx.2\n      apply this\n      exact sub_eq_zero.mp (pow_eq_zero h')\n    field_simp [h]\n    ring\n  \u00b7 simp [def_2, hx]\n    cases' Classical.em (x = x_0) with h h\n    \u00b7 simp [h, ts_1.2]\n      rw [\u2190h]\n      rw [def_1]\n      simp\n    \u00b7 have : x \u2209 D_f := by\n        intro h'\n        exact hx \u27e8h', h\u27e9\n      have h' : x \u2208 D_f := tc_1.1\n      contradiction", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 24, "column": 4, "endLine": 24, "endColumn": 8, "data": "no goals to be solved"}, {"line": 29, "column": 10, "endLine": 29, "endColumn": 15, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  \u2211 r \u2208 Finset.range (n + 1), deriv^[r] f x_0 / r! * (?x - x_0) ^ r\ncase neg.inl\nr! : \u211d\nf : \u211d \u2192 \u211d\nD_f : Set \u211d\nx_0 : \u211d\nn : \u2115\ntc_1 : x_0 \u2208 D_f \u2227 \u2200 k \u2264 n, DifferentiableAt \u211d f x_0\ndef_1 : \u2200 (x : \u211d), \u2211 r \u2208 Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r = 0\nE_n : \u211d \u2192 \u211d\ndec_mem_Df_x : (x : \u211d) \u2192 Decidable (x \u2208 D_f \\ {x_0})\ndef_2 :\n  \u2200 (x : \u211d),\n    E_n x =\n      if x \u2208 D_f \\ {x_0} then (f x - \u2211 r \u2208 Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r) / (x - x_0) ^ n\n      else 0\ntc_2 :\n  Tendsto (fun x => (f x - \u2211 r \u2208 Finset.range (n + 1), deriv^[r] f x_0 / r! * (x - x_0) ^ r) / (x - x_0) ^ n) (\ud835\udcdd x_0)\n    (pure 0)\nts_1 : Tendsto E_n (\ud835\udcdd x_0) (pure 0) \u2227 E_n x_0 = 0\nx : \u211d\nhx : x \u2209 D_f \\ {x_0}\nh : x = x_0\n\u22a2 f x = \u2211 x_1 \u2208 Finset.range (n + 1), deriv^[x_1] f x / r! * 0 ^ x_1"}, {"line": 34, "column": 27, "endLine": 34, "endColumn": 33, "data": "type mismatch\n  tc_1.left\nhas type\n  x_0 \u2208 D_f : Prop\nbut is expected to have type\n  x \u2208 D_f : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The basic setup correctly captures all the mathematical objects and the differentiability condition. The Lean formalization appropriately uses DifferentiableAt to express the existence of derivatives up to order n.", "The definition of the Taylor polynomial in def_1 is fundamentally wrong. The natural language defines T_n(x) as the Taylor polynomial, but the Lean code states that this sum equals 0 for all x, which contradicts the mathematical meaning of a Taylor polynomial.", "The error function definition correctly captures the piecewise definition using conditional logic, with the proper formula for both cases.", "Both limit properties are correctly formalized using Tendsto, capturing the convergence behavior described in the natural language.", "The main conclusion correctly expresses the Taylor expansion formula with error term, showing the relationship between f(x), the Taylor polynomial, and the error function.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The basic setup correctly captures all the mathematical objects and the differentiability condition. The Lean formalization appropriately uses DifferentiableAt to express the existence of derivatives up to order n.', 'The definition of the Taylor polynomial in def_1 is fundamentally wrong. The natural language defines T_n(x) as the Taylor polynomial, but the Lean code states that this sum equals 0 for all x, which contradicts the mathematical meaning of a Taylor polynomial.', 'The error function definition correctly captures the piecewise definition using conditional logic, with the proper formula for both cases.', 'Both limit properties are correctly formalized using Tendsto, capturing the convergence behavior described in the natural language.', 'The main conclusion correctly expresses the Taylor expansion formula with error term, showing the relationship between f(x), the Taylor polynomial, and the error function.']"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_2", "label": "ts_2", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "ts_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    