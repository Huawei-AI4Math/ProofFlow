
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$ such that $a+b+c=3$, the following inequality holds: $a b c+\\frac{12}{a b+b c+a c} \\geq 5$.

Proof: Let $a, b, c$ be positive real numbers with $a+b+c=3$. To prove $abc + rac{12}{ab+bc+ca} \ge 5$, note that $abc \ge rac{4(ab+bc+ca)}{3} - 3$ for positive $a,b,c$ with sum 3. Setting $X = ab+bc+ca$, the inequality becomes $rac{4X}{3}-3 + rac{12}{X} \ge 5$, which simplifies to $rac{4X}{3} + rac{12}{X} - 8 \ge 0$. Multiplying by $3X$ gives $4(X-3)^2 \ge 0$, which is always true. Hence, $abc + rac{12}{ab+bc+ca} \ge 5$, with equality when $a=b=c=1$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let a, b, c be positive real numbers", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are positive real numbers by declaring them as real numbers and adding the positivity constraint", "Both the natural language and Lean formalization correctly indicate no conclusions are derived at this premise step"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "with a+b+c=3", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are positive real numbers through the type declaration (a b c : \u211d) and the positivity constraint (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)", "The Lean formalization exactly matches the sum condition a + b + c = 3"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "note that $abc \\ge \\frac{4(ab+bc+ca)}{3} - 3$ for positive $a,b,c$ with sum 3.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2].\nTherefore, we conclude:\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3) :\n  a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3) :\n  a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3 := by\n  have h1 : (a + b + c)^2 = a^2 + b^2 + c^2 + 2*(a*b + b*c + c*a) := by ring\n  rw [tc_2] at h1\n  have h2 : 9 = a^2 + b^2 + c^2 + 2*(a*b + b*c + c*a) := by linarith\n  have h3 : a^2 + b^2 + c^2 = 9 - 2*(a*b + b*c + c*a) := by linarith\n  have h4 : (a - b)^2 + (b - c)^2 + (c - a)^2 \u2265 0 := by positivity\n  have h5 : 2*(a^2 + b^2 + c^2 - (a*b + b*c + c*a)) \u2265 0 := by\n    rw [h3]\n    linarith\n  have h6 : 2*(9 - 3*(a*b + b*c + c*a)) \u2265 0 := by linarith [h5]\n  have h7 : 9 - 3*(a*b + b*c + c*a) \u2265 0 := by linarith\n  have h8 : a*b + b*c + c*a \u2264 3 := by linarith\n  have h9 : a*b*c \u2264 1 := by\n    have := Real.geom_mean_le_arith_mean3 a b c tc_1.1 tc_1.2.1 tc_1.2.2\n    rw [\u2190 mul_div_right_comm, \u2190 div_eq_mul_inv, tc_2] at this\n    simp at this\n    exact this\n  have h10 : (a*b + b*c + c*a)^2 \u2265 9*(a*b*c) := by\n    have := mul_le_mul_of_nonneg_left h8 (by positivity)\n    rw [tc_2] at this\n    ring_nf at this \u22a2\n    exact this\n  have h11 : (a*b + b*c + c*a)^2 / 9 \u2265 a*b*c := by linarith\n  have h12 : (4*(a*b + b*c + c*a)/3) - 3 \u2264 (a*b + b*c + c*a)^2 / 9 := by\n    have := div_le_div_of_le (by norm_num) (by ring_nf; linarith [h8])\n    linarith\n  linarith [h11, h12]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 22, "column": 12, "endLine": 22, "endColumn": 72, "data": "unknown constant 'Real.geom_mean_le_arith_mean3'"}, {"line": 27, "column": 45, "endLine": 27, "endColumn": 55, "data": "failed to prove positivity/nonnegativity/nonzeroness"}, {"line": 28, "column": 8, "endLine": 28, "endColumn": 12, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  a + b + c\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nh1 : 3 ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh2 : 9 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh3 : a ^ 2 + b ^ 2 + c ^ 2 = 9 - 2 * (a * b + b * c + c * a)\nh4 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 \u2265 0\nh5 : 2 * (a ^ 2 + b ^ 2 + c ^ 2 - (a * b + b * c + c * a)) \u2265 0\nh6 : 2 * (9 - 3 * (a * b + b * c + c * a)) \u2265 0\nh7 : 9 - 3 * (a * b + b * c + c * a) \u2265 0\nh8 : a * b + b * c + c * a \u2264 3\nh9 : a * b * c \u2264 1\nthis : 3 * (a * b + b * c + c * a) \u2264 3 * 3\n\u22a2 (a * b + b * c + c * a) ^ 2 \u2265 9 * (a * b * c)"}, {"line": 33, "column": 30, "endLine": 33, "endColumn": 41, "data": "unsolved goals\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nh1 : 3 ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh2 : 9 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh3 : a ^ 2 + b ^ 2 + c ^ 2 = 9 - 2 * (a * b + b * c + c * a)\nh4 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 \u2265 0\nh5 : 2 * (a ^ 2 + b ^ 2 + c ^ 2 - (a * b + b * c + c * a)) \u2265 0\nh6 : 2 * (9 - 3 * (a * b + b * c + c * a)) \u2265 0\nh7 : 9 - 3 * (a * b + b * c + c * a) \u2265 0\nh8 : a * b + b * c + c * a \u2264 3\nh9 : a * b * c \u2264 1\nh10 : (a * b + b * c + c * a) ^ 2 \u2265 9 * (a * b * c)\nh11 : (a * b + b * c + c * a) ^ 2 / 9 \u2265 a * b * c\n\u22a2 0 \u2264 ?m.31810"}, {"line": 33, "column": 56, "endLine": 33, "endColumn": 69, "data": "linarith failed to find a contradiction\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nh1 : 3 ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh2 : 9 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh3 : a ^ 2 + b ^ 2 + c ^ 2 = 9 - 2 * (a * b + b * c + c * a)\nh4 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 \u2265 0\nh5 : 2 * (a ^ 2 + b ^ 2 + c ^ 2 - (a * b + b * c + c * a)) \u2265 0\nh6 : 2 * (9 - 3 * (a * b + b * c + c * a)) \u2265 0\nh7 : 9 - 3 * (a * b + b * c + c * a) \u2265 0\nh8 : a * b + b * c + c * a \u2264 3\nh9 : a * b * c \u2264 1\nh10 : (a * b + b * c + c * a) ^ 2 \u2265 9 * (a * b * c)\nh11 : (a * b + b * c + c * a) ^ 2 / 9 \u2265 a * b * c\n\u22a2 False failed"}, {"line": 35, "column": 2, "endLine": 35, "endColumn": 21, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nh1 : 3 ^ 2 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh2 : 9 = a ^ 2 + b ^ 2 + c ^ 2 + 2 * (a * b + b * c + c * a)\nh3 : a ^ 2 + b ^ 2 + c ^ 2 = 9 - 2 * (a * b + b * c + c * a)\nh4 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 \u2265 0\nh5 : 2 * (a ^ 2 + b ^ 2 + c ^ 2 - (a * b + b * c + c * a)) \u2265 0\nh6 : 2 * (9 - 3 * (a * b + b * c + c * a)) \u2265 0\nh7 : 9 - 3 * (a * b + b * c + c * a) \u2265 0\nh8 : a * b + b * c + c * a \u2264 3\nh9 : a * b * c \u2264 1\nh10 : (a * b + b * c + c * a) ^ 2 \u2265 9 * (a * b * c)\nh11 : (a * b + b * c + c * a) ^ 2 / 9 \u2265 a * b * c\nh12 : 4 * (a * b + b * c + c * a) / 3 - 3 \u2264 (a * b + b * c + c * a) ^ 2 / 9\na\u271d : 4 * (a * b + b * c + c * a) / 3 - 3 > a * b * c\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly and completely captures all mathematical and logical content from the natural language. The variable declarations with positivity constraints, the sum constraint a+b+c=3, and the target inequality abc \u2265 (4*(ab+bc+ca)/3) - 3 are all accurately translated. The logical structure of assumptions leading to a conclusion is properly maintained through the lemma format.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1 :\n  \u00ac (\u2200 (a b c : \u211d), a > 0 \u2227 b > 0 \u2227 c > 0 \u2192 a + b + c = 3 \u2192 a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3) := by\n  push_neg\n  use 1, 1.5, 0.5\n  constructor\n  \u00b7 constructor <;> linarith\n  \u00b7 linarith\n  \u00b7 norm_num\n    ring_nf\n    linarith"}, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "Setting $X = ab+bc+ca$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1].\nDefinition:\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are positive real numbers using the conjunction a > 0 \u2227 b > 0 \u2227 c > 0", "The Lean formalization exactly matches the condition a + b + c = 3", "The Lean formalization correctly represents the inequality abc \u2265 (4*(ab+bc+ca)/3) - 3 with proper mathematical notation", "The Lean formalization exactly captures the definition X = ab+bc+ca using multiplication notation"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l2": {"id": "l2", "natural_language": "Let a, b, c be positive real numbers... Setting $X = ab+bc+ca$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1];\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1].\nTherefore, we conclude:\n\u2022 X > 0 [l2].", "dependencies": ["tc_1", "tc_2", "l1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a) :\n  X > 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a) :\n  X > 0 := by\n  have h1 : a * b * c > 0 := mul_pos (mul_pos tc_1.left tc_1.2.1) tc_1.2.2\n  rw [\u2190 def_1] at l1\n  have h2 : (4 * X / 3) - 3 \u2264 a * b * c := l1\n  have h3 : (4 * X / 3) - 3 > 0 := by\n    refine lt_of_lt_of_le ?_ h2\n    exact h1\n  linarith [h3]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 29, "endLine": 16, "endColumn": 31, "data": "application type mismatch\n  lt_of_lt_of_le ?m.1902 h2\nargument\n  h2\nhas type\n  4 * X / 3 - 3 \u2264 a * b * c : Prop\nbut is expected to have type\n  ?m.1900 \u2264 4 * X / 3 - 3 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture the types and positivity constraints for a, b, c, and X as real numbers", "The constraint a+b+c = 3 is exactly preserved in the Lean formalization", "The inequality constraint abc \u2265 (4*(ab+bc+ca)/3) - 3 is faithfully translated with proper mathematical operators", "The definition X = ab+bc+ca is accurately represented using explicit multiplication notation", "The conclusion X > 0 is identical in both representations", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2 :\n  \u2203 (a b c X : \u211d),\n    (a > 0 \u2227 b > 0 \u2227 c > 0) \u2227\n    (a + b + c = 3) \u2227\n    (a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3) \u2227\n    (X = a * b + b * c + c * a) \u2227\n    \u00ac(X > 0) := by\n  use 1, 1, 1, 3\n  simp\n  norm_num"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "the inequality becomes $\\frac{4X}{3}-3 + \\frac{12}{X} \\ge 5$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1];\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1];\n\u2022 X > 0 [l2].\nTherefore, we conclude:\n\u2022 If (4*X/3) - 3 + 12/X \u2265 5, then abc + 12/(ab+bc+ca) \u2265 5 [l3].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0) :\n  (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0) :\n  (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\n  intro h\n  rw [def_1] at *\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly and completely captures all logical and mathematical meaning from the natural language. All assumptions (tc_1, tc_2, l1, def_1, l2) are properly translated, and the conclusion l3 accurately represents the conditional statement. The differences are purely notational (using * for multiplication, \u2227 for conjunction, \u2192 for implication) which are standard mathematical representations in Lean."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which simplifies to $\\frac{4X}{3} + \\frac{12}{X} - 8 \\ge 0$. Multiplying by $3X$ gives $4(X-3)^2 \\ge 0$,", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1];\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1];\n\u2022 X > 0 [l2];\n\u2022 If (4*X/3) - 3 + 12/X \u2265 5, then abc + 12/(ab+bc+ca) \u2265 5 [l3].\nTherefore, we conclude:\n\u2022 The inequality ((4*X/3) - 3 + 12/X \u2265 5) is equivalent to (4*(X-3)^2 \u2265 0) [l4].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5) :\n  ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5) :\n  ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0) := by\n  constructor\n  \u00b7 intro h\n    have h1 : (4 * X / 3 - 3 + 12 / X - 5) \u2265 0 := by linarith\n    field_simp at h1\n    ring_nf at h1\n    have h2 : 4 * X ^ 2 - 24 * X + 36 \u2265 0 := by\n      have h3 : X > 0 := l2\n      have h4 : 3 * X > 0 := by linarith\n      rw [\u2190mul_nonneg_iff_of_pos_right h4] at h1\n      ring_nf at h1\n      exact h1\n    ring_nf at h2\n    exact h2\n  \u00b7 intro h\n    have h1 : 4 * (X - 3) ^ 2 \u2265 0 := h\n    ring_nf at h1\n    have h2 : (4 * X ^ 2 - 24 * X + 36) / (3 * X) \u2265 0 := by\n      have h3 : 3 * X > 0 := by linarith\n      rw [div_nonneg_iff]\n      left\n      constructor\n      \u00b7 exact h1\n      \u00b7 exact h3\n    field_simp at h2\n    ring_nf at h2\n    linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 24, "column": 6, "endLine": 24, "endColumn": 14, "data": "type mismatch\n  h1\nhas type\n  0 \u2264 X * X\u207b\u00b9 * 36 - X ^ 2 * X\u207b\u00b9 * 24 + X ^ 3 * X\u207b\u00b9 * 4 : Prop\nbut is expected to have type\n  4 * X ^ 2 - 24 * X + 36 \u2265 0 : Prop"}, {"line": 26, "column": 4, "endLine": 26, "endColumn": 12, "data": "type mismatch\n  h2\nhas type\n  36 - X * 24 + X ^ 2 * 4 \u2265 0 : Prop\nbut is expected to have type\n  4 * (X - 3) ^ 2 \u2265 0 : Prop"}, {"line": 32, "column": 10, "endLine": 32, "endColumn": 24, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  0 \u2264 ?m.20346 / ?m.20347\na b c X : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nl1 : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3\ndef_1 : X = a * b + b * c + c * a\nl2 : X > 0\nl3 : 4 * X / 3 - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5\nh : 4 * (X - 3) ^ 2 \u2265 0\nh1 : 36 - X * 24 + X ^ 2 * 4 \u2265 0\nh3 : 3 * X > 0\n\u22a2 (4 * X ^ 2 - 24 * X + 36) / (3 * X) \u2265 0"}, {"line": 39, "column": 4, "endLine": 39, "endColumn": 12, "data": "linarith failed to find a contradiction\ncase mpr.a\na b c X : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a + b + c = 3\nl1 : a * b * c \u2265 4 * (a * b + b * c + c * a) / 3 - 3\ndef_1 : X = a * b + b * c + c * a\nl2 : X > 0\nl3 : 4 * X / 3 - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5\nh : 4 * (X - 3) ^ 2 \u2265 0\nh1 : 36 - X * 24 + X ^ 2 * 4 \u2265 0\nh2 : 0 \u2264 -(X * X\u207b\u00b9 * 8) + X ^ 2 * X\u207b\u00b9 * (4 / 3) + X\u207b\u00b9 * 12\na\u271d : 5 > 4 * X / 3 - 3 + 12 / X\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all components from the natural language. All mathematical expressions are properly translated, the logical structure is preserved with assumptions as hypotheses and the conclusion as the goal, and variable types are appropriately declared. The equivalence statement in l4 is correctly formalized as a biconditional (\u2194) in Lean.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5) :\n  \u00ac(((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0)) := by\n  intro h\n  have h1 : \u2200 X : \u211d, 4 * (X - 3) ^ 2 \u2265 0 := by intro X; nlinarith\n  have h2 := h.mp (h1 X)\n  have h3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2194 X = 3 := by\n    field_simp [l2]\n    ring_nf\n    rw [\u2190 sub_nonneg]\n    ring_nf\n    simp only [mul_nonneg_iff, zero_le_four, true_and]\n    exact sub_eq_zero\n  have : X \u2260 3 := by\n    use a := 1, b := 2, c := 0\n    simp [tc_1, tc_2, def_1, l2]\n    norm_num\n  rw [h3] at h2\n  contradiction"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "which is always true.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1];\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1];\n\u2022 X > 0 [l2];\n\u2022 If (4*X/3) - 3 + 12/X \u2265 5, then abc + 12/(ab+bc+ca) \u2265 5 [l3];\n\u2022 The inequality ((4*X/3) - 3 + 12/X \u2265 5) is equivalent to (4*(X-3)^2 \u2265 0) [l4].\nTherefore, we conclude:\n\u2022 4*(X-3)^2 \u2265 0 [l5].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5)\n  (l4 : ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0)) :\n  4 * (X - 3) ^ 2 \u2265 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5)\n  (l4 : ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0)) :\n  4 * (X - 3) ^ 2 \u2265 0 := by\n  rw [\u2190 l4]\n  simp only [sub_nonneg]\n  exact mul_nonneg zero_le_four (sq_nonneg (X - 3))", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 2, "endLine": 16, "endColumn": 24, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable type declarations and positivity conditions are correctly formalized", "Sum constraint is exactly represented", "Product inequality constraint matches perfectly with proper Lean multiplication syntax", "Variable definition X is correctly stated as equality", "Positivity of X is properly captured", "Conditional statement l3 is correctly formalized with implication arrow", "Biconditional equivalence l4 is properly represented with \u2194", "Goal conclusion matches the natural language conclusion exactly", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l5\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5)\n  (l4 : ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0)) :\n  \u00ac (4 * (X - 3) ^ 2 \u2265 0) := by\n  intro h\n  have h' : (4 * X / 3) - 3 + 12 / X \u2265 5 := by\n    rw [l4]\n    exact h\n  have h'' : a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := l3 h'\n  rw [def_1] at h''\n  have h''' : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3 := l1\n  rw [def_1] at h'''\n  have h'''' : (4 * X / 3) - 3 + 12 / X \u2265 5 := by linarith [h''', h'']\n  rw [l4] at h''''\n  exact h h''''"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Hence, $a b c+\\frac{12}{a b+b c+a c} \\geq 5$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 a+b+c = 3 [tc_2];\n\u2022 abc \u2265 (4*(ab+bc+ca)/3) - 3 [l1];\n\u2022 Let X be a real number such that X = ab+bc+ca [def_1];\n\u2022 X > 0 [l2];\n\u2022 If (4*X/3) - 3 + 12/X \u2265 5, then abc + 12/(ab+bc+ca) \u2265 5 [l3];\n\u2022 The inequality ((4*X/3) - 3 + 12/X \u2265 5) is equivalent to (4*(X-3)^2 \u2265 0) [l4];\n\u2022 4*(X-3)^2 \u2265 0 [l5].\nTherefore, we conclude:\n\u2022 abc + 12/(ab+bc+ca) \u2265 5 [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "def_1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5)\n  (l4 : ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0))\n  (l5 : 4 * (X - 3) ^ 2 \u2265 0) :\n  a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c X : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a + b + c = 3)\n  (l1 : a * b * c \u2265 (4 * (a * b + b * c + c * a) / 3) - 3)\n  (def_1 : X = a * b + b * c + c * a)\n  (l2 : X > 0)\n  (l3 : (4 * X / 3) - 3 + 12 / X \u2265 5 \u2192 a * b * c + 12 / (a * b + b * c + c * a) \u2265 5)\n  (l4 : ((4 * X / 3) - 3 + 12 / X \u2265 5) \u2194 (4 * (X - 3) ^ 2 \u2265 0))\n  (l5 : 4 * (X - 3) ^ 2 \u2265 0) :\n  a * b * c + 12 / (a * b + b * c + c * a) \u2265 5 := by\n  have h : (4 * X / 3) - 3 + 12 / X \u2265 5 := by\n    rw [l4]\n    exact l5\n  exact l3 h", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "Sum constraint perfectly matches the natural language", "Inequality constraint correctly uses explicit multiplication notation", "Definition of X is properly captured with correct variable typing", "Positivity of X is correctly stated", "Conditional statement properly uses implication arrow", "Equivalence statement correctly uses biconditional operator", "Final inequality matches exactly", "Conclusion statement perfectly captures the target inequality"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    