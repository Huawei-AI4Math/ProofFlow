
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $(A,N)$ is a normed vector space$,$ then
\begin{equation} \label{eq:8.1.1}
\rho(x,y)=N(x-y)
\end{equation}
is a metric on $A.$

Proof: From \part{a} with $u=x-y$, $\rho(x,y)=N(x-y)\ge0$, with equality
if and only if $x=y$.  From \part{b} with $u=x-y$   and $a=-1$,
$$
\rho(y,x)=N(y-x)=N(-(x-y))=N(x-y)=\rho(x,y).
$$
From \part{c} with $u=x-z$ and $v=z-y$,
$$
\rho(x,y)=N(x-y)\le N(x-z)+N(z-y)=\rho(x,z)+\rho(z,y).
$$
\vskip-2em
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $(A,N)$ is a normed vector space", "statement": "Premise:\n\u2022 $(A, N)$ is a normed vector space over a field $\\mathbb{K}$ (e.g. $\\mathbb{R}$ or $\\mathbb{C}$). This implies that for all $u, v \\in A$ and any scalar $a \\in \\mathbb{K}$:\n  (a) $N(u) \\ge 0$, and $N(u) = 0$ if and only if $u = 0$ (Positive definiteness);\n  (b) $N(au) = |a| N(u)$ (Absolute homogeneity);\n  (c) $N(u+v) \\le N(u) + N(v)$ (Triangle inequality) [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u v : A, N (u + v) \u2264 N u + N v)", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean uses NontriviallyNormedField which is more specific than just 'field' in the natural language, but this is an acceptable strengthening that doesn't contradict the original statement", "The Lean correctly establishes A as a vector space over K through NormedAddCommGroup and Module instances", "Variables u, v, a are implicitly quantified in Lean's type system, matching the natural language specification", "The positive definiteness property N(u) \u2265 0 and N(u) = 0 iff u = 0 is not explicitly stated in the Lean code, though it may be implicit in the NormedSpace typeclass", "The absolute homogeneity property N(au) = |a|N(u) is not explicitly stated in the Lean code, though it may be implicit in the NormedSpace typeclass", "The triangle inequality is explicitly stated as tc_1 in the Lean code, perfectly matching the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean uses NontriviallyNormedField which is more specific than just 'field' in the natural language, but this is an acceptable strengthening that doesn't contradict the original statement\", 'The Lean correctly establishes A as a vector space over K through NormedAddCommGroup and Module instances', \"Variables u, v, a are implicitly quantified in Lean's type system, matching the natural language specification\", 'The positive definiteness property N(u) \u2265 0 and N(u) = 0 iff u = 0 is not explicitly stated in the Lean code, though it may be implicit in the NormedSpace typeclass', 'The absolute homogeneity property N(au) = |a|N(u) is not explicitly stated in the Lean code, though it may be implicit in the NormedSpace typeclass', 'The triangle inequality is explicitly stated as tc_1 in the Lean code, perfectly matching the natural language']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "$\\rho(x,y)=N(x-y)$", "statement": "We assume:\n\u2022 $(A, N)$ is a normed vector space over a field $\\mathbb{K}$... [tc_1].\nDefinition:\n\u2022 For any $x, y \\in A$, we define the function $\\rho(x, y) = N(x-y)$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u v : A, N (u + v) \u2264 N u + N v)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization captures the normed vector space structure but uses different naming (K instead of \ud835\udd42) and includes additional technical details like NontriviallyNormedField and explicit triangle inequality constraint tc_1. The mathematical meaning is preserved but with extra structural details.", "The variables x, y \u2208 A are implicitly captured in the universal quantification \u2200 x y : A in the function definition, which is mathematically equivalent.", "The function is named def_1 instead of \u03c1 in Lean, but the mathematical relationship def_1 x y = N (x - y) is identical to \u03c1(x, y) = N(x-y). This is just a notational difference in naming."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization captures the normed vector space structure but uses different naming (K instead of \ud835\udd42) and includes additional technical details like NontriviallyNormedField and explicit triangle inequality constraint tc_1. The mathematical meaning is preserved but with extra structural details.', 'The variables x, y \u2208 A are implicitly captured in the universal quantification \u2200 x y : A in the function definition, which is mathematically equivalent.', 'The function is named def_1 instead of \u03c1 in Lean, but the mathematical relationship def_1 x y = N (x - y) is identical to \u03c1(x, y) = N(x-y). This is just a notational difference in naming.']"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "From part (a) with $u=x-y$, $\\rho(x,y)=N(x-y)\\ge0$, with equality\nif and only if $x=y$.", "statement": "We assume:\n\u2022 $(A, N)$ is a normed vector space, implying for all $u \\in A$, $N(u) \\ge 0$ and ($N(u)=0 \\iff u=0$) [tc_1];\n\u2022 For any $x, y \\in A$, $\\rho(x, y) = N(x-y)$ [def_1].\nTherefore, we conclude:\n\u2022 For any $x, y \\in A$, $\\rho(x,y) \\ge 0$, and $\\rho(x,y) = 0$ if and only if $x=y$ [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u : A, N u \u2265 0 \u2227 (N u = 0 \u2194 u = 0))\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y)) :\n  \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u : A, N u \u2265 0 \u2227 (N u = 0 \u2194 u = 0))\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y)) :\n  \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y) := by\n  intro x y\n  constructor\n  \u00b7 rw [def_1_eq]\n    exact (tc_1 (x - y)).1\n  \u00b7 rw [def_1_eq, (tc_1 (x - y)).2]\n    constructor\n    \u00b7 intro h\n      rw [sub_eq_zero] at h\n      exact h\n    \u00b7 intro h\n      rw [h, sub_self]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.45, "semantic_feedback": ["The Lean formalization introduces extra structure (field K, built-in norm) not mentioned in natural language, and creates potential confusion by having both a built-in norm and separate function N. However, the mathematical content about N being a norm is preserved.", "The norm properties (non-negativity and zero equivalence) are perfectly captured in both logical structure and mathematical meaning.", "Variable naming differs (def_1 vs \u03c1) but the mathematical relationship N(x-y) is identical in both formulations.", "The conclusion properties are mathematically identical, with only the variable name difference (def_1 vs \u03c1) between the formulations."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.45, below threshold 0.6.\nScorer feedback: ['The Lean formalization introduces extra structure (field K, built-in norm) not mentioned in natural language, and creates potential confusion by having both a built-in norm and separate function N. However, the mathematical content about N being a norm is preserved.', 'The norm properties (non-negativity and zero equivalence) are perfectly captured in both logical structure and mathematical meaning.', 'Variable naming differs (def_1 vs \u03c1) but the mathematical relationship N(x-y) is identical in both formulations.', 'The conclusion properties are mathematically identical, with only the variable name difference (def_1 vs \u03c1) between the formulations.']"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "From part (b) with $u=x-y$ and $a=-1$,\n$$\n\\rho(y,x)=N(y-x)=N(-(x-y))=N(x-y)=\\rho(x,y).\n$$", "statement": "We assume:\n\u2022 $(A, N)$ is a normed vector space, implying for any scalar $a$ and vector $u$, $N(au) = |a| N(u)$ [tc_1];\n\u2022 For any $x, y \\in A$, $\\rho(x, y) = N(x-y)$ [def_1];\n\u2022 For any $x, y \\in A$, $\\rho(x,y) \\ge 0$, and $\\rho(x,y) = 0$ if and only if $x=y$ [l1].\nTherefore, we conclude:\n\u2022 For any $x, y \\in A$, $\\rho(y,x) = \\rho(x,y)$ [l2].", "dependencies": ["tc_1", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 (a : K) (u : A), N (a \u2022 u) = (\u2016a\u2016 : \u211d) * N u)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y)) :\n  \u2200 x y : A, def_1 y x = def_1 x y := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 (a : K) (u : A), N (a \u2022 u) = (\u2016a\u2016 : \u211d) * N u)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y)) :\n  \u2200 x y : A, def_1 y x = def_1 x y := by\n  intro x y\n  rw [def_1_eq, def_1_eq]\n  simp only [sub_eq_add_neg]\n  rw [\u2190 neg_add_rev]\n  simp [N.map_neg]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 6, "endLine": 17, "endColumn": 19, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  -?b + -?a\nK : Type u_1\ninst\u271d\u00b3 : NontriviallyNormedField K\nA : Type u_2\ninst\u271d\u00b2 : NormedAddCommGroup A\ninst\u271d\u00b9 : Module K A\nN : A \u2192 \u211d\ninst\u271d : NormedSpace K A\ntc_1 : \u2200 (a : K) (u : A), N (a \u2022 u) = \u2016a\u2016 * N u\ndef_1 : A \u2192 A \u2192 \u211d\ndef_1_eq : \u2200 (x y : A), def_1 x y = N (x - y)\nl1 : \u2200 (x y : A), def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y)\nx y : A\n\u22a2 N (y + -x) = N (x + -y)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The normed vector space structure is correctly captured. The Lean formalization uses standard type classes [NormedAddCommGroup A], [Module K A], [NormedSpace K A] which properly encode the normed vector space structure. The scalar multiplication property tc_1 correctly translates N(au) = |a|N(u) using Lean's notation where \u2022 represents scalar multiplication and \u2016a\u2016 represents the norm of scalar a.", "The distance function definition is perfectly captured. The natural language \u03c1(x,y) = N(x-y) is exactly translated as def_1 x y = N (x - y) in the Lean formalization.", "The distance properties are correctly formalized. Both the non-negativity (def_1 x y \u2265 0) and the positive definiteness condition (def_1 x y = 0 \u2194 x = y) are properly captured using Lean's logical connectives.", "The symmetry conclusion is perfectly matched. The natural language statement \u03c1(y,x) = \u03c1(x,y) is directly translated as def_1 y x = def_1 x y, maintaining the exact logical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l2\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A] [Nontrivial A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 (a : K) (u : A), N (a \u2022 u) = \u2016a\u2016 * N u)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y)) :\n  \u00ac \u2200 x y : A, def_1 y x = def_1 x y := by\n  intro h\n  have h_symm : \u2200 x y : A, N (x - y) = N (y - x) := by\n    intro x y\n    rw [\u2190 def_1_eq, \u2190 def_1_eq]\n    apply h\n  obtain \u27e8x, y, hne\u27e9 := exists_pair_ne A\n  have h1 := h_symm x y\n  have h2 : N (x - y) = N (- (x - y)) := by rw [h1, \u2190 neg_sub]\n  have h3 : N (- (x - y)) = \u2016(-1 : K)\u2016 * N (x - y) := by\n    rw [\u2190 tc_1 (-1) (x - y)]\n    simp\n  have h4 : N (x - y) = \u2016(-1 : K)\u2016 * N (x - y) := by rw [\u2190 h3, h2]\n  simp at h4\n  have h5 : N (x - y) = 0 := by linarith\n  have h6 : def_1 x y = 0 := by rw [def_1_eq, h5]\n  have h7 := (l1 x y).2.mp h6\n  contradiction"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "From part (c) with $u=x-z$ and $v=z-y$,\n$$\n\\rho(x,y)=N(x-y)\\le N(x-z)+N(z-y)=\\rho(x,z)+\\rho(z,y).\n$$", "statement": "We assume:\n\u2022 $(A, N)$ is a normed vector space, implying for any $u, v \\in A$, $N(u+v) \\le N(u) + N(v)$ [tc_1];\n\u2022 For any $x, y \\in A$, $\\rho(x, y) = N(x-y)$ [def_1];\n\u2022 For any $x, y \\in A$, $\\rho(x,y) \\ge 0$, and $\\rho(x,y) = 0$ if and only if $x=y$ [l1];\n\u2022 For any $x, y \\in A$, $\\rho(y,x) = \\rho(x,y)$ [l2].\nTherefore, we conclude:\n\u2022 For any $x, y, z \\in A$, $\\rho(x,y) \\le \\rho(x,z) + \\rho(z,y)$ [l3].", "dependencies": ["tc_1", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u v : A, N (u + v) \u2264 N u + N v)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y))\n  (l2 : \u2200 x y : A, def_1 y x = def_1 x y) :\n  \u2200 x y z : A, def_1 x y \u2264 def_1 x z + def_1 z y := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (K : Type*) [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (tc_1 : \u2200 u v : A, N (u + v) \u2264 N u + N v)\n  (def_1 : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1 x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1 x y \u2265 0 \u2227 (def_1 x y = 0 \u2194 x = y))\n  (l2 : \u2200 x y : A, def_1 y x = def_1 x y) :\n  \u2200 x y z : A, def_1 x y \u2264 def_1 x z + def_1 z y := by\n  intro x y z\n  rw [def_1_eq, def_1_eq, def_1_eq]\n  have h : x - y = (x - z) + (z - y) := by abel\n  rw [h]\n  exact tc_1 (x - z) (z - y)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization captures all the logical content from the natural language correctly, but introduces unnecessary complexity in the type structure. The code declares both a custom norm function N and uses NormedSpace typeclass, creating redundancy. Additionally, it introduces a field K and module structure not mentioned in the natural language. While these additions don't contradict the mathematical meaning, they represent structural differences that make the formalization less direct than it could be."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean formalization captures all the logical content from the natural language correctly, but introduces unnecessary complexity in the type structure. The code declares both a custom norm function N and uses NormedSpace typeclass, creating redundancy. Additionally, it introduces a field K and module structure not mentioned in the natural language. While these additions don't contradict the mathematical meaning, they represent structural differences that make the formalization less direct than it could be.\"]"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "From part (a) with $u=x-y$, $\\rho(x,y)=N(x-y)\\ge0$, with equality\nif and only if $x=y$.  From part (b) with $u=x-y$   and $a=-1$,\n$$\n\\rho(y,x)=N(y-x)=N(-(x-y))=N(x-y)=\\rho(x,y).\n$$\nFrom part (c) with $u=x-z$ and $v=z-y$,\n$$\n\\rho(x,y)=N(x-y)\\le N(x-z)+N(z-y)=\\rho(x,z)+\\rho(z,y).\n$$", "statement": "We assume:\n\u2022 $(A, N)$ is a normed vector space [tc_1];\n\u2022 For any $x, y \\in A$, we define the function $\\rho(x, y) = N(x-y)$ [def_1];\n\u2022 For any $x, y \\in A$, $\\rho(x,y) \\ge 0$, and $\\rho(x,y) = 0$ if and only if $x=y$ [l1];\n\u2022 For any $x, y \\in A$, $\\rho(y,x) = \\rho(x,y)$ [l2];\n\u2022 For any $x, y, z \\in A$, $\\rho(x,y) \\le \\rho(x,z) + \\rho(z,y)$ [l3].\nTherefore, we conclude:\n\u2022 The function $\\rho$ is a metric on $A$ [ts_1].", "dependencies": ["tc_1", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {K : Type*} [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [Module K A]\n  (N : A \u2192 \u211d) [NormedSpace K A]\n  (def_1_func : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1_func x y = N (x - y))\n  (l1 : \u2200 x y : A, def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y))\n  (l2 : \u2200 x y : A, def_1_func y x = def_1_func x y)\n  (l3 : \u2200 x y z : A, def_1_func x y \u2264 def_1_func x z + def_1_func z y) :\n  MetricSpace A := by\nsorry", "lean_pass": false, "error_msg": [{"line": 5, "column": 0, "endLine": 15, "endColumn": 5, "data": "type of theorem 'ts_1' is not a proposition\n  {K : Type u_1} \u2192\n    [inst : NontriviallyNormedField K] \u2192\n      (A : Type u_2) \u2192\n        [inst_1 : NormedAddCommGroup A] \u2192\n          [inst_2 : Module K A] \u2192\n            (N : A \u2192 \u211d) \u2192\n              [inst : NormedSpace K A] \u2192\n                (def_1_func : A \u2192 A \u2192 \u211d) \u2192\n                  (\u2200 (x y : A), def_1_func x y = N (x - y)) \u2192\n                    (\u2200 (x y : A), def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y)) \u2192\n                      (\u2200 (x y : A), def_1_func y x = def_1_func x y) \u2192\n                        (\u2200 (x y z : A), def_1_func x y \u2264 def_1_func x z + def_1_func z y) \u2192 MetricSpace A"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\ninstance ts_1\n  {K : Type*} [NontriviallyNormedField K]\n  (A : Type*) [NormedAddCommGroup A] [NormedSpace K A]\n  (def_1_func : A \u2192 A \u2192 \u211d)\n  (def_1_eq : \u2200 x y : A, def_1_func x y = \u2016x - y\u2016)\n  (l1 : \u2200 x y : A, def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y))\n  (l2 : \u2200 x y : A, def_1_func y x = def_1_func x y)\n  (l3 : \u2200 x y z : A, def_1_func x y \u2264 def_1_func x z + def_1_func z y) :\n  MetricSpace A where\n  dist := def_1_func\n  dist_self x := ((l1 x x).2).mpr rfl\n  dist_comm x y := by rw [def_1_eq, def_1_eq, norm_sub_rev]\n  dist_triangle x y z := by rw [def_1_eq, def_1_eq, def_1_eq]; exact norm_sub_le x y z\n  edist_dist x y := by simp [def_1_eq]\n  eq_of_dist_eq_zero {x y} h := ((l1 x y).2).mp h", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 26, "endLine": 16, "endColumn": 34, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  def_1_func ?x ?y\nK : Type u_1\ninst\u271d\u00b2 : NontriviallyNormedField K\nA : Type u_2\ninst\u271d\u00b9 : NormedAddCommGroup A\ninst\u271d : NormedSpace K A\ndef_1_func : A \u2192 A \u2192 \u211d\ndef_1_eq : \u2200 (x y : A), def_1_func x y = \u2016x - y\u2016\nl1 : \u2200 (x y : A), def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y)\nl2 : \u2200 (x y : A), def_1_func y x = def_1_func x y\nl3 : \u2200 (x y z : A), def_1_func x y \u2264 def_1_func x z + def_1_func z y\nx y : A\n\u22a2 Dist.dist x y = Dist.dist y x"}, {"line": 17, "column": 32, "endLine": 17, "endColumn": 40, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  def_1_func ?x ?y\nK : Type u_1\ninst\u271d\u00b2 : NontriviallyNormedField K\nA : Type u_2\ninst\u271d\u00b9 : NormedAddCommGroup A\ninst\u271d : NormedSpace K A\ndef_1_func : A \u2192 A \u2192 \u211d\ndef_1_eq : \u2200 (x y : A), def_1_func x y = \u2016x - y\u2016\nl1 : \u2200 (x y : A), def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y)\nl2 : \u2200 (x y : A), def_1_func y x = def_1_func x y\nl3 : \u2200 (x y z : A), def_1_func x y \u2264 def_1_func x z + def_1_func z y\nx y z : A\n\u22a2 Dist.dist x z \u2264 Dist.dist x y + Dist.dist y z"}, {"line": 18, "column": 20, "endLine": 18, "endColumn": 38, "data": "unsolved goals\nK : Type u_1\ninst\u271d\u00b2 : NontriviallyNormedField K\nA : Type u_2\ninst\u271d\u00b9 : NormedAddCommGroup A\ninst\u271d : NormedSpace K A\ndef_1_func : A \u2192 A \u2192 \u211d\ndef_1_eq : \u2200 (x y : A), def_1_func x y = \u2016x - y\u2016\nl1 : \u2200 (x y : A), def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y)\nl2 : \u2200 (x y : A), def_1_func y x = def_1_func x y\nl3 : \u2200 (x y z : A), def_1_func x y \u2264 def_1_func x z + def_1_func z y\nx y : A\n\u22a2 \u2191\u27e8\u2016x - y\u2016, \u22ef\u27e9 = ENNReal.ofReal \u2016x - y\u2016"}, {"line": 5, "column": 0, "endLine": 19, "endColumn": 49, "data": "cannot find synthesization order for instance @ts_1 with type\n  {K : Type u_1} \u2192\n    [inst : NontriviallyNormedField K] \u2192\n      (A : Type u_2) \u2192\n        [inst_1 : NormedAddCommGroup A] \u2192\n          [inst : NormedSpace K A] \u2192\n            (def_1_func : A \u2192 A \u2192 \u211d) \u2192\n              (\u2200 (x y : A), def_1_func x y = \u2016x - y\u2016) \u2192\n                (\u2200 (x y : A), def_1_func x y \u2265 0 \u2227 (def_1_func x y = 0 \u2194 x = y)) \u2192\n                  (\u2200 (x y : A), def_1_func y x = def_1_func x y) \u2192\n                    (\u2200 (x y z : A), def_1_func x y \u2264 def_1_func x z + def_1_func z y) \u2192 MetricSpace A\nall remaining arguments have metavariables:\n  NontriviallyNormedField ?K\n  @NormedSpace ?K A NontriviallyNormedField.toNormedField NormedAddCommGroup.toSeminormedAddCommGroup"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#fa2c07", "highlight": {"background": "#a3c2a8", "border": "#fa2c07"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    