
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for any $a, b, c$ that are side lengths of a triangle, the following inequality holds: $(a+b-c)(b+c-a)(c+a-b) \leq a b c$.

Proof: Let $a, b, c > 0$ be the side lengths of a triangle, so $a+b>c$, $b+c>a$, and $c+a>b$. Consider the differences of squares $$ a^2 - (b-c)^2 = (a-b+c)(a+b-c), b^2 - (a-c)^2 = (b-a+c)(b+a-c), c^2 - (a-b)^2 = (c-a+b)(c+a-b)$$. Since all factors are positive, it follows that $$ a^2 \ge (a-b+c)(a+b-c), b^2 \ge (b-a+c)(b+a-c), c^2 \ge (c-a+b)(c+a-b)$$. Multiplying these inequalities, we obtain $$a^2 b^2 c^2 \ge (a-b+c)(a+b-c)(b-a+c)(b+a-c)(c-a+b)(c+a-b),$$ which rearranges and simplifies to $$ a^2 b^2 c^2 \ge (a+b-c)^2 (b+c-a)^2 (c+a-b)^2.$$. Thus, taking positive square roots, we conclude $$abc \ge (a+b-c)(b+c-a)(c+a-b)$$, proving the inequality.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let a, b, c > 0 be the side lengths of a triangle", "statement": "Premise:\n\u2022 a, b, c are side lengths of a triangle [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical meaning of 'a, b, c are side lengths of a triangle' by including both the positivity constraints (a > 0 \u2227 b > 0 \u2227 c > 0) and the triangle inequalities (a + b > c \u2227 b + c > a \u2227 c + a > b). This is the complete and precise mathematical definition of triangle side lengths."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Let a, b, c > 0 be the side lengths of a triangle, so a+b>c, b+c>a, and c+a>b.", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\nTherefore, we conclude:\n\u2022 a, b, and c are positive real numbers (a>0, b>0, c>0) and satisfy the triangle inequalities: a+b > c, b+c > a, and c+a > b [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) :\n  a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) :\n  a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b := by\n  exact tc_1", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly represent side lengths as real numbers", "The premise correctly interprets 'side lengths of a triangle' as the mathematical conditions: positivity and triangle inequalities", "The conclusion exactly matches the natural language statement with all positivity and triangle inequality conditions", "The logical structure correctly represents a trivial inference where premise and conclusion are identical"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Consider the differences of squares $$ a^2 - (b-c)^2 = (a-b+c)(a+b-c), b^2 - (a-c)^2 = (b-a+c)(b+a-c), c^2 - (a-b)^2 = (c-a+b)(c+a-b)$$.", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a, b, and c are positive real numbers and satisfy the triangle inequalities: a+b > c, b+c > a, and c+a > b [l1];\nTherefore, we conclude:\n\u2022 The following algebraic identities hold:\n  1. a^2 - (b-c)^2 = (a-b+c)(a+b-c)\n  2. b^2 - (a-c)^2 = (b-a+c)(b+a-c)\n  3. c^2 - (a-b)^2 = (c-a+b)(c+a-b) [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) :\n  a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227\n  b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227\n  c^2 - (a - b)^2 = (c - a + b) * (c + a - b) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b) :\n  a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227\n  b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227\n  c^2 - (a - b)^2 = (c - a + b) * (c + a - b) := by\n  constructor\n  \u00b7 ring\n  constructor\n  \u00b7 ring\n  \u00b7 ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. The variable types (real numbers), positivity conditions, triangle inequalities, and all three algebraic identities are accurately represented. The redundancy between tc_1 and l1 parameters doesn't affect the correctness of the formalization, and the logical structure properly reflects the premise-conclusion relationship from the natural language."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Since all factors are positive", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a, b, and c are positive real numbers and satisfy the triangle inequalities: a+b > c, b+c > a, and c+a > b [l1];\n\u2022 Algebraic identities relating squares [l2];\nTherefore, we conclude:\n\u2022 The factors (a+b-c), (b+c-a), and (c+a-b) are all positive [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b)) :\n  a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b)) :\n  a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0 := by\n  constructor\n  \u00b7 linarith [tc_1.2.2.1]\n  \u00b7 constructor\n    \u00b7 linarith [tc_1.2.2.2]\n    \u00b7 linarith [tc_1.2.2.2.2]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable declarations and triangle conditions are correctly formalized. The redundancy between tc_1 and l1 is harmless and doesn't affect correctness. All positivity and triangle inequality conditions from the natural language are properly captured.", "While the natural language is vague about the specific algebraic identities, the Lean formalization provides concrete, mathematically valid identities that are consistent with the context. The factorization identities are correct and relevant.", "The conclusion is perfectly translated from natural language to Lean, correctly expressing that all three factors are positive using the appropriate inequality operators."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "it follows that $$ a^2 \\ge (a-b+c)(a+b-c), b^2 \\ge (b-a+c)(b+a-c), c^2 \\ge (c-a+b)(c+a-b)$$.", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a, b, and c are positive real numbers and satisfy the triangle inequalities: a+b > c, b+c > a, and c+a > b [l1];\n\u2022 a^2 - (b-c)^2 = (a-b+c)(a+b-c), b^2 - (a-c)^2 = (b-a+c)(b+a-c), c^2 - (a-b)^2 = (c-a+b)(c+a-b) [l2];\n\u2022 The factors (a+b-c), (b+c-a), and (c+a-b) are all positive [l3];\nTherefore, we conclude:\n\u2022 The following inequalities hold:\n  1. a^2 >= (a-b+c)(a+b-c)\n  2. b^2 >= (b-a+c)(b+a-c)\n  3. c^2 >= (c-a+b)(c+a-b) [l4].", "dependencies": ["tc_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0) :\n  a^2 \u2265 (a - b + c) * (a + b - c) \u2227\n  b^2 \u2265 (b - a + c) * (b + a - c) \u2227\n  c^2 \u2265 (c - a + b) * (c + a - b) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0) :\n  a^2 \u2265 (a - b + c) * (a + b - c) \u2227\n  b^2 \u2265 (b - a + c) * (b + a - c) \u2227\n  c^2 \u2265 (c - a + b) * (c + a - b) := by\n  constructor\n  \u00b7 rw [\u2190 l2.1]\n    simp\n    nlinarith [sq_nonneg (b - c)]\n  \u00b7 constructor\n    \u00b7 rw [\u2190 l2.2.1]\n      simp\n      nlinarith [sq_nonneg (a - c)]\n    \u00b7 rw [\u2190 l2.2.2]\n      simp\n      nlinarith [sq_nonneg (a - b)]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle conditions (positivity and triangle inequalities) are correctly encoded in both tc_1 and l1, though redundantly.", "The algebraic identities in l2 perfectly match the natural language, with appropriate Lean multiplication notation.", "The positivity conditions for the factors in l3 are exactly as stated in natural language.", "The conclusion inequalities in l4 precisely capture the natural language statement with correct Lean syntax.", "Overall structure maintains the logical flow from assumptions to conclusion, with all mathematical content preserved despite some redundancy in assumptions."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Multiplying these inequalities, we obtain $$a^2 b^2 c^2 \\ge (a-b+c)(a+b-c)(b-a+c)(b+a-c)(c-a+b)(c+a-b),$$", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a>0, b>0, c>0 and the triangle inequalities hold [l1];\n\u2022 Algebraic identities relating squares [l2];\n\u2022 The factors (a+b-c), (b+c-a), and (c+a-b) are all positive [l3];\n\u2022 a^2 >= (a-b+c)(a+b-c), b^2 >= (b-a+c)(b+a-c), and c^2 >= (c-a+b)(c+a-b) [l4];\nTherefore, we conclude:\n\u2022 a^2 * b^2 * c^2 >= (a-b+c)(a+b-c)(b-a+c)(b+a-c)(c-a+b)(c+a-b) [l5].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b)) :\n  a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b)) :\n  a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b) := by\n  have h1 := l4.1\n  have h2 := l4.2.1\n  have h3 := l4.2.2\n  have habc := l3.1\n  have hbca := l3.2.1\n  have hcab := l3.2.2\n  have habc' : (a - b + c) > 0 := by linarith\n  have hbca' : (b - a + c) > 0 := by linarith\n  have hcab' : (c - a + b) > 0 := by linarith\n  have habc'' : (a + b - c) > 0 := habc\n  have hbca'' : (b + a - c) > 0 := by linarith\n  have hcab'' : (c + a - b) > 0 := hcab\n  have hprod : (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b) = \n    ((a - b + c) * (a + b - c)) * ((b - a + c) * (b + a - c)) * ((c - a + b) * (c + a - b)) := by ring\n  rw [hprod]\n  have hpos1 : (a - b + c) * (a + b - c) > 0 := mul_pos habc' habc''\n  have hpos2 : (b - a + c) * (b + a - c) > 0 := mul_pos hbca' hbca''\n  have hpos3 : (c - a + b) * (c + a - b) > 0 := mul_pos hcab' hcab''\n  have ha : a^2 > 0 := by nlinarith\n  have hb : b^2 > 0 := by nlinarith\n  have hc : c^2 > 0 := by nlinarith\n  exact mul_le_mul (mul_le_mul h1 h2 (le_of_lt hpos2) (le_of_lt ha)) h3 (le_of_lt hpos3) (mul_nonneg (le_of_lt ha) (le_of_lt hb))", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 5}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The triangle side lengths declaration is correctly formalized with proper type annotations and triangle inequalities.", "The positivity and triangle inequality conditions are correctly captured, though redundant with tc_1.", "The algebraic identities are properly formalized with specific, mathematically correct factorization formulas.", "The positive factor conditions are perfectly translated to Lean syntax.", "The inequality conditions are accurately formalized with correct mathematical notation.", "The conclusion inequality is perfectly captured in the Lean goal statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "which rearranges and simplifies to $$ a^2 b^2 c^2 \\ge (a+b-c)^2 (b+c-a)^2 (c+a-b)^2.$$.", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a>0, b>0, c>0 and the triangle inequalities hold [l1];\n\u2022 Algebraic identities relating squares [l2];\n\u2022 The factors (a+b-c), (b+c-a), and (c+a-b) are all positive [l3];\n\u2022 a^2 >= (a-b+c)(a+b-c), etc. [l4];\n\u2022 a^2 * b^2 * c^2 >= (a-b+c)(a+b-c)(b-a+c)(b+a-c)(c-a+b)(c+a-b) [l5];\nTherefore, we conclude:\n\u2022 a^2 * b^2 * c^2 >= (a+b-c)^2 * (b+c-a)^2 * (c+a-b)^2 [l6].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b))\n  (l5 : a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)) :\n  a^2 * b^2 * c^2 \u2265 (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b))\n  (l5 : a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)) :\n  a^2 * b^2 * c^2 \u2265 (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2 := by\n  have h1 : (a + b - c)^2 \u2264 a^2 := by\n    rw [pow_two, pow_two]\n    exact l4.1.trans (le_of_eq (mul_self_le_mul_self (by linarith [l3.1]) l4.1))\n  have h2 : (b + c - a)^2 \u2264 b^2 := by\n    rw [pow_two, pow_two]\n    exact l4.2.1.trans (le_of_eq (mul_self_le_mul_self (by linarith [l3.2.1]) l4.2.1))\n  have h3 : (c + a - b)^2 \u2264 c^2 := by\n    rw [pow_two, pow_two]\n    exact l4.2.2.trans (le_of_eq (mul_self_le_mul_self (by linarith [l3.2.2]) l4.2.2))\n  have h4 : (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2 \u2264 a^2 * b^2 * c^2 :=\n    mul_le_mul (mul_le_mul h1 h2 (by linarith [l3.2.1]) (by linarith [l3.1])) h3 (by linarith [l3.2.2]) (by linarith [l3.1, l3.2.1])\n  exact le_trans h4 l5", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 32, "endLine": 16, "endColumn": 52, "data": "overloaded, errors \n  type mismatch\n    _root_.mul_self_le_mul_self ?m.24877 l4.left\n  has type\n    (a - b + c) * (a + b - c) * ((a - b + c) * (a + b - c)) \u2264 a ^ 2 * a ^ 2 : Prop\n  but is expected to have type\n    a ^ 2 = ?m.24397 : Prop\n  \n  function expected at\n    Nat.mul_self_le_mul_self ?m.25885\n  term has type\n    ?m.25883 * ?m.25883 \u2264 ?m.25884 * ?m.25884"}, {"line": 19, "column": 34, "endLine": 19, "endColumn": 54, "data": "overloaded, errors \n  type mismatch\n    _root_.mul_self_le_mul_self ?m.27901 l4.right.left\n  has type\n    (b - a + c) * (b + a - c) * ((b - a + c) * (b + a - c)) \u2264 b ^ 2 * b ^ 2 : Prop\n  but is expected to have type\n    b ^ 2 = ?m.27421 : Prop\n  \n  function expected at\n    Nat.mul_self_le_mul_self ?m.28645\n  term has type\n    ?m.28643 * ?m.28643 \u2264 ?m.28644 * ?m.28644"}, {"line": 22, "column": 34, "endLine": 22, "endColumn": 54, "data": "overloaded, errors \n  type mismatch\n    _root_.mul_self_le_mul_self ?m.30629 l4.right.right\n  has type\n    (c - a + b) * (c + a - b) * ((c - a + b) * (c + a - b)) \u2264 c ^ 2 * c ^ 2 : Prop\n  but is expected to have type\n    c ^ 2 = ?m.30149 : Prop\n  \n  function expected at\n    Nat.mul_self_le_mul_self ?m.31373\n  term has type\n    ?m.31371 * ?m.31371 \u2264 ?m.31372 * ?m.31372"}, {"line": 24, "column": 37, "endLine": 24, "endColumn": 54, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\nl2 :\n  a ^ 2 - (b - c) ^ 2 = (a - b + c) * (a + b - c) \u2227\n    b ^ 2 - (a - c) ^ 2 = (b - a + c) * (b + a - c) \u2227 c ^ 2 - (a - b) ^ 2 = (c - a + b) * (c + a - b)\nl3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl4 : a ^ 2 \u2265 (a - b + c) * (a + b - c) \u2227 b ^ 2 \u2265 (b - a + c) * (b + a - c) \u2227 c ^ 2 \u2265 (c - a + b) * (c + a - b)\nl5 : a ^ 2 * b ^ 2 * c ^ 2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)\nh1 : (a + b - c) ^ 2 \u2264 a ^ 2\nh2 : (b + c - a) ^ 2 \u2264 b ^ 2\nh3 : (c + a - b) ^ 2 \u2264 c ^ 2\na\u271d : 0 > (b + c - a) ^ 2\n\u22a2 False failed"}, {"line": 24, "column": 60, "endLine": 24, "endColumn": 75, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\nl2 :\n  a ^ 2 - (b - c) ^ 2 = (a - b + c) * (a + b - c) \u2227\n    b ^ 2 - (a - c) ^ 2 = (b - a + c) * (b + a - c) \u2227 c ^ 2 - (a - b) ^ 2 = (c - a + b) * (c + a - b)\nl3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl4 : a ^ 2 \u2265 (a - b + c) * (a + b - c) \u2227 b ^ 2 \u2265 (b - a + c) * (b + a - c) \u2227 c ^ 2 \u2265 (c - a + b) * (c + a - b)\nl5 : a ^ 2 * b ^ 2 * c ^ 2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)\nh1 : (a + b - c) ^ 2 \u2264 a ^ 2\nh2 : (b + c - a) ^ 2 \u2264 b ^ 2\nh3 : (c + a - b) ^ 2 \u2264 c ^ 2\na\u271d : 0 > a ^ 2\n\u22a2 False failed"}, {"line": 24, "column": 85, "endLine": 24, "endColumn": 102, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\nl2 :\n  a ^ 2 - (b - c) ^ 2 = (a - b + c) * (a + b - c) \u2227\n    b ^ 2 - (a - c) ^ 2 = (b - a + c) * (b + a - c) \u2227 c ^ 2 - (a - b) ^ 2 = (c - a + b) * (c + a - b)\nl3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl4 : a ^ 2 \u2265 (a - b + c) * (a + b - c) \u2227 b ^ 2 \u2265 (b - a + c) * (b + a - c) \u2227 c ^ 2 \u2265 (c - a + b) * (c + a - b)\nl5 : a ^ 2 * b ^ 2 * c ^ 2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)\nh1 : (a + b - c) ^ 2 \u2264 a ^ 2\nh2 : (b + c - a) ^ 2 \u2264 b ^ 2\nh3 : (c + a - b) ^ 2 \u2264 c ^ 2\na\u271d : 0 > (c + a - b) ^ 2\n\u22a2 False failed"}, {"line": 24, "column": 108, "endLine": 24, "endColumn": 131, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b\nl2 :\n  a ^ 2 - (b - c) ^ 2 = (a - b + c) * (a + b - c) \u2227\n    b ^ 2 - (a - c) ^ 2 = (b - a + c) * (b + a - c) \u2227 c ^ 2 - (a - b) ^ 2 = (c - a + b) * (c + a - b)\nl3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0\nl4 : a ^ 2 \u2265 (a - b + c) * (a + b - c) \u2227 b ^ 2 \u2265 (b - a + c) * (b + a - c) \u2227 c ^ 2 \u2265 (c - a + b) * (c + a - b)\nl5 : a ^ 2 * b ^ 2 * c ^ 2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)\nh1 : (a + b - c) ^ 2 \u2264 a ^ 2\nh2 : (b + c - a) ^ 2 \u2264 b ^ 2\nh3 : (c + a - b) ^ 2 \u2264 c ^ 2\na\u271d : 0 > a ^ 2 * b ^ 2\n\u22a2 False failed"}, {"line": 25, "column": 20, "endLine": 25, "endColumn": 22, "data": "application type mismatch\n  le_trans h4 l5\nargument\n  l5\nhas type\n  a ^ 2 * b ^ 2 * c ^ 2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b) : Prop\nbut is expected to have type\n  a ^ 2 * b ^ 2 * c ^ 2 \u2264 a ^ 2 * b ^ 2 * c ^ 2 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Triangle conditions are correctly formalized with positivity and triangle inequalities, though tc_1 and l1 are redundant", "Algebraic identities are correctly specified as difference of squares factorizations, providing concrete detail for the vague natural language description", "Positive factor conditions are perfectly captured", "Square inequalities are properly expanded from 'etc.' to include all three cases", "Product inequality is exactly matched", "Conclusion inequality is perfectly formalized", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b))\n  (l5 : a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b)) :\n  \u00ac (a^2 * b^2 * c^2 \u2265 (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2) := by\n  intro h\n  have h1 := mul_pos l3.1 (mul_pos l3.2 l3.3)\n  have h2 : (a - b + c) * (a + b - c) \u2264 a^2 := l4.1\n  have h3 : (b - a + c) * (b + a - c) \u2264 b^2 := l4.2.1\n  have h4 : (c - a + b) * (c + a - b) \u2264 c^2 := l4.2.2\n  have h5 := mul_le_mul h2 (mul_le_mul h3 h4 (by positivity) (by positivity)) (by positivity) (by positivity)\n  have h6 := l5.trans h\n  have h7 : (a + b - c) * (b + c - a) * (c + a - b) \u2264 a * b * c := by\n    rw [\u2190mul_assoc, \u2190mul_assoc]\n    apply mul_le_mul h2 (mul_le_mul h3 h4 (by positivity) (by positivity)) (by positivity) (by positivity)\n  have h8 := pow_two (a + b - c) \u25b8 pow_two (b + c - a) \u25b8 pow_two (c + a - b)\n  have h9 := mul_le_mul h7 h7 (by positivity) (by positivity)\n  linarith [h5, h6, h9]"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Thus, taking positive square roots, we conclude $$abc \\ge (a+b-c)(b+c-a)(c+a-b)$$, proving the inequality.", "statement": "We assume:\n\u2022 a, b, c are side lengths of a triangle [tc_1];\n\u2022 a>0, b>0, c>0 and the triangle inequalities hold [l1];\n\u2022 Algebraic identities relating squares [l2];\n\u2022 The factors (a+b-c), (b+c-a), and (c+a-b) are all positive [l3];\n\u2022 a^2 >= (a-b+c)(a+b-c), etc. [l4];\n\u2022 a^2 * b^2 * c^2 >= a large product of factors [l5];\n\u2022 a^2 * b^2 * c^2 >= (a+b-c)^2 * (b+c-a)^2 * (c+a-b)^2 [l6];\nTherefore, we conclude:\n\u2022 abc >= (a+b-c)(b+c-a)(c+a-b) [ts_1].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b))\n  (l5 : a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b))\n  (l6 : a^2 * b^2 * c^2 \u2265 (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2) :\n  a * b * c \u2265 (a + b - c) * (b + c - a) * (c + a - b) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l1 : a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a + b > c \u2227 b + c > a \u2227 c + a > b)\n  (l2 : a^2 - (b - c)^2 = (a - b + c) * (a + b - c) \u2227 b^2 - (a - c)^2 = (b - a + c) * (b + a - c) \u2227 c^2 - (a - b)^2 = (c - a + b) * (c + a - b))\n  (l3 : a + b - c > 0 \u2227 b + c - a > 0 \u2227 c + a - b > 0)\n  (l4 : a^2 \u2265 (a - b + c) * (a + b - c) \u2227 b^2 \u2265 (b - a + c) * (b + a - c) \u2227 c^2 \u2265 (c - a + b) * (c + a - b))\n  (l5 : a^2 * b^2 * c^2 \u2265 (a - b + c) * (a + b - c) * (b - a + c) * (b + a - c) * (c - a + b) * (c + a - b))\n  (l6 : a^2 * b^2 * c^2 \u2265 (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2) :\n  a * b * c \u2265 (a + b - c) * (b + c - a) * (c + a - b) := by\n  have h1 : a * b * c > 0 := by\n    have ha : a > 0 := l1.1\n    have hb : b > 0 := l1.2.1\n    have hc : c > 0 := l1.2.2.1\n    exact mul_pos (mul_pos ha hb) hc\n  have h2 : (a + b - c) * (b + c - a) * (c + a - b) > 0 := by\n    have habc : a + b - c > 0 := l3.1\n    have hbca : b + c - a > 0 := l3.2.1\n    have hcab : c + a - b > 0 := l3.2.2\n    exact mul_pos (mul_pos habc hbca) hcab\n  have h3 : (a * b * c)^2 = a^2 * b^2 * c^2 := by ring\n  have h4 : ((a + b - c) * (b + c - a) * (c + a - b))^2 = (a + b - c)^2 * (b + c - a)^2 * (c + a - b)^2 := by ring\n  rw [\u2190h3, \u2190h4] at l6\n  have h5 := Real.sqrt_le_sqrt l6\n  simp only [Real.sqrt_sq_eq_abs] at h5\n  rw [abs_of_pos h1, abs_of_pos h2] at h5\n  exact h5", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 4}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Triangle conditions tc_1 and l1 correctly capture the positivity requirements and triangle inequalities mentioned in the natural language", "The algebraic identities l2 provide specific square-difference factorizations that align with the general description of 'algebraic identities relating squares'", "The positive factor conditions l3 exactly match the natural language statement about the three expressions being positive", "The inequalities l4 properly expand the 'etc.' from natural language to include all three analogous inequalities", "The large product inequality l5 correctly specifies what was described as 'a large product of factors' in the natural language", "The squared factors inequality l6 is an exact translation of the natural language statement", "The conclusion ts_1 perfectly captures the final inequality statement from the natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    