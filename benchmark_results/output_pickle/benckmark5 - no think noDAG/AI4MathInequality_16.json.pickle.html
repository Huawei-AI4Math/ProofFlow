
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$, the following inequality holds:
$$ (a+b+c)^{3} \\geq a^{3}+b^{3}+c^{3}+24 a b c $$

Proof: Let $a, b, c$ be positive real numbers. Expanding $(a+b+c)^3$ gives $(a+b+c)^3 = a^3 + b^3 + c^3 + 3(a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2) + 6abc$. By the AMâ€“GM inequality, we have $a^2b + b^2c + c^2a \ge 3\sqrt[3]{a^2b \cdot b^2c \cdot c^2a} = 3abc$ and $ab^2 + bc^2 + ca^2 \ge 3\sqrt[3]{ab^2 \cdot bc^2 \cdot ca^2} = 3abc$, so that $a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2 \ge 6abc$. Therefore, $3(a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2) \ge 18abc$, and substituting this into the expansion yields $(a+b+c)^3 \ge a^3 + b^3 + c^3 + 18abc + 6abc = a^3 + b^3 + c^3 + 24abc$. Thus, $(a+b+c)^3 \e a^3 + b^3 + c^3 + 24abc$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let a, b, c be positive real numbers.", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, c are real numbers through 'variable (a b c : \u211d)' and that they are positive through the condition '(tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)'. No conclusions are derived in either the natural language or Lean, which is consistent."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Expanding $(a+b+c)^3$ gives $(a+b+c)^3 = a^3 + b^3 + c^3 + 3(a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2) + 6abc$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1].\nTherefore, we conclude:\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c) :\n  (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c) :\n  (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c := by\n  ring", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly capture 'a, b, c are positive real numbers' through real number typing and positivity constraints", "The assumption structure is properly encoded as hypothesis tc_1 in the lemma parameters", "The conclusion equation is identically represented in both natural language and Lean", "The mathematical expression for the cubic expansion is algebraically correct and matches exactly", "The logical flow from assumption to conclusion is perfectly preserved in the Lean formalization"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "By the AM\u2013GM inequality, we have $a^2b + b^2c + c^2a \\ge 3\\sqrt[3]{a^2b \\cdot b^2c \\cdot c^2a} = 3abc$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c [l1].\nTherefore, we conclude:\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c) :\n  a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c) :\n  a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c := by\n  have h : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a + b + c) * (a*b + b*c + c*a) := by ring\n  rw [l1, h]\n  simp only [add_left_inj]\n  have h1 : (a + b + c) * (a*b + b*c + c*a) = a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 + 3*a*b*c := by ring\n  rw [h1]\n  simp only [add_left_inj]\n  have h2 : a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 = 6*a*b*c := by linarith\n  have h3 : a^2*b + b^2*c + c^2*a + a*b^2 + b*c^2 + c*a^2 = (a^2*b + b^2*c + c^2*a) + (a*b^2 + b*c^2 + c*a^2) := by ring\n  rw [h3] at h2\n  have h4 : (a^2*b + b^2*c + c^2*a) + (a*b^2 + b*c^2 + c*a^2) = 6*a*b*c := h2\n  have h5 : (a^2*b + b^2*c + c^2*a) + (a*b^2 + b*c^2 + c*a^2) \u2265 2 * (3 * a * b * c) := by linarith\n  have h6 : (a^2*b + b^2*c + c^2*a) \u2265 (a*b^2 + b*c^2 + c*a^2) \u2228 (a*b^2 + b*c^2 + c*a^2) \u2265 (a^2*b + b^2*c + c^2*a) := by\n    apply le_total\n  cases h6 with\n  | inl h6 =>\n    have h7 : (a^2*b + b^2*c + c^2*a) \u2265 3 * a * b * c := by linarith\n    exact h7\n  | inr h6 =>\n    have h7 : (a*b^2 + b*c^2 + c*a^2) \u2265 3 * a * b * c := by linarith\n    have h8 : (a^2*b + b^2*c + c^2*a) \u2265 3 * a * b * c := by linarith\n    exact h8", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 10, "column": 84, "endLine": 10, "endColumn": 91, "data": "unsolved goals\na b c : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c\nl1 :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\n\u22a2 a * b * c * 6 + a * b ^ 2 * 3 + a * c ^ 2 * 3 + a ^ 2 * b * 3 + a ^ 2 * c * 3 + a ^ 3 + b * c ^ 2 * 3 +\n          b ^ 2 * c * 3 +\n        b ^ 3 +\n      c ^ 3 =\n    a * b * c * 9 + a * b ^ 2 * 3 + a * c ^ 2 * 3 + a ^ 2 * b * 3 + a ^ 2 * c * 3 + a ^ 3 + b * c ^ 2 * 3 +\n          b ^ 2 * c * 3 +\n        b ^ 3 +\n      c ^ 3"}, {"line": 11, "column": 6, "endLine": 11, "endColumn": 8, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (a + b + c) ^ 3\na b c : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c\nl1 :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nh : (a + b + c) ^ 3 = a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a + b + c) * (a * b + b * c + c * a)\n\u22a2 a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations correctly capture the real number types and positivity constraints from the natural language", "The algebraic identity l1 is translated exactly with proper mathematical notation and operator precedence", "The target inequality l2 is formalized correctly with matching terms and the appropriate inequality symbol", "The logical structure properly reflects the assumption-conclusion relationship from the natural language", "The mathematical content and relationships are preserved completely in the Lean formalization", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c) :\n  \u00ac(a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c) := by\n  intro h\n  have h1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c := l1\n  have h2 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c := by ring\n  rw [h2] at h1\n  have h3 : a^2*b + b^2*c + c^2*a \u2265 3*a*b*c := h\n  have h4 : a*b^2 + b*c^2 + c*a^2 \u2265 3*a*b*c := by\n    have : a*b^2 + b*c^2 + c*a^2 = a^2*b + b^2*c + c^2*a := by ring\n    rw [this]\n    exact h3\n  have h5 : a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 \u2265 6*a*b*c := by linarith\n  have h6 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3*6*a*b*c + 6*a*b*c := by linarith\n  have h7 : (a + b + c)^3 = a^3 + b^3 + c^3 + 24*a*b*c := by ring\n  have h8 : (a + b + c)^3 > a^3 + b^3 + c^3 + 6*a*b*c := by\n    apply add_lt_add_left\n    exact mul_lt_mul_of_pos_left (by linarith) tc_1.2.2\n  linarith"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "and $ab^2 + bc^2 + ca^2 \\ge 3\\sqrt[3]{ab^2 \\cdot bc^2 \\cdot ca^2} = 3abc$,", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c [l1];\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2].\nTherefore, we conclude:\n\u2022 a*b^2 + b*c^2 + c*a^2 >= 3*a*b*c [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c) :\n  a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c) :\n  a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c := by\n  have h := l1\n  have h1 := l2\n  have h2 : (a + b + c)^3 - a^3 - b^3 - c^3 = 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c := by linarith\n  have h3 : (a + b + c)^3 - a^3 - b^3 - c^3 = 3 * (a + b + c) * (a * b + b * c + c * a) := by ring\n  rw [h3] at h2\n  have h4 : 3 * (a + b + c) * (a * b + b * c + c * a) = 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 + 2 * a * b * c) := by linarith [h2]\n  have h5 : (a + b + c) * (a * b + b * c + c * a) = a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 + 2 * a * b * c := by linarith\n  have h6 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = (a^2 * b + b^2 * c + c^2 * a) + (a * b^2 + b * c^2 + c * a^2) := by ring\n  rw [h6] at h5\n  have h7 : (a + b + c) * (a * b + b * c + c * a) = (a^2 * b + b^2 * c + c^2 * a) + (a * b^2 + b * c^2 + c * a^2) + 2 * a * b * c := h5\n  have h8 : (a^2 * b + b^2 * c + c^2 * a) + (a * b^2 + b * c^2 + c * a^2) + 2 * a * b * c \u2265 (a^2 * b + b^2 * c + c^2 * a) + 3 * a * b * c + 2 * a * b * c := by\n    apply add_le_add_right\n    apply add_le_add_left\n    exact h1\n  have h9 : (a^2 * b + b^2 * c + c^2 * a) + (a * b^2 + b * c^2 + c * a^2) + 2 * a * b * c \u2265 (a^2 * b + b^2 * c + c^2 * a) + 5 * a * b * c := by\n    rw [\u2190 add_assoc (a^2 * b + b^2 * c + c^2 * a) (3 * a * b * c) (2 * a * b * c)] at h8\n    exact h8\n  have h10 : (a * b^2 + b * c^2 + c * a^2) + 2 * a * b * c \u2265 5 * a * b * c := by linarith\n  have h11 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c := by linarith\n  exact h11", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 14, "column": 91, "endLine": 14, "endColumn": 98, "data": "unsolved goals\na b c : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c\nl1 :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nl2 : a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c\nh :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nh1 : a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c\nh2 :\n  (a + b + c) ^ 3 - a ^ 3 - b ^ 3 - c ^ 3 =\n    3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\n\u22a2 a * b * c * 6 + a * b ^ 2 * 3 + a * c ^ 2 * 3 + a ^ 2 * b * 3 + a ^ 2 * c * 3 + b * c ^ 2 * 3 + b ^ 2 * c * 3 =\n    a * b * c * 9 + a * b ^ 2 * 3 + a * c ^ 2 * 3 + a ^ 2 * b * 3 + a ^ 2 * c * 3 + b * c ^ 2 * 3 + b ^ 2 * c * 3"}, {"line": 24, "column": 4, "endLine": 24, "endColumn": 12, "data": "type mismatch\n  h1\nhas type\n  a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c : Prop\nbut is expected to have type\n  3 * a * b * c \u2264 a * b ^ 2 + b * c ^ 2 + c * a ^ 2 : Prop"}, {"line": 26, "column": 8, "endLine": 26, "endColumn": 81, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (3 * a * b * c + 2 * a * b * c)\na b c : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c\nl1 :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nl2 : a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c\nh :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nh1 : a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c\nh2 :\n  3 * (a + b + c) * (a * b + b * c + c * a) =\n    3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nh3 : (a + b + c) ^ 3 - a ^ 3 - b ^ 3 - c ^ 3 = 3 * (a + b + c) * (a * b + b * c + c * a)\nh4 :\n  3 * (a + b + c) * (a * b + b * c + c * a) =\n    3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2 + 2 * a * b * c)\nh5 :\n  (a + b + c) * (a * b + b * c + c * a) =\n    a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (a * b ^ 2 + b * c ^ 2 + c * a ^ 2) + 2 * a * b * c\nh6 :\n  a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2 =\n    a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (a * b ^ 2 + b * c ^ 2 + c * a ^ 2)\nh7 :\n  (a + b + c) * (a * b + b * c + c * a) =\n    a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (a * b ^ 2 + b * c ^ 2 + c * a ^ 2) + 2 * a * b * c\nh8 :\n  a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (a * b ^ 2 + b * c ^ 2 + c * a ^ 2) + 2 * a * b * c \u2265\n    a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + 3 * a * b * c + 2 * a * b * c\n\u22a2 a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + (a * b ^ 2 + b * c ^ 2 + c * a ^ 2) + 2 * a * b * c \u2265\n    a ^ 2 * b + b ^ 2 * c + c ^ 2 * a + 5 * a * b * c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized using real number types and conjunction of strict inequalities.", "The algebraic identity l1 is perfectly preserved with all terms, coefficients, and structure matching exactly.", "The inequality l2 is correctly translated with proper inequality symbol and term-by-term correspondence.", "The conclusion l3 is accurately stated as the goal with exact term matching.", "The overall logical structure properly captures the premise-conclusion relationship using Lean's lemma format.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3 :\n  \u2203 (a b c : \u211d), 0 < a \u2227 0 < b \u2227 0 < c \u2227\n  (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c \u2227\n  a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c \u2227\n  \u00ac (a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c) := by\n  use 1, 2, (1/2 : \u211d)\n  constructor; norm_num\n  constructor; norm_num\n  constructor; norm_num\n  constructor; norm_num\n  constructor; norm_num\n  norm_num"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "so that $a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2 \\ge 6abc$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c [l1];\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2];\n\u2022 a*b^2 + b*c^2 + c*a^2 >= 3*a*b*c [l3].\nTherefore, we conclude:\n\u2022 a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 >= 6*a*b*c [l4].", "dependencies": ["tc_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c) :\n  a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c) :\n  a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c := by\n  have h : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 = (a^2 * b + b^2 * c + c^2 * a) + (a * b^2 + b * c^2 + c * a^2) := by ring\n  rw [h]\n  linarith [l2, l3]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized with appropriate types and logical conjunction", "The algebraic identity l1 is perfectly translated with correct operator precedence and grouping", "The first inequality l2 is exactly captured with proper mathematical notation", "The second inequality l3 is correctly formalized with identical mathematical structure", "The conclusion l4 maintains the exact same mathematical relationship as stated in natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Therefore, $3(a^2b + ab^2 + b^2c + bc^2 + c^2a + ca^2) \\ge 18abc$,", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(...) + 6*a*b*c [l1];\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2];\n\u2022 a*b^2 + b*c^2 + c*a^2 >= 3*a*b*c [l3];\n\u2022 a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 >= 6*a*b*c [l4].\nTherefore, we conclude:\n\u2022 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) >= 18*a*b*c [l5].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c) :\n  3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c) :\n  3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c := by\n  nlinarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "The algebraic identity is properly expanded from the natural language placeholder", "First inequality l2 is exactly matched", "Second inequality l3 is exactly matched", "Combined inequality l4 is exactly matched", "Conclusion l5 is exactly matched and follows logically from the premises"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "and substituting this into the expansion yields $(a+b+c)^3 \\ge a^3 + b^3 + c^3 + 18abc + 6abc$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) + 6*a*b*c [l1];\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2];\n\u2022 a*b^2 + b*c^2 + c*a^2 >= 3*a*b*c [l3];\n\u2022 a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 >= 6*a*b*c [l4];\n\u2022 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) >= 18*a*b*c [l5].\nTherefore, we conclude:\n\u2022 (a+b+c)^3 >= a^3 + b^3 + c^3 + 18*a*b*c + 6*a*b*c [l6].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c) :\n  (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c) :\n  (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c := by\n  rw [l1]\n  simp only [add_assoc]\n  apply add_le_add_left\n  apply add_le_add_left\n  rw [add_assoc (a^3) (b^3)]\n  apply le_trans _ l5\n  simp only [add_le_add_iff_right]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 6, "endLine": 18, "endColumn": 27, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  a ^ 3 + b ^ 3 + ?c\ncase bc.bc\na b c : \u211d\ntc_1 : 0 < a \u2227 0 < b \u2227 0 < c\nl1 :\n  (a + b + c) ^ 3 =\n    a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c\nl2 : a ^ 2 * b + b ^ 2 * c + c ^ 2 * a \u2265 3 * a * b * c\nl3 : a * b ^ 2 + b * c ^ 2 + c * a ^ 2 \u2265 3 * a * b * c\nl4 : a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2 \u2265 6 * a * b * c\nl5 : 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) \u2265 18 * a * b * c\n\u22a2 c ^ 3 + (18 * a * b * c + 6 * a * b * c) \u2264\n    c ^ 3 + (3 * (a ^ 2 * b + (a * b ^ 2 + (b ^ 2 * c + (b * c ^ 2 + (c ^ 2 * a + c * a ^ 2))))) + 6 * a * b * c)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "The algebraic identity l1 is perfectly translated with all terms and coefficients matching", "All inequality assumptions l2, l3, l4, l5 are correctly formalized with identical mathematical expressions", "The conclusion l6 is correctly stated as the goal of the lemma", "The logical structure properly represents the natural language reasoning pattern", "Mathematical notation and operator precedence are correctly preserved throughout", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l6\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c) :\n  \u00ac (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c := by\n  intro h\n  rw [l1] at h\n  simp at h\n  have : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c := l5\n  have : 6 * a * b * c \u2265 6 * a * b * c := le_refl _\n  have : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c \u2265 24 * a * b * c := by\n    rw [\u2190mul_add]\n    apply add_le_add l5 (le_refl _)\n    simp\n    exact (mul_le_mul_left (by positivity)).mpr l4\n  linarith"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "... = a^3 + b^3 + c^3 + 24abc. Thus, $(a+b+c)^3 \\ge a^3 + b^3 + c^3 + 24abc$.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1];\n\u2022 (a+b+c)^3 = a^3 + b^3 + c^3 + 3*(...) + 6*a*b*c [l1];\n\u2022 a^2*b + b^2*c + c^2*a >= 3*a*b*c [l2];\n\u2022 a*b^2 + b*c^2 + c*a^2 >= 3*a*b*c [l3];\n\u2022 a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2 >= 6*a*b*c [l4];\n\u2022 3*(a^2*b + a*b^2 + b^2*c + b*c^2 + c^2*a + c*a^2) >= 18*a*b*c [l5];\n\u2022 (a+b+c)^3 >= a^3 + b^3 + c^3 + 18*a*b*c + 6*a*b*c [l6].\nTherefore, we conclude:\n\u2022 (a+b+c)^3 >= a^3 + b^3 + c^3 + 24*a*b*c [ts_1].", "dependencies": ["tc_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c)\n  (l6 : (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c) :\n  (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 24 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c)\n  (l6 : (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c) :\n  (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 24 * a * b * c := by\n  rw [l1]\n  have h : 18 * a * b * c + 6 * a * b * c = 24 * a * b * c := by ring\n  apply ge_of_eq\n  rw [\u2190 h]\n  exact l6", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 19, "column": 2, "endLine": 19, "endColumn": 10, "data": "type mismatch\n  l6\nhas type\n  (a + b + c) ^ 3 \u2265 a ^ 3 + b ^ 3 + c ^ 3 + 18 * a * b * c + 6 * a * b * c : Prop\nbut is expected to have type\n  a ^ 3 + b ^ 3 + c ^ 3 + 3 * (a ^ 2 * b + a * b ^ 2 + b ^ 2 * c + b * c ^ 2 + c ^ 2 * a + c * a ^ 2) + 6 * a * b * c =\n    a ^ 3 + b ^ 3 + c ^ 3 + (18 * a * b * c + 6 * a * b * c) : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable types and positivity constraints are correctly captured in Lean with proper real number typing and conjunction of inequalities.", "The algebraic identity is perfectly translated, with the ellipsis (...) in natural language properly expanded to the full expression in Lean.", "First inequality l2 is exactly matched in both mathematical content and structure.", "Second inequality l3 is exactly matched in both mathematical content and structure.", "Combined inequality l4 is exactly matched, correctly representing the sum of all six cyclic terms.", "Scaled inequality l5 is exactly matched, properly distributing the factor of 3.", "Intermediate conclusion l6 is exactly matched, maintaining the structure with separate 18*a*b*c and 6*a*b*c terms.", "Final conclusion ts_1 is exactly matched, correctly simplifying to 24*a*b*c as the sum of 18*a*b*c + 6*a*b*c.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  (a b c : \u211d)\n  (tc_1 : 0 < a \u2227 0 < b \u2227 0 < c)\n  (l1 : (a + b + c)^3 = a^3 + b^3 + c^3 + 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) + 6 * a * b * c)\n  (l2 : a^2 * b + b^2 * c + c^2 * a \u2265 3 * a * b * c)\n  (l3 : a * b^2 + b * c^2 + c * a^2 \u2265 3 * a * b * c)\n  (l4 : a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2 \u2265 6 * a * b * c)\n  (l5 : 3 * (a^2 * b + a * b^2 + b^2 * c + b * c^2 + c^2 * a + c * a^2) \u2265 18 * a * b * c)\n  (l6 : (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 18 * a * b * c + 6 * a * b * c) :\n  \u00ac (a + b + c)^3 \u2265 a^3 + b^3 + c^3 + 24 * a * b * c := by\n  intro h\n  have h1 : 18 * a * b * c + 6 * a * b * c = 24 * a * b * c := by ring\n  have h2 := h.trans (by rw [\u2190h1]; exact l6)\n  have h3 : 0 < a * b * c := mul_pos tc_1.1 (mul_pos tc_1.2.1 tc_1.2.2)\n  nlinarith"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    