
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$ such that $a b c \geq 1$, the following inequality holds: $a+b+c \geq \frac{1+a}{1+b}+\frac{1+b}{1+c}+\frac{1+c}{1+a}$.

Proof: Let $a,b,c>0$ with $abc\ge 1$. We want to show that $a+b+c \ge rac{1+a}{1+b} + rac{1+b}{1+c} + rac{1+c}{1+a}$. Observe that $rac{1+a}{1+b} + rac{1+b}{1+c} + rac{1+c}{1+a} = 3 + rac{a-b}{1+b} + rac{b-c}{1+c} + rac{c-a}{1+a} = rac{(1+a)b}{1+b} + rac{(1+b)c}{1+c} + rac{(1+c)a}{1+a}$. By the AMâ€“GM inequality, $rac{(1+a)b}{1+b} + rac{(1+b)c}{1+c} + rac{(1+c)a}{1+a} \ge 3 \sqrt[3]{rac{(1+a)b}{1+b} \cdot rac{(1+b)c}{1+c} \cdot rac{(1+c)a}{1+a}} = 3\sqrt[3]{abc} \ge 3$. Therefore, $a+b+c - \left(rac{1+a}{1+b} + rac{1+b}{1+c} + rac{1+c}{1+a}ight) \ge 0$, which gives $a+b+c \ge rac{1+a}{1+b} + rac{1+b}{1+c} + rac{1+c}{1+a}$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let a,b,c>0", "statement": "Premise:\n\u2022 a, b, and c are positive real numbers [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean variable declaration (a b c : \u211d) correctly captures that a, b, and c are real numbers", "The condition a > 0 is correctly captured in the conjunction tc_1", "The condition b > 0 is correctly captured in the conjunction tc_1", "The condition c > 0 is correctly captured in the conjunction tc_1"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "with abc\u22651", "statement": "Premise:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d)\n(tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n(tc_2 : a * b * c \u2265 1)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that a, b, and c are positive real numbers. The variable declaration establishes them as real numbers, and tc_1 explicitly states they are all positive using conjunction.", "The Lean formalization perfectly matches the condition abc \u2265 1, using the same mathematical relationship with identical meaning."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Observe that $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2].\nTherefore, we conclude:\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1) :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1) :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) := by\n  have h1 : \u2200 x y : \u211d, (1 + y) \u2260 0 \u2192 (1 + x) / (1 + y) = 1 + (x - y) / (1 + y) := by\n    intro x y hy\n    field_simp [hy]\n    ring\n  have hb : (1 + b) \u2260 0 := by linarith [tc_1.2.1]\n  have hc : (1 + c) \u2260 0 := by linarith [tc_1.2.2]\n  have ha : (1 + a) \u2260 0 := by linarith [tc_1.1]\n  rw [h1 a b hb, h1 b c hc, h1 c a ha]\n  ring_nf", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 4, "endLine": 13, "endColumn": 8, "data": "no goals to be solved"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization accurately captures all components of the natural language statement. The variable declarations, positivity constraints, product constraint, and the main equation are all correctly translated. The use of division notation instead of fraction notation is semantically equivalent, and the logical structure as a lemma with hypotheses and conclusion properly represents the mathematical relationship described in natural language.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1) :\n  \u00ac((1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)) := by\n  intro h\n  have h1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) := h\n  have h2 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) - 3 = (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) := by linarith\n  have h3 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) - 3 - ((a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)) = 0 := by linarith\n  ring_nf at h3\n  norm_num at h3\n  contradiction"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "$\\dots = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2];\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1].\nTherefore, we conclude:\n\u2022 $3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a} = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$ [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)) :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)) :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) := by\n  have h1 : \u2200 x y : \u211d, (1 + x) / (1 + y) = 1 + (x - y) / (1 + y) := by\n    intro x y\n    field_simp\n    ring\n  simp_rw [h1] at l1\n  simp only [add_assoc] at l1\n  rw [eq_comm] at l1\n  simp only [add_left_inj] at l1\n  simp only [add_assoc] at l1\n  simp only [add_left_inj] at l1\n  simp only [add_assoc] at l1\n  simp only [add_left_inj] at l1\n  simp only [mul_div_assoc, \u2190 add_div, mul_one] at l1 \u22a2\n  rw [l1]\n  field_simp [tc_1.left, tc_1.right.left, tc_1.right.right]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 13, "column": 4, "endLine": 13, "endColumn": 14, "data": "simp made no progress"}, {"line": 18, "column": 2, "endLine": 18, "endColumn": 32, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly captured in Lean syntax", "The constraint abc \u2265 1 is accurately translated using Lean's multiplication and inequality operators", "The equation l1 is precisely formalized with correct operator precedence and parenthesization", "The conclusion l2 is accurately represented with proper mathematical notation in Lean", "The logical structure correctly captures the inference from assumptions to conclusion as a lemma statement", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)) :\n  \u00ac (3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)) := by\n  intro h\n  have h1 : (1 + a) / (1 + b) = (1 + a) * b / (1 + b) := by\n    have : (1 + a) / (1 + b) - (1 + a) * b / (1 + b) = 0 := by\n      rw [\u2190 sub_div, mul_one, add_sub_cancel]\n      exact (div_self (by linarith [tc_1.2.1])).symm\n    linarith\n  have h2 : (1 + a) / (1 + b) = (1 + a) / (1 + b) * b := by rw [h1, mul_div_assoc]\n  have h3 : 1 = b := by\n    have : (1 + a) / (1 + b) * (1 - b) = 0 := by\n      rw [mul_sub, h2, sub_self]\n    cases mul_eq_zero.mp this with\n    | inl h => linarith [tc_1.1, h]\n    | inr h => linarith [h]\n  have h4 : (1 + b) / (1 + c) = (1 + b) * c / (1 + c) := by\n    rw [h3]\n    have : (1 + b) / (1 + c) - (1 + b) * c / (1 + c) = 0 := by\n      rw [\u2190 sub_div, mul_one, add_sub_cancel]\n      exact (div_self (by linarith [tc_1.2.2])).symm\n    linarith\n  have h5 : (1 + b) / (1 + c) = (1 + b) / (1 + c) * c := by rw [h4, mul_div_assoc]\n  have h6 : 1 = c := by\n    have : (1 + b) / (1 + c) * (1 - c) = 0 := by\n      rw [mul_sub, h5, sub_self]\n    cases mul_eq_zero.mp this with\n    | inl h => linarith [tc_1.2.1, h]\n    | inr h => linarith [h]\n  have h7 : a * b * c = 1 := by linarith [h3, h6, tc_2]\n  have h8 : a = 1 := by linarith [h3, h6, h7]\n  have h9 : (1 + c) / (1 + a) = (1 + c) * a / (1 + a) := by\n    rw [h6, h8]\n    simp [div_self (by linarith [tc_1.2.2])]\n  have h10 : (1 + c) / (1 + a) = (1 + c) / (1 + a) * a := by rw [h9, mul_div_assoc]\n  have h11 : 1 = a := by\n    have : (1 + c) / (1 + a) * (1 - a) = 0 := by\n      rw [mul_sub, h10, sub_self]\n    cases mul_eq_zero.mp this with\n    | inl h => linarith [tc_1.2.2, h]\n    | inr h => linarith [h]\n  linarith [h8, h11]"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "By the AM\u2013GM inequality, $\\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a} \\ge 3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}}$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2];\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1];\n\u2022 $3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a} = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$ [l2].\nTherefore, we conclude:\n\u2022 $\\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a} \\ge 3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}}$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)) :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) \n  pow (1 / 3) := by\nsorry", "lean_pass": false, "error_msg": [{"line": 11, "column": 78, "endLine": 12, "endColumn": 13, "data": "function expected at\n  (1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))\nterm has type\n  \u211d"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)) :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3) := by\n  have h1 : \u2200 x : \u211d, x > 0 \u2192 1 + x > 0 := by\n    intro x hx\n    linarith\n  have ha : 1 + a > 0 := h1 a tc_1.1\n  have hb : 1 + b > 0 := h1 b tc_1.2.1\n  have hc : 1 + c > 0 := h1 c tc_1.2.2\n  have h2 : (1 + a) * b > 0 := by\n    apply mul_pos\n    linarith [ha]\n    exact tc_1.2.1\n  have h3 : (1 + b) * c > 0 := by\n    apply mul_pos\n    linarith [hb]\n    exact tc_1.2.2\n  have h4 : (1 + c) * a > 0 := by\n    apply mul_pos\n    linarith [hc]\n    exact tc_1.1\n  have h5 : (1 + a) * b / (1 + b) > 0 := by\n    apply div_pos\n    exact h2\n    linarith [hb]\n  have h6 : (1 + b) * c / (1 + c) > 0 := by\n    apply div_pos\n    exact h3\n    linarith [hc]\n  have h7 : (1 + c) * a / (1 + a) > 0 := by\n    apply div_pos\n    exact h4\n    linarith [ha]\n  rw [\u2190 l2]\n  have x := (1 + a) * b / (1 + b)\n  have y := (1 + b) * c / (1 + c)\n  have z := (1 + c) * a / (1 + a)\n  have := Real.geom_mean_le_arith_mean3' x y z h5 h6 h7\n  simp [\u2190 l1] at this\n  exact this", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 46, "column": 10, "endLine": 46, "endColumn": 55, "data": "unknown constant 'Real.geom_mean_le_arith_mean3''"}, {"line": 11, "column": 169, "endLine": 48, "endColumn": 12, "data": "unsolved goals\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c \u2265 1\nl1 :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) =\n    3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)\nl2 :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) =\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\nh1 : \u2200 x > 0, 1 + x > 0\nha : 1 + a > 0\nhb : 1 + b > 0\nhc : 1 + c > 0\nh2 : (1 + a) * b > 0\nh3 : (1 + b) * c > 0\nh4 : (1 + c) * a > 0\nh5 : (1 + a) * b / (1 + b) > 0\nh6 : (1 + b) * c / (1 + c) > 0\nh7 : (1 + c) * a / (1 + a) > 0\nx y z : \u211d\n\u22a2 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "$\\dots = 3\\sqrt[3]{abc}$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2];\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1];\n\u2022 $3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a} = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$ [l2];\n\u2022 $\\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a} \\ge 3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}}$ [l3].\nTherefore, we conclude:\n\u2022 $3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}} = 3\\sqrt[3]{abc}$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3 : \u211d)) :\n  3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3 : \u211d)) :\n  3 * (((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d) := by\n  have h : ((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)) = a * b * c := by\n    field_simp [ne_of_gt tc_1.1, ne_of_gt tc_1.2.1, ne_of_gt tc_1.2.2]\n    rw [mul_assoc, mul_assoc, mul_assoc]\n    congr 1\n    rw [mul_comm ((1 + b) * c) a, mul_assoc a c, mul_comm c (1 + c)]\n    rw [mul_comm ((1 + a) * b) c, mul_assoc c b, mul_comm b (1 + b)]\n    field_simp [ne_of_gt tc_1.1, ne_of_gt tc_1.2.1, ne_of_gt tc_1.2.2]\n    ring\n  rw [h]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 8, "endLine": 17, "endColumn": 32, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (1 + b) * c * a\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c \u2265 1\nl1 :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) =\n    3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)\nl2 :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) =\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\nl3 :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3)\n\u22a2 (1 + a) * (b * ((1 + b) * (c * ((1 + c) * a)))) / ((1 + b) * (1 + c) * (1 + a)) = a * b * c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and constraints are correctly formalized with proper types and logical structure.", "Equation l1 is accurately translated with correct fraction notation and arithmetic operations.", "Equation l2 is properly formalized with correct algebraic expressions and equality.", "Inequality l3 correctly captures the AM-GM inequality structure with proper cube root notation using exponentiation.", "The conclusion l4 is correctly formalized, with the cube root product simplification properly expressed using Lean's exponentiation syntax.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3 : \u211d)) :\n  \u00ac (3 * (((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d)) := by\n  intro h\n  have h_simplified : ((1 + a) * b / (1 + b)) * ((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)) = a * b * c := by\n    field_simp [tc_1.1, tc_1.2.1, tc_1.2.2]\n    ring\n  rw [h_simplified] at h\n  simp at h\n  have h_eq : (1 + a) * b / (1 + b) = (1 + b) * c / (1 + c) \u2227 (1 + b) * c / (1 + c) = (1 + c) * a / (1 + a) := by\n    apply Real.AM_GM_eq_iff_eq.mp\n    rw [\u2190 h_simplified]\n    exact l3\n  cases' h_eq with h1 h2\n  field_simp [tc_1.1, tc_1.2.1, tc_1.2.2] at h1 h2\n  have : a = b \u2227 b = c := by\n    constructor\n    \u00b7 nlinarith [h1]\n    \u00b7 nlinarith [h2]\n  cases' this with hab hbc\n  rw [hab, hbc] at l1\n  simp at l1\n  have : (1 + c) / (1 + c) = 1 := by\n    field_simp [tc_1.2.2]\n  linarith"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "$\\dots \\ge 3$", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2];\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1];\n\u2022 $3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a} = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$ [l2];\n\u2022 $\\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a} \\ge 3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}}$ [l3];\n\u2022 $3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}} = 3\\sqrt[3]{abc}$ [l4].\nTherefore, we conclude:\n\u2022 $3\\sqrt[3]{abc} \\ge 3$ [l5].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d))\n  (l4 : 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d)) :\n  3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d))\n  (l4 : 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d)) :\n  3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 3 := by\n  rw [\u2190 l4]\n  have h : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 := by\n    rw [\u2190 l2, \u2190 l1]\n    exact le_refl 3\n  have h' := le_trans h l3\n  rw [l4] at h'\n  have h'' : (a * b * c) ^ (1 / 3 : \u211d) \u2265 1 := by\n    rw [\u2190 div_le_iff (by linarith [tc_1.1, tc_1.2.1, tc_1.2.2] : (3 : \u211d) > 0), \u2190 Real.rpow_le_rpow_iff (by positivity) (by linarith) (by norm_num)]\n    simp [\u2190 mul_assoc]\n    exact tc_2\n  linarith [h']", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 4, "endLine": 17, "endColumn": 19, "data": "type mismatch\n  le_refl 3\nhas type\n  3 \u2264 3 : Prop\nbut is expected to have type\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) \u2265 3 : Prop"}, {"line": 18, "column": 24, "endLine": 18, "endColumn": 26, "data": "application type mismatch\n  le_trans h l3\nargument\n  l3\nhas type\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) : Prop\nbut is expected to have type\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2264 ?m.5711 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "The constraint abc \u2265 1 is perfectly translated", "The first equality l1 is accurately represented with proper fraction notation", "The second equality l2 correctly captures the mathematical relationship", "The AM-GM inequality l3 is properly formalized, using exponentiation notation which is semantically equivalent to cube roots", "The simplification step l4 correctly shows the algebraic equivalence", "The final conclusion l5 is accurately stated", "The overall theorem structure properly captures the logical flow from premises to conclusion", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5_negation\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d))\n  (l4 : 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d)) :\n  \u00ac (3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 3) := by\n  intro h\n  have : (a * b * c) ^ (1 / 3 : \u211d) \u2265 1 := by\n    rw [mul_comm] at h\n    exact (le_div_iff (by norm_num)).mp h\n  have : a * b * c \u2265 1 := by\n    have h\u2081 : 0 < (1/3:\u211d) := by norm_num\n    rw [\u2190 Real.rpow_le_rpow_iff (by positivity) (by linarith) h\u2081]\n    simp [this]\n  have : a * b * c = 1 := by linarith [tc_2]\n  have h1 : (1 + a) * b / (1 + b) = 1 := by\n    have := congrFun (congrArg HMul.hMul l4.symm) (1/3:\u211d)\n    simp at this\n    sorry\n  sorry"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Therefore, $a+b+c - \\left(\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a}\\right) \\ge 0$, which gives $a+b+c \\ge \\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a}$.", "statement": "We assume:\n\u2022 a, b, and c are positive real numbers [tc_1];\n\u2022 abc \u2265 1 [tc_2];\n\u2022 $\\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a} = 3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a}$ [l1];\n\u2022 $3 + \\frac{a-b}{1+b} + \\frac{b-c}{1+c} + \\frac{c-a}{1+a} = \\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a}$ [l2];\n\u2022 $\\frac{(1+a)b}{1+b} + \\frac{(1+b)c}{1+c} + \\frac{(1+c)a}{1+a} \\ge 3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}}$ [l3];\n\u2022 $3 \\sqrt[3]{\\frac{(1+a)b}{1+b} \\cdot \\frac{(1+b)c}{1+c} \\cdot \\frac{(1+c)a}{1+a}} = 3\\sqrt[3]{abc}$ [l4];\n\u2022 $3\\sqrt[3]{abc} \\ge 3$ [l5].\nTherefore, we conclude:\n\u2022 $a+b+c \\ge \\frac{1+a}{1+b} + \\frac{1+b}{1+c} + \\frac{1+c}{1+a}$ [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d))\n  (l4 : 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d))\n  (l5 : 3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 3) :\n  a + b + c \u2265 (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c \u2265 1)\n  (l1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) = 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a))\n  (l2 : 3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) = (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a))\n  (l3 : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d))\n  (l4 : 3 * (((1 + a) * b / (1 + b)) * (((1 + b) * c / (1 + c)) * ((1 + c) * a / (1 + a)))) ^ (1 / 3 : \u211d) = 3 * (a * b * c) ^ (1 / 3 : \u211d))\n  (l5 : 3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 3) :\n  a + b + c \u2265 (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) := by\n  have h1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) \u2264 3 := by\n    rw [l1, l2]\n    have : 3 * (a * b * c) ^ (1 / 3 : \u211d) \u2265 (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) := by\n      rw [\u2190 l4]\n      exact l3\n    linarith [this, l5]\n  have h2 : a + b + c \u2265 3 := by\n    have : (a * b * c) ^ (1 / 3 : \u211d) \u2265 1 := by\n      rw [\u2190 Real.rpow_one (1 : \u211d)]\n      apply Real.rpow_le_rpow (by linarith [tc_1.1, tc_1.2.1, tc_1.2.2]) tc_2\n      simp\n    linarith\n  linarith [h1, h2]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 19, "column": 6, "endLine": 19, "endColumn": 14, "data": "type mismatch\n  l3\nhas type\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) : Prop\nbut is expected to have type\n  3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) \u2265\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) : Prop"}, {"line": 20, "column": 4, "endLine": 20, "endColumn": 23, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c \u2265 1\nl1 :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) =\n    3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)\nl2 :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) =\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\nl3 :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3)\nl4 :\n  3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) = 3 * (a * b * c) ^ (1 / 3)\nl5 : 3 * (a * b * c) ^ (1 / 3) \u2265 3\nthis : 3 * (a * b * c) ^ (1 / 3) \u2265 (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\na\u271d : (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) > 3\n\u22a2 False failed"}, {"line": 24, "column": 6, "endLine": 24, "endColumn": 77, "data": "tactic 'apply' failed, failed to unify\n  1 ^ ?m.9734 \u2264 (a * b * c) ^ ?m.9734\nwith\n  (a * b * c) ^ (1 ^ 1 / 3) \u2265 1 ^ 1\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c \u2265 1\nl1 :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) =\n    3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)\nl2 :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) =\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\nl3 :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3)\nl4 :\n  3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) = 3 * (a * b * c) ^ (1 / 3)\nl5 : 3 * (a * b * c) ^ (1 / 3) \u2265 3\nh1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) \u2264 3\n\u22a2 (a * b * c) ^ (1 ^ 1 / 3) \u2265 1 ^ 1"}, {"line": 26, "column": 4, "endLine": 26, "endColumn": 12, "data": "linarith failed to find a contradiction\ncase a\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c \u2265 1\nl1 :\n  (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) =\n    3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a)\nl2 :\n  3 + (a - b) / (1 + b) + (b - c) / (1 + c) + (c - a) / (1 + a) =\n    (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a)\nl3 :\n  (1 + a) * b / (1 + b) + (1 + b) * c / (1 + c) + (1 + c) * a / (1 + a) \u2265\n    3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3)\nl4 :\n  3 * ((1 + a) * b / (1 + b) * ((1 + b) * c / (1 + c) * ((1 + c) * a / (1 + a)))) ^ (1 / 3) = 3 * (a * b * c) ^ (1 / 3)\nl5 : 3 * (a * b * c) ^ (1 / 3) \u2265 3\nh1 : (1 + a) / (1 + b) + (1 + b) / (1 + c) + (1 + c) / (1 + a) \u2264 3\nthis : (a * b * c) ^ (1 / 3) \u2265 1\na\u271d : 3 > a + b + c\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity conditions are correctly formalized", "The constraint abc \u2265 1 is perfectly captured", "Algebraic identity l1 is correctly formalized", "Algebraic identity l2 is correctly formalized", "AM-GM inequality l3 is properly represented", "Simplification l4 is correctly captured", "Final inequality l5 matches perfectly", "The conclusion ts_1 is correctly stated, but there's a logical gap: the natural language premises l1-l5 establish a chain showing the RHS \u2265 3, but don't provide the missing logical step to prove a+b+c \u2265 RHS. The Lean formalization accepts this as a premise without justification.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Variable declarations and positivity conditions are correctly formalized', 'The constraint abc \u2265 1 is perfectly captured', 'Algebraic identity l1 is correctly formalized', 'Algebraic identity l2 is correctly formalized', 'AM-GM inequality l3 is properly represented', 'Simplification l4 is correctly captured', 'Final inequality l5 matches perfectly', \"The conclusion ts_1 is correctly stated, but there's a logical gap: the natural language premises l1-l5 establish a chain showing the RHS \u2265 3, but don't provide the missing logical step to prove a+b+c \u2265 RHS. The Lean formalization accepts this as a premise without justification.\"]"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    