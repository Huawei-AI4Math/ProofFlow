
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $C$ be the circle $|z|=2$ oriented counter-clockwise and let the function to be integrated be $f(z) = \frac{\cos(z)}{z-i}$. If Cauchy's Integral Formula, $\oint_C \frac{g(z)}{z-z_0} dz = 2\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$, then $\oint_C f(z) dz = 2\pi i \cosh(1)$.

Proof: To apply the given formula, we first identify the components of $f(z) = \frac{\cos(z)}{z-i}$ as $g(z) = \cos(z)$ and $z_0 = i$. We must verify the conditions of the formula. The singularity $z_0=i$ lies inside the contour $C$ since its modulus $|i|=1$ is less than the radius 2. The function $g(z)=\cos(z)$ is analytic on the entire complex plane, and thus is analytic on and inside $C$. With the conditions verified, we can apply the formula: $\oint_C f(z) dz = 2\pi i g(i) = 2\pi i \cos(i)$. Using the identity $\cos(i) = \cosh(1)$, we find the integral is equal to $2\pi i \cosh(1)$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $C$ be the circle $|z|=2$ oriented counter-clockwise", "statement": "Premise:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (C : Path \u2102)\n  (tc_1 : C.is_closed_oriented_circle 0 2)", "lean_pass": false, "error_msg": [{"line": 6, "column": 7, "endLine": 6, "endColumn": 13, "data": "failed to synthesize\n  TopologicalSpace Type\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "let the function to be integrated be $f(z) = \\frac{\\cos(z)}{z-i}$", "statement": "Premise:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {C : Set \u2102}\n  (IsCircle_C : IsCircle C)\n  (CircleRadius_C : CircleRadius C = 2)\n  (CircleCenter_C : CircleCenter C = 0)\n  (IsCounterClockwise_C : IsCounterClockwise C)\n  (tc_2 : (complex_func : \u2102 \u2192 \u2102) := fun z => Complex.cos z / (z - Complex.I))", "lean_pass": false, "error_msg": [{"line": 11, "column": 10, "endLine": 11, "endColumn": 32, "data": "application type mismatch\n  optParam complex_func\nargument\n  complex_func\nhas type\n  \u2102 \u2192 \u2102 : Type\nbut is expected to have type\n  Sort ?u.272 : Type ?u.272"}, {"line": 7, "column": 16, "endLine": 7, "endColumn": 26, "data": "function expected at\n  IsCircle\nterm has type\n  ?m.6"}, {"line": 8, "column": 20, "endLine": 8, "endColumn": 34, "data": "function expected at\n  CircleRadius\nterm has type\n  ?m.17"}, {"line": 9, "column": 20, "endLine": 9, "endColumn": 34, "data": "function expected at\n  CircleCenter\nterm has type\n  ?m.56"}, {"line": 10, "column": 26, "endLine": 10, "endColumn": 46, "data": "function expected at\n  IsCounterClockwise\nterm has type\n  ?m.125"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$", "statement": "Premise:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102)\n  (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization captures the circle |z|=2 correctly but introduces an unnecessary variable r and uses a conjunction r=2 instead of directly setting the radius to 2. Also, the counter-clockwise orientation is not captured in the Lean formalization, though this might be implicit in the integration.", "The Lean formalization perfectly matches the mathematical function f(z) = cos(z)/(z-i), with Complex.I representing the imaginary unit i.", "The Lean formalization is missing crucial conditions from Cauchy's Integral Formula. The natural language specifies that g(z) must be analytic inside and on C, and z_0 must be inside C, but these essential conditions are completely absent from the Lean statement. Without these conditions, the formula is not mathematically valid."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization captures the circle |z|=2 correctly but introduces an unnecessary variable r and uses a conjunction r=2 instead of directly setting the radius to 2. Also, the counter-clockwise orientation is not captured in the Lean formalization, though this might be implicit in the integration.', 'The Lean formalization perfectly matches the mathematical function f(z) = cos(z)/(z-i), with Complex.I representing the imaginary unit i.', \"The Lean formalization is missing crucial conditions from Cauchy's Integral Formula. The natural language specifies that g(z) must be analytic inside and on C, and z_0 must be inside C, but these essential conditions are completely absent from the Lean statement. Without these conditions, the formula is not mathematically valid.\"]"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "To apply the given formula, we first identify the components of $f(z) = \\frac{\\cos(z)}{z-i}$ as $g(z) = \\cos(z)$ and $z_0 = i$.", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3].\nDefinition:\n\u2022 To apply Cauchy's formula to $f(z)$, we set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102)\n  (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization captures the circle |z|=2 correctly but introduces an extra variable r and uses a conjunction form. The orientation (counter-clockwise) is not explicitly captured in the Lean version, though this is often implicit in complex analysis contexts.", "The Lean formalization perfectly matches the mathematical function definition, with Complex.cos corresponding to cos(z) and Complex.I corresponding to i.", "The Lean version uses a regular integral notation instead of the contour integral symbol \u222e, and doesn't explicitly state the analyticity conditions for g(z) or that z_0 must be inside C. However, the core mathematical relationship is preserved.", "The Lean formalization perfectly captures the definition with g = Complex.cos corresponding to g(z) = cos(z) and z0 = Complex.I corresponding to z_0 = i."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['The Lean formalization captures the circle |z|=2 correctly but introduces an extra variable r and uses a conjunction form. The orientation (counter-clockwise) is not explicitly captured in the Lean version, though this is often implicit in complex analysis contexts.', 'The Lean formalization perfectly matches the mathematical function definition, with Complex.cos corresponding to cos(z) and Complex.I corresponding to i.', \"The Lean version uses a regular integral notation instead of the contour integral symbol \u222e, and doesn't explicitly state the analyticity conditions for g(z) or that z_0 must be inside C. However, the core mathematical relationship is preserved.\", 'The Lean formalization perfectly captures the definition with g = Complex.cos corresponding to g(z) = cos(z) and z0 = Complex.I corresponding to z_0 = i.']"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "The singularity $z_0=i$ lies inside the contour $C$ since its modulus $|i|=1$ is less than the radius 2.", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3];\n\u2022 We set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1].\nTherefore, we conclude:\n\u2022 The point $z_0 = i$ is inside the contour $C$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I) :\n  Complex.abs z0 < r := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I) :\n  Complex.abs z0 < r := by\n  rw [def_1.2]\n  simp only [Complex.abs_I]\n  have h : r = 2 := by\n    rw [\u2190 tc_1_premise]\n    simp only [Set.mem_setOf_eq, and_imp]\n    intro _ _ hr\n    exact hr\n  rw [h]\n  norm_num", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 8, "endLine": 15, "endColumn": 22, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  {z | Complex.abs z = r \u2227 r = 2}\nC_set : Set \u2102\nf g : \u2102 \u2192 \u2102\nz0 : \u2102\nr : \u211d\ntc_1_premise : C_set = {z | Complex.abs z = r \u2227 r = 2}\ntc_2_premise : f = fun z => Complex.cos z / (z - Complex.I)\ntc_3 : \u222b (z : \u2102) in C_set, g z / (z - z0) = 2 * \u2191\u03c0 * Complex.I * g z0\ndef_1 : g = Complex.cos \u2227 z0 = Complex.I\n\u22a2 r = 2"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Circle definition correctly uses Complex.abs z = r with r = 2 to represent |z|=2", "Function definition properly translates cos(z)/(z-i) using Complex.cos and Complex.I", "Cauchy's integral formula is accurately represented with correct integral notation and complex arithmetic", "Variable assignments g = cos(z) and z_0 = i are correctly formalized using conjunction", "The conclusion that z_0 is inside C is properly expressed as Complex.abs z0 < r, which is the standard mathematical condition for a point being inside a circle", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter Complex\n\nlemma not_l1\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = I) :\n  \u00ac(abs z0 < r) := by\n  rw [def_1.2]\n  have r_eq_2 : r = 2 := by\n    rcases tc_1_premise with \u27e8_, h\u27e9\n    exact h\n  rw [r_eq_2, abs_I]\n  norm_num\n  linarith"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "The function $g(z)=\\cos(z)$ is analytic on the entire complex plane, and thus is analytic on and inside $C$.", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3];\n\u2022 We set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1];\n\u2022 The point $z_0 = i$ is inside the contour $C$ [l1].\nTherefore, we conclude:\n\u2022 The function $g(z)=\\cos(z)$ is analytic on and inside $C$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r) :\n  DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r) :\n  DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set := by\n  rcases def_1 with \u27e8hg, hz0\u27e9\n  rw [hg]\n  constructor\n  \u00b7 exact Differentiable.differentiableOn Complex.differentiable_cos\n  \u00b7 exact Differentiable.differentiableOn Complex.differentiable_cos", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 4}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The circle definition correctly captures |z|=2 using Complex.abs z = r with r = 2", "The function f is correctly defined as cos(z)/(z-i) using appropriate Lean syntax", "Cauchy's Integral Formula is represented as an equality rather than a general theorem statement. The natural language presents it as a universal rule that 'holds for any function g(z) that is analytic inside and on C and any point z\u2080 inside C', but the Lean version presents it as a specific equality without the universal quantification and analyticity conditions", "The variable assignments g = cos(z) and z\u2080 = i are correctly captured in Lean", "The condition that z\u2080 is inside the contour is properly expressed as Complex.abs z0 < r", "The conclusion about analyticity is correctly expressed using DifferentiableOn for both the interior and the boundary of the circle"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The circle definition correctly captures |z|=2 using Complex.abs z = r with r = 2', 'The function f is correctly defined as cos(z)/(z-i) using appropriate Lean syntax', \"Cauchy's Integral Formula is represented as an equality rather than a general theorem statement. The natural language presents it as a universal rule that 'holds for any function g(z) that is analytic inside and on C and any point z\u2080 inside C', but the Lean version presents it as a specific equality without the universal quantification and analyticity conditions\", 'The variable assignments g = cos(z) and z\u2080 = i are correctly captured in Lean', 'The condition that z\u2080 is inside the contour is properly expressed as Complex.abs z0 < r', 'The conclusion about analyticity is correctly expressed using DifferentiableOn for both the interior and the boundary of the circle']"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "With the conditions verified, we can apply the formula: $\\oint_C f(z) dz = 2\\pi i g(i) = 2\\pi i \\cos(i)$.", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3];\n\u2022 We set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1];\n\u2022 The point $z_0 = i$ is inside the contour $C$ [l1];\n\u2022 The function $g(z)=\\cos(z)$ is analytic on and inside $C$ [l2].\nTherefore, we conclude:\n\u2022 $\\oint_C f(z) dz = 2\\pi i \\cos(i)$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set) :\n  \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter Complex\n\nlemma l3\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | abs z = r} \u2227 r = 2)\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - I))\n  (tc_3 : \u2200 (g : \u2102 \u2192 \u2102) (z0 : \u2102), DifferentiableOn \u2102 g (interior C_set) \u2192 DifferentiableOn \u2102 g C_set \u2192 z0 \u2208 interior C_set \u2192 \u222b z in C_set, (g z) / (z - z0) = (2 * \u03c0 * I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = I)\n  (l1 : abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set) :\n  \u222b z in C_set, f z = (2 * \u03c0 * I) * Complex.cos I := by\n  rw [tc_2_premise]\n  simp only [def_1.1, def_1.2]\n  have h1 : I \u2208 interior C_set := by\n    rw [tc_1_premise.1, interior_setOf_eq]\n    simp [tc_1_premise.2]\n    exact mem_ball_iff_norm.mpr l1\n  have h2 : DifferentiableOn \u2102 Complex.cos (interior C_set) := by rw [\u2190def_1.1]; exact l2.1\n  have h3 : DifferentiableOn \u2102 Complex.cos C_set := by rw [\u2190def_1.1]; exact l2.2\n  exact tc_3 Complex.cos I h2 h3 h1", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 19, "column": 32, "endLine": 19, "endColumn": 34, "data": "application type mismatch\n  mem_ball_iff_norm.mpr l1\nargument\n  l1\nhas type\n  Complex.abs z0 < r : Prop\nbut is expected to have type\n  \u2016?m.8068 - ?m.8067\u2016 < ?m.8069 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["tc_1: The Lean formalization captures the circle |z|=2 correctly but omits the counter-clockwise orientation specification mentioned in the natural language.", "tc_2: Perfect correspondence between the natural language function definition and Lean formalization.", "tc_3: The mathematical formula is correctly captured, but the Lean version treats Cauchy's formula as a standalone equation rather than including the analyticity and containment conditions as part of the formula statement itself (though these conditions appear separately as l1 and l2).", "def_1: Perfect match for the variable assignments g = cos and z\u2080 = i.", "l1: Correctly formalizes that z\u2080 is inside the contour C using the radius constraint.", "l2: Properly captures the analyticity requirement using differentiability on both the interior and boundary of C.", "l3: The conclusion perfectly matches the natural language statement in mathematical content.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.71 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set) :\n  \u00ac (\u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I) := by\n  intro h\n  have h1 : f = fun z => g z / (z - z0) := by\n    rw [tc_2_premise, def_1.1, def_1.2]\n    simp\n  rw [h1] at h\n  have h2 : \u222b z in C_set, g z / (z - z0) = (2 * Real.pi * Complex.I) * g z0 := by\n    rw [tc_3]\n  rw [h2, def_1.1, def_1.2] at h\n  contradiction"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Using the identity $\\cos(i) = \\cosh(1)$", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3];\n\u2022 We set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1];\n\u2022 The point $z_0 = i$ is inside the contour $C$ [l1];\n\u2022 The function $g(z)=\\cos(z)$ is analytic on and inside $C$ [l2];\n\u2022 $\\oint_C f(z) dz = 2\\pi i \\cos(i)$ [l3].\nTherefore, we conclude:\n\u2022 $\\cos(i) = \\cosh(1)$ [l4].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set)\n  (l3 : \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I) :\n  Complex.cos Complex.I = Complex.cosh 1 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set)\n  (l3 : \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I) :\n  Complex.cos Complex.I = Complex.cosh 1 := by\n  rw [def_1.1, def_1.2] at tc_3\n  have h : f = fun z => g z / (z - z0) := by rw [tc_2_premise, def_1.1, def_1.2]; rfl\n  rw [h] at l3\n  rw [tc_3] at l3\n  simp at l3\n  apply congrArg (fun x => x / (2 * Real.pi * Complex.I)) at l3\n  simp at l3\n  rw [Complex.cos_I, l3]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 82, "endLine": 16, "endColumn": 85, "data": "no goals to be solved"}, {"line": 18, "column": 6, "endLine": 18, "endColumn": 10, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  \u222b (z : \u2102) in C_set, Complex.cos z / (z - Complex.I)\nC_set : Set \u2102\nf g : \u2102 \u2192 \u2102\nz0 : \u2102\nr : \u211d\ntc_1_premise : C_set = {z | Complex.abs z = r \u2227 r = 2}\ntc_2_premise : f = fun z => Complex.cos z / (z - Complex.I)\ntc_3 : \u222b (z : \u2102) in C_set, Complex.cos z / (z - Complex.I) = 2 * \u2191\u03c0 * Complex.I * Complex.cos Complex.I\ndef_1 : g = Complex.cos \u2227 z0 = Complex.I\nl1 : Complex.abs z0 < r\nl2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set\nl3 : \u222b (z : \u2102) in C_set, (fun z => g z / (z - z0)) z = 2 * \u2191\u03c0 * Complex.I * Complex.cos Complex.I\nh : f = fun z => g z / (z - z0)\n\u22a2 Complex.cos Complex.I = Complex.cosh 1"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization captures the circle |z|=2 correctly but omits the counter-clockwise orientation mentioned in the natural language", "The function definition matches perfectly between natural language and Lean", "Cauchy's Integral Formula is captured correctly, though the Lean integral notation doesn't explicitly indicate it's a contour integral as emphasized in natural language", "The variable assignments g=cos(z) and z_0=i are perfectly captured", "The condition that i is inside the circle is correctly formalized as |z_0| < r", "Analyticity is properly represented using differentiability on the interior and boundary", "The integral result equation matches perfectly", "The final conclusion cos(i) = cosh(1) is perfectly captured", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.75 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set)\n  (l3 : \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I) :\n  \u00ac (Complex.cos Complex.I = Complex.cosh 1) := by\n  have : Complex.cos Complex.I = Complex.cosh (-1) := by\n    simp [Complex.cos, Complex.cosh]\n  simp [this]\n  have : Complex.cosh (-1) = (Real.exp (-1) + Real.exp 1) / 2 := by\n    simp [Complex.cosh]\n  have : Complex.cosh 1 = (Real.exp 1 + Real.exp (-1)) / 2 := by\n    simp [Complex.cosh]\n  intro h\n  rw [this, \u2190this] at h\n  simp at h\n  linarith [Real.exp_pos 1]"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "we find the integral is equal to $2\\pi i \\cosh(1)$.", "statement": "We assume:\n\u2022 C is the circle $|z|=2$ in the complex plane, oriented counter-clockwise [tc_1];\n\u2022 The function to be integrated is $f(z) = \\frac{\\cos(z)}{z-i}$ [tc_2];\n\u2022 Cauchy's Integral Formula, $\\oint_C \\frac{g(z)}{z-z_0} dz = 2\\pi i g(z_0)$, holds for any function $g(z)$ that is analytic inside and on $C$ and any point $z_0$ inside $C$ [tc_3];\n\u2022 We set $g(z) = \\cos(z)$ and $z_0 = i$ [def_1];\n\u2022 The point $z_0 = i$ is inside the contour $C$ [l1];\n\u2022 The function $g(z)=\\cos(z)$ is analytic on and inside $C$ [l2];\n\u2022 $\\oint_C f(z) dz = 2\\pi i \\cos(i)$ [l3];\n\u2022 $\\cos(i) = \\cosh(1)$ [l4].\nTherefore, we conclude:\n\u2022 $\\oint_C f(z) dz = 2\\pi i \\cosh(1)$ [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set)\n  (l3 : \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I)\n  (l4 : Complex.cos Complex.I = Complex.cosh 1) :\n  \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cosh 1 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (C_set : Set \u2102) (f : \u2102 \u2192 \u2102) (g : \u2102 \u2192 \u2102) (z0 : \u2102) (r : \u211d)\n  (tc_1_premise : C_set = {z : \u2102 | Complex.abs z = r \u2227 r = 2})\n  (tc_2_premise : f = fun z => (Complex.cos z) / (z - Complex.I))\n  (tc_3 : \u222b z in C_set, (g z) / (z - z0) = (2 * Real.pi * Complex.I) * (g z0))\n  (def_1 : g = Complex.cos \u2227 z0 = Complex.I)\n  (l1 : Complex.abs z0 < r)\n  (l2 : DifferentiableOn \u2102 g (interior C_set) \u2227 DifferentiableOn \u2102 g C_set)\n  (l3 : \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cos Complex.I)\n  (l4 : Complex.cos Complex.I = Complex.cosh 1) :\n  \u222b z in C_set, f z = (2 * Real.pi * Complex.I) * Complex.cosh 1 := by\n  rw [l3, l4]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Circle definition correctly captures |z|=2 with appropriate complex number notation", "Function definition perfectly matches the mathematical expression f(z) = cos(z)/(z-i)", "Cauchy's Integral Formula is correctly formalized with proper integral notation and complex arithmetic", "Variable assignments g=cos(z) and z\u2080=i are correctly represented with logical conjunction", "Point inside contour condition is properly expressed using distance comparison with radius", "Analyticity condition is appropriately represented using differentiability on both interior and boundary", "Application of Cauchy's formula correctly shows the integral evaluation", "Trigonometric identity cos(i) = cosh(1) is accurately formalized", "Final conclusion perfectly matches the natural language statement with proper complex arithmetic"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    