
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that for all positive real numbers $a, b, c$ such that $a b c = 2$, the following inequality holds: $a^{3}+b^{3}+c^{3} \geq a \sqrt{b+c}+b \sqrt{c+a}+c \sqrt{a+b}$.

Proof: Let $a, b, c$ be positive real numbers such that $abc=2$. To prove $a \sqrt{b+c} + b \sqrt{c+a} + c \sqrt{a+b} \le a^3+b^3+c^3$, we first square the left side and use the inequality $\sqrt{xy} \le rac{x+y}{2}$ to bound the cross terms, which gives $(a \sqrt{b+c}+b \sqrt{c+a}+c \sqrt{a+b})^2 \le 4(a^3+b^3+c^3)+6abc = 4(a^3+b^3+c^3)+12$. By AMâ€“GM, $a^3+b^3+c^3 \ge 3\sqrt[3]{a^3b^3c^3} = 6$, so $(a^3+b^3+c^3)^2 \ge 4(a^3+b^3+c^3)+12$. Taking square roots, we conclude $a \sqrt{b+c} + b \sqrt{c+a} + c \sqrt{a+b} \le a^3+b^3+c^3$, completing the proof.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let a, b, c be positive real numbers", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1]", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d) (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly declares a, b, c as real numbers and explicitly states they are positive through the condition a > 0 \u2227 b > 0 \u2227 c > 0, which perfectly captures the meaning of 'positive real numbers'", "Both the natural language and Lean formalization contain no conclusions, only premise conditions"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "such that abc=2", "statement": "Premise:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (a b c : \u211d) (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0) (tc_2 : a * b * c = 2)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly declares a, b, c as real numbers and specifies they are positive through the conjunction a > 0 \u2227 b > 0 \u2227 c > 0, which perfectly matches the natural language condition", "The Lean formalization a * b * c = 2 exactly matches the natural language condition abc = 2"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "we first square the left side and use the inequality $\\sqrt{xy} \\le \frac{x+y}{2}$ to bound the cross terms, which gives $(a \\sqrt{b+c}+b \\sqrt{c+a}+c \\sqrt{a+b})^2 \\le 4(a^3+b^3+c^3)+6abc", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\nTherefore, we conclude:\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c := by\n  have ha := tc_1.1\n  have hb := tc_1.2.1\n  have hc := tc_1.2.2\n  have sum_sq_le : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264\n      (a * (sqrt b + sqrt c) + b * (sqrt c + sqrt a) + c * (sqrt a + sqrt b))^2 := by\n    gcongr\n    \u00b7 rw [\u2190 sqrt_mul (le_of_lt hb) (le_of_lt hc), \u2190 sqrt_mul (le_of_lt hb) (le_of_lt hc)]\n      exact Real.sqrt_add_le (sqrt b) (sqrt c)\n    \u00b7 rw [\u2190 sqrt_mul (le_of_lt hc) (le_of_lt ha), \u2190 sqrt_mul (le_of_lt hc) (le_of_lt ha)]\n      exact Real.sqrt_add_le (sqrt c) (sqrt a)\n    \u00b7 rw [\u2190 sqrt_mul (le_of_lt ha) (le_of_lt hb), \u2190 sqrt_mul (le_of_lt ha) (le_of_lt hb)]\n      exact Real.sqrt_add_le (sqrt a) (sqrt b)\n  have expand : (a * (sqrt b + sqrt c) + b * (sqrt c + sqrt a) + c * (sqrt a + sqrt b))^2 =\n      (sqrt a + sqrt b + sqrt c)^2 * (a + b + c)^2 := by ring\n  have sqrt_le : (sqrt a + sqrt b + sqrt c)^2 \u2264 3 * (a + b + c) := by\n    rw [\u2190 Real.sq_sqrt (le_of_lt ha), \u2190 Real.sq_sqrt (le_of_lt hb), \u2190 Real.sq_sqrt (le_of_lt hc)]\n    calc\n      (sqrt a + sqrt b + sqrt c)^2 \u2264 (1^2 + 1^2 + 1^2) * (a + b + c) := by\n        rw [sq, sq, sq]\n        simp\n        linarith\n      _ = 3 * (a + b + c) := by simp\n  have sum_le : (a + b + c)^2 \u2264 3 * (a^2 + b^2 + c^2) := by\n    calc\n      (a + b + c)^2 = a^2 + b^2 + c^2 + 2 * (a * b + b * c + c * a) := by ring\n      _ \u2264 3 * (a^2 + b^2 + c^2) := by\n        have : a^2 + b^2 \u2265 2 * a * b := by linarith [sq_nonneg (a - b)]\n        have : b^2 + c^2 \u2265 2 * b * c := by linarith [sq_nonneg (b - c)]\n        have : c^2 + a^2 \u2265 2 * c * a := by linarith [sq_nonneg (c - a)]\n        linarith\n  have main : (sqrt a + sqrt b + sqrt c)^2 * (a + b + c)^2 \u2264 9 * (a^2 + b^2 + c^2) := by\n    calc\n      _ \u2264 3 * (a + b + c) * (a + b + c)^2 := by gcongr; apply sqrt_le\n      _ \u2264 9 * (a^2 + b^2 + c^2) := by gcongr; apply sum_le\n  have final : 9 * (a^2 + b^2 + c^2) \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c := by\n    calc\n      9 * (a^2 + b^2 + c^2) \u2264 9 * (a^3 + b^3 + c^3) := by\n        gcongr\n        \u00b7 apply pow_le_pow_left ha; linarith; exact (by norm_num : 1 \u2264 3)\n        \u00b7 apply pow_le_pow_left hb; linarith; exact (by norm_num : 1 \u2264 3)\n        \u00b7 apply pow_le_pow_left hc; linarith; exact (by norm_num : 1 \u2264 3)\n      _ = 4 * (a^3 + b^3 + c^3) + 5 * (a^3 + b^3 + c^3) := by ring\n      _ \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c := by\n        gcongr\n        have : a^3 + b^3 + c^3 \u2265 3 * a * b * c := by\n          rw [\u2190 add_pow_three a b c]\n          apply le_trans _ (pow_le_pow_left (add_nonneg (add_nonneg (le_of_lt ha) (le_of_lt hb)) (le_of_lt hc)) (by linarith) 3)\n          simp\n          linarith\n        linarith\n  calc\n    _ \u2264 (sqrt a + sqrt b + sqrt c)^2 * (a + b + c)^2 := by rw [\u2190 expand]; apply sum_sq_le\n    _ \u2264 9 * (a^2 + b^2 + c^2) := by apply main\n    _ \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c := by apply final", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 35, "endLine": 16, "endColumn": 48, "data": "application type mismatch\n  sqrt_mul (le_of_lt hb) (le_of_lt hc)\nargument\n  le_of_lt hc\nhas type\n  0 \u2264 c : Prop\nbut is expected to have type\n  \u211d : Type"}, {"line": 18, "column": 35, "endLine": 18, "endColumn": 48, "data": "application type mismatch\n  sqrt_mul (le_of_lt hc) (le_of_lt ha)\nargument\n  le_of_lt ha\nhas type\n  0 \u2264 a : Prop\nbut is expected to have type\n  \u211d : Type"}, {"line": 20, "column": 35, "endLine": 20, "endColumn": 48, "data": "application type mismatch\n  sqrt_mul (le_of_lt ha) (le_of_lt hb)\nargument\n  le_of_lt hb\nhas type\n  0 \u2264 b : Prop\nbut is expected to have type\n  \u211d : Type"}, {"line": 23, "column": 54, "endLine": 23, "endColumn": 61, "data": "unsolved goals\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\n\u22a2 a * \u221ab * \u221ac * b * 2 + a * \u221ab * \u221ac * c * 2 + a * \u221ab * b * \u221aa * 2 + a * \u221ab * \u221aa * c * 2 + a * \u221ab ^ 2 * c * 2 +\n                                    a * \u221ac * b * \u221aa * 2 +\n                                  a * \u221ac * \u221aa * c * 2 +\n                                a * \u221ac ^ 2 * b * 2 +\n                              a ^ 2 * \u221ab * \u221ac * 2 +\n                            a ^ 2 * \u221ab ^ 2 +\n                          a ^ 2 * \u221ac ^ 2 +\n                        \u221ab * \u221ac * b * c * 2 +\n                      \u221ab * b * \u221aa * c * 2 +\n                    \u221ab * \u221aa * c ^ 2 * 2 +\n                  \u221ab ^ 2 * c ^ 2 +\n                \u221ac * b * \u221aa * c * 2 +\n              \u221ac * b ^ 2 * \u221aa * 2 +\n            \u221ac ^ 2 * b ^ 2 +\n          b * \u221aa ^ 2 * c * 2 +\n        b ^ 2 * \u221aa ^ 2 +\n      \u221aa ^ 2 * c ^ 2 =\n    a * \u221ab * \u221ac * b * 4 + a * \u221ab * \u221ac * c * 4 + a * \u221ab * b * \u221aa * 4 + a * \u221ab * \u221aa * c * 4 + a * \u221ab ^ 2 * b * 2 +\n                                                                  a * \u221ab ^ 2 * c * 2 +\n                                                                a * \u221ac * b * \u221aa * 4 +\n                                                              a * \u221ac * \u221aa * c * 4 +\n                                                            a * \u221ac ^ 2 * b * 2 +\n                                                          a * \u221ac ^ 2 * c * 2 +\n                                                        a * b * \u221aa ^ 2 * 2 +\n                                                      a * \u221aa ^ 2 * c * 2 +\n                                                    a ^ 2 * \u221ab * \u221ac * 2 +\n                                                  a ^ 2 * \u221ab * \u221aa * 2 +\n                                                a ^ 2 * \u221ab ^ 2 +\n                                              a ^ 2 * \u221ac * \u221aa * 2 +\n                                            a ^ 2 * \u221ac ^ 2 +\n                                          a ^ 2 * \u221aa ^ 2 +\n                                        \u221ab * \u221ac * b * c * 4 +\n                                      \u221ab * \u221ac * b ^ 2 * 2 +\n                                    \u221ab * \u221ac * c ^ 2 * 2 +\n                                  \u221ab * b * \u221aa * c * 4 +\n                                \u221ab * b ^ 2 * \u221aa * 2 +\n                              \u221ab * \u221aa * c ^ 2 * 2 +\n                            \u221ab ^ 2 * b * c * 2 +\n                          \u221ab ^ 2 * b ^ 2 +\n                        \u221ab ^ 2 * c ^ 2 +\n                      \u221ac * b * \u221aa * c * 4 +\n                    \u221ac * b ^ 2 * \u221aa * 2 +\n                  \u221ac * \u221aa * c ^ 2 * 2 +\n                \u221ac ^ 2 * b * c * 2 +\n              \u221ac ^ 2 * b ^ 2 +\n            \u221ac ^ 2 * c ^ 2 +\n          b * \u221aa ^ 2 * c * 2 +\n        b ^ 2 * \u221aa ^ 2 +\n      \u221aa ^ 2 * c ^ 2"}, {"line": 27, "column": 6, "endLine": 27, "endColumn": 68, "data": "invalid 'calc' step, left-hand side is\n  (\u221aa + \u221ab + \u221ac) ^ 2 : \u211d\nbut is expected to be\n  (\u221a(\u221aa ^ 2) + \u221a(\u221ab ^ 2) + \u221a(\u221ac ^ 2)) ^ 2 : \u211d"}, {"line": 31, "column": 6, "endLine": 31, "endColumn": 25, "data": "invalid 'calc' step, right-hand side is\n  3 * (a + b + c) : \u211d\nbut is expected to be\n  3 * (\u221aa ^ 2 + \u221ab ^ 2 + \u221ac ^ 2) : \u211d"}, {"line": 28, "column": 20, "endLine": 28, "endColumn": 22, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?a ^ 2\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\n\u22a2 (\u221aa + \u221ab + \u221ac) * (\u221aa + \u221ab + \u221ac) \u2264 (1 * 1 + 1 * 1 + 1 * 1) * (a + b + c)"}, {"line": 31, "column": 29, "endLine": 31, "endColumn": 36, "data": "unsolved goals\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\n\u22a2 1 + 1 + 1 = 3 \u2228 a + b + c = 0"}, {"line": 42, "column": 56, "endLine": 42, "endColumn": 69, "data": "no goals to be solved"}, {"line": 43, "column": 46, "endLine": 43, "endColumn": 58, "data": "tactic 'apply' failed, failed to unify\n  (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nwith\n  3 * (a + b + c) \u2264 9\ncase h\u2081\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\n\u22a2 3 * (a + b + c) \u2264 9"}, {"line": 48, "column": 10, "endLine": 48, "endColumn": 34, "data": "tactic 'apply' failed, failed to unify\n  ?m.183077 ^ ?n \u2264 ?m.183078 ^ ?n\nwith\n  1 \u2264 a\ncase h.h\u2081.h\u2081.ha\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nmain : (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2 \u2264 9 * (a ^ 2 + b ^ 2 + c ^ 2)\n\u22a2 1 \u2264 a"}, {"line": 49, "column": 10, "endLine": 49, "endColumn": 34, "data": "tactic 'apply' failed, failed to unify\n  ?m.183548 ^ ?n \u2264 ?m.183549 ^ ?n\nwith\n  2 \u2264 3\ncase h.h\u2081.h\u2081.hmn\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nmain : (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2 \u2264 9 * (a ^ 2 + b ^ 2 + c ^ 2)\n\u22a2 2 \u2264 3"}, {"line": 50, "column": 10, "endLine": 50, "endColumn": 34, "data": "tactic 'apply' failed, failed to unify\n  ?m.184182 ^ ?n \u2264 ?m.184183 ^ ?n\nwith\n  1 \u2264 b\ncase h.h\u2081.h\u2082.ha\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nmain : (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2 \u2264 9 * (a ^ 2 + b ^ 2 + c ^ 2)\n\u22a2 1 \u2264 b"}, {"line": 50, "column": 32, "endLine": 50, "endColumn": 34, "data": "application type mismatch\n  pow_le_pow_left hc\nargument\n  hc\nhas type\n  c > 0 : Prop\nbut is expected to have type\n  0 \u2264 ?m.184182 : Prop"}, {"line": 55, "column": 16, "endLine": 55, "endColumn": 29, "data": "unknown identifier 'add_pow_three'"}, {"line": 55, "column": 14, "endLine": 55, "endColumn": 35, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.201331\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nmain : (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2 \u2264 9 * (a ^ 2 + b ^ 2 + c ^ 2)\n\u22a2 a ^ 3 + b ^ 3 + c ^ 3 \u2265 3 * a * b * c"}, {"line": 59, "column": 8, "endLine": 59, "endColumn": 16, "data": "linarith failed to find a contradiction\ncase bc.h\u2081.a\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nha : a > 0\nhb : b > 0\nhc : c > 0\nsum_sq_le : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2\nexpand : (a * (\u221ab + \u221ac) + b * (\u221ac + \u221aa) + c * (\u221aa + \u221ab)) ^ 2 = (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2\nsqrt_le : (\u221aa + \u221ab + \u221ac) ^ 2 \u2264 3 * (a + b + c)\nsum_le : (a + b + c) ^ 2 \u2264 3 * (a ^ 2 + b ^ 2 + c ^ 2)\nmain : (\u221aa + \u221ab + \u221ac) ^ 2 * (a + b + c) ^ 2 \u2264 9 * (a ^ 2 + b ^ 2 + c ^ 2)\nthis : a ^ 3 + b ^ 3 + c ^ 3 \u2265 3 * a * b * c\na\u271d : 5 > 6 * a * b\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. The variable declarations with positivity constraints, the abc=2 condition, and the main inequality are all faithfully represented. Minor notational differences like explicit multiplication symbols and spacing are standard Lean syntax and don't affect the mathematical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l1 :\n  \u2203 (a b c : \u211d), a > 0 \u2227 b > 0 \u2227 c > 0 \u2227 a * b * c = 2 \u2227 \n  \u00ac((a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c) := by\n  use 1, 1, 2\n  constructor <;> try norm_num\n  constructor <;> try norm_num\n  constructor <;> try norm_num\n  constructor <;> try norm_num\n  have h1 : (1 * \u221a(1 + 2) + 1 * \u221a(2 + 1) + 2 * \u221a(1 + 1))^2 = (2 * \u221a3 + 2 * \u221a2)^2 := by ring\n  have h2 : 4 * (1^3 + 1^3 + 2^3) + 6 * 1 * 1 * 2 = 40 := by norm_num\n  rw [h1, h2]\n  have : (2 * \u221a3 + 2 * \u221a2)^2 \u2248 19.856406460551018 := by\n    rw [sq]\n    ring_nf\n    rw [\u2190 Real.sqrt_mul_self, \u2190 Real.sqrt_mul_self]\n    repeat rw [mul_assoc]\n    rw [Real.sqrt_mul, Real.sqrt_mul]\n    all_goals norm_num\n    norm_num\n    rw [Real.sqrt_mul, Real.sqrt_mul]\n    all_goals norm_num\n    norm_num\n  norm_num"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "= 4(a^3+b^3+c^3)+12", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\nTherefore, we conclude:\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12 := by\n  have h : 6 * a * b * c = 6 * (a * b * c) := by ring\n  rw [h, tc_2] at l1\n  norm_num at l1\n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable types and positivity constraints are correctly captured in Lean with appropriate type declarations and logical conjunctions", "The constraint abc = 2 is precisely translated using multiplication notation in Lean", "The given inequality l1 is exactly represented with proper operator precedence and mathematical notation", "The conclusion inequality is correctly formalized with the substitution of 12 for 6*a*b*c", "The logical flow from premises to conclusion is properly structured as a Lean lemma, capturing the deductive reasoning shown in natural language"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "By AM\u2013GM, $a^3+b^3+c^3 \\ge 3\\sqrt[3]{a^3b^3c^3}$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]\nTherefore, we conclude:\n\u2022 a^3+b^3+c^3 >= 3 * (a^3*b^3*c^3)^(1/3) [l3]", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12) :\n  a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12) :\n  a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3) := by\n  have h : (a^3 * b^3 * c^3)^(1/3) = 2 := by\n    rw [\u2190 mul_pow, \u2190 mul_pow, tc_2]\n    simp only [pow_one]\n    rw [\u2190 Real.rpow_nat_cast, \u2190 Real.rpow_nat_cast, \u2190 Real.rpow_mul]\n    simp [div_eq_mul_inv, mul_one]\n    exact mul_nonneg (mul_nonneg (pow_nonneg (tc_1.1).le 3) (pow_nonneg (tc_1.2.1).le 3)) (pow_nonneg (tc_1.2.2).le 3)\n  rw [h]\n  norm_num\n  have h4 : 6 * (a * b * c) = 12 := by rw [tc_2]; norm_num\n  have h3 : 4 * (a^3 + b^3 + c^3) + 6 * (a * b * c) \u2265 6 := by linarith [l1]\n  rw [h4] at h3\n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 14, "column": 4, "endLine": 14, "endColumn": 23, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "Constraint tc_2 (abc = 2) is perfectly captured", "Constraint l1 with the complex inequality is accurately represented", "Constraint l2 is correctly formalized", "The conclusion l3 about the AM-GM type inequality is perfectly matched", "Overall logical structure and mathematical content are faithfully preserved", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l3\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12) :\n  \u00ac (a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3)) := by\n  intro h\n  have : (a^3 + b^3 + c^3) / 3 \u2265 (a^3 * b^3 * c^3)^(1/3) := by\n    rw [div_le_iff (by norm_num : (0:\u211d) < 3)]\n    exact h\n  have amgm := geom_mean_le_arith_mean (Finset.univ) (fun i => if i = 1 then a^3 else if i = 2 then b^3 else c^3)\n    (by simp [tc_1.1, tc_1.2.1, tc_1.2.2])\n  simp at amgm\n  have := le_antisymm amgm this\n  rw [\u2190 mul_pow, tc_2, pow_one] at this\n  norm_num at this"}, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "= 6", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]\n\u2022 a^3+b^3+c^3 >= 3 * (a^3*b^3*c^3)^(1/3) [l3]\nTherefore, we conclude:\n\u2022 a^3+b^3+c^3 >= 6 [l4]", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3)) :\n  a^3 + b^3 + c^3 \u2265 6 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3)) :\n  a^3 + b^3 + c^3 \u2265 6 := by\n  have h : (a^3 * b^3 * c^3)^(1/3) = a * b * c := by\n    rw [mul_pow, mul_pow, \u2190 pow_mul]\n    simp [pow_mul]\n    rw [\u2190 rpow_nat_cast, \u2190 rpow_mul]\n    simp\n    norm_cast\n    rw [mul_div_cancel' (1 : \u211d) (by norm_num : (3 : \u211d) \u2260 0)]\n    simp\n  rw [h, tc_2] at l3\n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 8, "endLine": 16, "endColumn": 23, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  ?x ^ ?n\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nl1 : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 4 * (a ^ 3 + b ^ 3 + c ^ 3) + 6 * a * b * c\nl2 : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 4 * (a ^ 3 + b ^ 3 + c ^ 3) + 12\nl3 : a ^ 3 + b ^ 3 + c ^ 3 \u2265 3 * (a ^ 3 * b ^ 3 * c ^ 3) ^ (1 / 3)\n\u22a2 1 = a * b * c"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The variable declarations correctly capture that a, b, c are positive real numbers. The Lean formalization appropriately declares them as real numbers and includes the positivity constraint.", "The constraint abc = 2 is perfectly translated to a * b * c = 2 in Lean, with explicit multiplication operators.", "The first inequality l1 is correctly formalized with proper operator precedence and mathematical notation translation from natural language to Lean syntax.", "The second inequality l2 is accurately represented, maintaining the same mathematical structure and relationships.", "The third inequality l3 correctly captures the AM-GM style inequality with the cube root expression properly formalized.", "The conclusion l4 is properly stated as the goal of the lemma, correctly representing the final inequality to be proven.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l4 :\n  \u2203 (a b c : \u211d),\n    a > 0 \u2227 b > 0 \u2227 c > 0 \u2227\n    a * b * c = 2 \u2227\n    (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c \u2227\n    (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12 \u2227\n    a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3) \u2227\n    \u00ac (a^3 + b^3 + c^3 \u2265 6) := by\n  let a : \u211d := 1\n  let b : \u211d := 1\n  let c : \u211d := 2\n  use a, b, c\n  constructor; norm_num\n  constructor; norm_num\n  constructor; norm_num\n  constructor; norm_num\n  constructor\n  \u00b7 have : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 = (sqrt 3 + sqrt 3 + 2 * sqrt 2)^2 := by\n      simp [a, b, c]\n      ring\n    rw [this]\n    norm_num\n  constructor\n  \u00b7 have : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 = (sqrt 3 + sqrt 3 + 2 * sqrt 2)^2 := by\n      simp [a, b, c]\n      ring\n    rw [this]\n    norm_num\n  constructor\n  \u00b7 simp [a, b, c]\n    norm_num\n  \u00b7 simp [a, b, c]\n    norm_num"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "so $(a^3+b^3+c^3)^2 \\ge 4(a^3+b^3+c^3)+12$", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]\n\u2022 a^3+b^3+c^3 >= 3 * (a^3*b^3*c^3)^(1/3) [l3]\n\u2022 a^3+b^3+c^3 >= 6 [l4]\nTherefore, we conclude:\n\u2022 (a^3+b^3+c^3)^2 >= 4*(a^3+b^3+c^3) + 12 [l5]", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6) :\n  (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6) :\n  (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12 := by\n  let S := a^3 + b^3 + c^3\n  have h : S \u2265 6 := l4\n  have h' : S^2 - 4*S - 12 = (S - 6)*(S + 2) := by ring\n  calc\n    S^2 = (S - 6)*(S + 2) + 4*S + 12 := by rw [h']; ring\n    _ \u2265 0 + 4*S + 12 := by gcongr; nlinarith [h]\n    _ = 4*S + 12 := by ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 47, "endLine": 18, "endColumn": 49, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  S ^ 2 - 4 * S - 12\na b c : \u211d\ntc_1 : a > 0 \u2227 b > 0 \u2227 c > 0\ntc_2 : a * b * c = 2\nl1 : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 4 * (a ^ 3 + b ^ 3 + c ^ 3) + 6 * a * b * c\nl2 : (a * \u221a(b + c) + b * \u221a(c + a) + c * \u221a(a + b)) ^ 2 \u2264 4 * (a ^ 3 + b ^ 3 + c ^ 3) + 12\nl3 : a ^ 3 + b ^ 3 + c ^ 3 \u2265 3 * (a ^ 3 * b ^ 3 * c ^ 3) ^ (1 / 3)\nl4 : a ^ 3 + b ^ 3 + c ^ 3 \u2265 6\nS : \u211d := a ^ 3 + b ^ 3 + c ^ 3\nh : S \u2265 6\nh' : S ^ 2 - 4 * S - 12 = (S - 6) * (S + 2)\n\u22a2 S ^ 2 = (S - 6) * (S + 2) + 4 * S + 12"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable declarations and positivity constraints are correctly formalized", "Product constraint abc = 2 is perfectly captured", "First inequality l1 with square root terms is correctly formalized", "Second inequality l2 is identical to natural language", "Third inequality l3 involving cube root is properly represented", "Fourth inequality l4 is correctly stated", "Conclusion l5 is properly formalized as the theorem goal", "Overall logical structure correctly captures the premise-conclusion relationship with all assumptions properly listed as hypotheses", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l5\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6) :\n  \u00ac((a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12) := by\n  intro h\n  let S := a^3 + b^3 + c^3\n  have hS : S \u2265 6 := l4\n  have h_ineq : S^2 - 4*S - 12 \u2265 0 := by\n    rw [\u2190sub_nonneg]\n    exact h\n  have h_fact : (S - 6) * (S + 2) \u2265 0 := by\n    linear_combination h_ineq\n  have h_S_pos : S > 0 := by\n    apply add_pos\n    \u00b7 exact pow_pos tc_1.1 3\n    \u00b7 apply add_pos\n      \u00b7 exact pow_pos tc_1.2.1 3\n      \u00b7 exact pow_pos tc_1.2.2 3\n  have h_S_ge : S \u2265 -2 := by linarith [h_S_pos]\n  cases' le_or_lt S 6 with h_le h_gt\n  \u00b7 have h_S_eq : S = 6 := by linarith\n    have h_S_le' : S \u2264 -2 := by\n      rw [h_S_eq]\n      linarith\n    linarith\n  \u00b7 have h_S_ge' : S > 6 := h_gt\n    have h_S_le : S \u2264 -2 := by\n      have := le_of_mul_nonneg_right h_fact (by linarith)\n      linarith\n    linarith"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "so $(a^3+b^3+c^3)^2 \\ge 4(a^3+b^3+c^3)+12$. Taking square roots, we conclude $a \\sqrt{b+c} + b \\sqrt{c+a} + c \\sqrt{a+b} \\le a^3+b^3+c^3$, completing the proof.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]\n\u2022 a^3+b^3+c^3 >= 3 * (a^3*b^3*c^3)^(1/3) [l3]\n\u2022 a^3+b^3+c^3 >= 6 [l4]\n\u2022 (a^3+b^3+c^3)^2 >= 4*(a^3+b^3+c^3) + 12 [l5]\nTherefore, we conclude:\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= (a^3+b^3+c^3)^2 [l6]", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6)\n  (l5 : (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 (a^3 + b^3 + c^3)^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6)\n  (l5 : (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12) :\n  (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 (a^3 + b^3 + c^3)^2 := by\n  have h : 4 * (a^3 + b^3 + c^3) + 12 \u2264 (a^3 + b^3 + c^3)^2 := by linarith [l5]\n  have h' : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 (a^3 + b^3 + c^3)^2 := by linarith [l2, h]\n  exact h'", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly and completely captures all logical and mathematical meaning from the natural language. All variables are properly declared as real numbers with positivity constraints, the constraint abc=2 is correctly stated, all five assumptions (l1-l5) are accurately translated with their mathematical expressions preserved, and the conclusion l6 matches exactly. The formalization maintains the logical structure where assumptions l1-l5 are used to prove conclusion l6."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Taking square roots, we conclude $a \\sqrt{b+c} + b \\sqrt{c+a} + c \\sqrt{a+b} \\le a^3+b^3+c^3$, completing the proof.", "statement": "We assume:\n\u2022 a, b, c are positive real numbers [tc_1]\n\u2022 abc = 2 [tc_2]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 6*a*b*c [l1]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= 4*(a^3+b^3+c^3) + 12 [l2]\n\u2022 a^3+b^3+c^3 >= 3 * (a^3*b^3*c^3)^(1/3) [l3]\n\u2022 a^3+b^3+c^3 >= 6 [l4]\n\u2022 (a^3+b^3+c^3)^2 >= 4*(a^3+b^3+c^3) + 12 [l5]\n\u2022 (a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b))^2 <= (a^3+b^3+c^3)^2 [l6]\nTherefore, we conclude:\n\u2022 a*sqrt(b+c) + b*sqrt(c+a) + c*sqrt(a+b) <= a^3+b^3+c^3 [ts_1]", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6)\n  (l5 : (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12)\n  (l6 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 (a^3 + b^3 + c^3)^2) :\n  a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b) \u2264 a^3 + b^3 + c^3 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  (a b c : \u211d)\n  (tc_1 : a > 0 \u2227 b > 0 \u2227 c > 0)\n  (tc_2 : a * b * c = 2)\n  (l1 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 6 * a * b * c)\n  (l2 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 4 * (a^3 + b^3 + c^3) + 12)\n  (l3 : a^3 + b^3 + c^3 \u2265 3 * (a^3 * b^3 * c^3)^(1/3))\n  (l4 : a^3 + b^3 + c^3 \u2265 6)\n  (l5 : (a^3 + b^3 + c^3)^2 \u2265 4 * (a^3 + b^3 + c^3) + 12)\n  (l6 : (a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b))^2 \u2264 (a^3 + b^3 + c^3)^2) :\n  a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b) \u2264 a^3 + b^3 + c^3 := by\n  have h : 0 \u2264 a^3 + b^3 + c^3 := by linarith [tc_1.1, tc_1.2.1, tc_1.2.2]\n  have h' : 0 \u2264 a * sqrt (b + c) + b * sqrt (c + a) + c * sqrt (a + b) := by\n    refine add_nonneg ?_ ?_\n    \u00b7 refine add_nonneg ?_ ?_\n      \u00b7 exact mul_nonneg (by linarith [tc_1.1]) (Real.sqrt_nonneg _)\n      \u00b7 exact mul_nonneg (by linarith [tc_1.2.1]) (Real.sqrt_nonneg _)\n    \u00b7 exact mul_nonneg (by linarith [tc_1.2.2]) (Real.sqrt_nonneg _)\n  rw [\u2190 Real.sqrt_sq h, \u2190 Real.sqrt_sq h']\n  apply Real.sqrt_le_sqrt\n  exact l6", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 5}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization accurately captures all mathematical content from the natural language. All variables, constraints, assumptions, and the conclusion are correctly translated. The mathematical expressions maintain their semantic meaning, with proper use of Lean syntax for real numbers, arithmetic operations, and inequalities. The logical structure appropriately represents the premise-conclusion relationship as a lemma with hypotheses leading to a goal."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    