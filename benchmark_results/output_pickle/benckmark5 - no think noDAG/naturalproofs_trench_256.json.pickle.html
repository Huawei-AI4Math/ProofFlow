
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Suppose that $\mathbf{F}:\R^n	o\R^m$ is continuously
differentiable on a neighborhood $N$ of $\mathbf{X}_0.$ Then$,$ for every
$\epsilon>0,$ there is a $\delta>0$ such that
\begin{equation}\label{eq:6.2.8}
|\mathbf{F}(\mathbf{X})-\mathbf{F}(\mathbf{Y})|<
(\|\mathbf{F}'(\mathbf{X}_{0})\|
+\epsilon) |\mathbf{X}-\mathbf{Y}|
\mbox{\quad if\quad}\mathbf{A},\mathbf{Y}\in B_\delta (\mathbf{X}_0).
\end{equation}

We can assume the following statement(s) without a proof. 

Let $f$ be continuous at $\mathbf{X}_1=(x_{11},x_{21}, \dots, x_{n1})$
and $\mathbf{X}_2=(x_{12},x_{22}, \dots,x_{n2})$ and differentiable on the
line segment $L$ from $\mathbf{X}_1$ to $\mathbf{X}_2.$ Then
\begin{equation} \label{eq:5.4.21}
f(\mathbf{X}_2)-f(\mathbf{X}_1)=\sum_{i=1}^n f_{x_i} (\mathbf{X}_0)(x_{i2}-x_{i1})=(d_{\mathbf{X}_0}f)(\mathbf{X}_2
-\mathbf{X}_1)
\end{equation}
for some $\mathbf{X}_0$ on $L$ distinct
from $\mathbf{X}_1$ and $\mathbf{X}_2$.

Proof: Consider the auxiliary function
\begin{equation} \label{eq:6.2.9}
\mathbf{G}(\mathbf{X})=\mathbf{F}(\mathbf{X})-\mathbf{F}'(\mathbf{X}_0)\mathbf{X}.
\end{equation}
The components of $\mathbf{G}$ are
$$
g_i(\mathbf{X})=f_i(\mathbf{X})-\sum_{j=1}^n
\frac{\partial f_i(\mathbf{X}_{0})
\partial x_j} x_j,
$$
so
$$
\frac{\partial g_i(\mathbf{X})}{\partial x_j}=
\frac{\partial f_i(\mathbf{X})}
{\partial x_j}-\frac{\partial f_i(\mathbf{X}_0)}{\partial x_j}.
$$

ewpage

oindent
Thus, $\partial g_i/\partial x_j$ is continuous on $N$ and zero at
$\mathbf{X}_0$. Therefore, there is a $\delta>0$ such that
\begin{equation}\label{eq:6.2.10}
\left|\frac{\partial g_i(\mathbf{X})}{\partial x_j}\right|<\frac{\epsilon}{
\sqrt{mn}}\mbox{\quad for \quad}1\le i\le m,\quad 1\le j\le n,
\mbox{\quad if \quad}
|\mathbf{X}-\mathbf{X}_0|<\delta.
\end{equation}
Now suppose that $\mathbf{X}$, $\mathbf{Y}\in B_\delta(\mathbf{X}_0)$. By
Theorem~\ref{thmtype:5.4.5},
\begin{equation}\label{eq:6.2.11}
g_i(\mathbf{X})-g_i(\mathbf{Y})=\sum_{j=1}^n
\frac{\partial g_i(\mathbf{X}_i)}{\partial x_j}(x_j-y_j),
\end{equation}
where $\mathbf{X}_i$ is on the line segment from $\mathbf{X}$ to $\mathbf{Y}$,
so  $\mathbf{X}_i\in B_\delta(\mathbf{X}_0)$. From \eqref{eq:6.2.10},
\eqref{eq:6.2.11}, and Schwarz's inequality,
$$
(g_i(\mathbf{X})-g_i(\mathbf{Y}))^2\le\left(\sum_{j=1}^n\left[\frac{\partial
g_i
(\mathbf{X}_i)}{\partial x_j}\right]^2\right)
|\mathbf{X}-\mathbf{Y}|^2
<\frac{\epsilon^2}{ m} |\mathbf{X}-\mathbf{Y}|^2.
$$
Summing this from $i=1$ to $i=m$ and taking square roots yields
\begin{equation}\label{eq:6.2.12}
|\mathbf{G}(\mathbf{X})-\mathbf{G}(\mathbf{Y})|<\epsilon
|\mathbf{X}-\mathbf{Y}|
\mbox{\quad if\quad}\mathbf{X}, \mathbf{Y}\in B_\delta(\mathbf{X}_0).
\end{equation}
To complete the proof, we note that
\begin{equation}\label{eq:6.2.13}
\mathbf{F}(\mathbf{X})-\mathbf{F}(\mathbf{Y})=
\mathbf{G}(\mathbf{X})-\mathbf{G}(\mathbf{Y})+\mathbf{F}'(\mathbf{X}_0)(\mathbf{X}-\mathbf{Y}),
\end{equation}
 so \eqref{eq:6.2.12} and the triangle inequality imply \eqref{eq:6.2.8}.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Suppose that $\\mathbf{F}:\\R^n\\to\\R^m$ is continuously differentiable on a neighborhood $N$ of $\\mathbf{X}_0.$", "statement": "Premise:\n\u2022 $\\mathbf{F}:\\R^n\\to\\R^m$ is a continuously differentiable function on a neighborhood $N$ of a point $\\mathbf{X}_0 \\in \\R^n$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean function type `EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)` correctly captures the mathematical function $\\mathbf{F}:\\R^n\\to\\R^m$. EuclideanSpace with Fin indexing is the standard Lean representation of finite-dimensional real vector spaces.", "The Lean formalization uses `Metric.ball X0 (0 : \u211d)` which is a ball of radius 0, containing only the single point X0. This contradicts the natural language requirement that F be continuously differentiable on a neighborhood N of X0. A neighborhood should contain an open set around X0, not just the point itself.", "The Lean declaration `X0 : EuclideanSpace \u211d (Fin n)` correctly represents the mathematical statement $\\mathbf{X}_0 \\in \\R^n$.", "The Lean formalization fails to properly represent a neighborhood N of X0. The `Metric.ball X0 (0 : \u211d)` is not a neighborhood in the topological sense, as it contains no open set around X0. The natural language explicitly mentions a neighborhood N, which is missing as a proper mathematical object in the Lean code."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean function type `EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)` correctly captures the mathematical function $\\\\mathbf{F}:\\\\R^n\\\\to\\\\R^m$. EuclideanSpace with Fin indexing is the standard Lean representation of finite-dimensional real vector spaces.', 'The Lean formalization uses `Metric.ball X0 (0 : \u211d)` which is a ball of radius 0, containing only the single point X0. This contradicts the natural language requirement that F be continuously differentiable on a neighborhood N of X0. A neighborhood should contain an open set around X0, not just the point itself.', 'The Lean declaration `X0 : EuclideanSpace \u211d (Fin n)` correctly represents the mathematical statement $\\\\mathbf{X}_0 \\\\in \\\\R^n$.', 'The Lean formalization fails to properly represent a neighborhood N of X0. The `Metric.ball X0 (0 : \u211d)` is not a neighborhood in the topological sense, as it contains no open set around X0. The natural language explicitly mentions a neighborhood N, which is missing as a proper mathematical object in the Lean code.']"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "for every $\\epsilon>0,$", "statement": "Premise:\n\u2022 $\\mathbf{F}:\\R^n\\to\\R^m$ is a continuously differentiable function on a neighborhood $N$ of a point $\\mathbf{X}_0 \\in \\R^n$ [tc_1];\n\u2022 $\\epsilon$ is a given positive real number [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization has a critical issue: `Metric.ball X0 (0 : \u211d)` creates a ball of radius 0 around X0, which is just the singleton set {X0}, not a proper neighborhood. The natural language requires F to be continuously differentiable on a neighborhood N of X0, but the Lean version only requires it on the single point X0, which doesn't capture the neighborhood requirement.", "The Lean formalization correctly captures that \u03b5 is a positive real number with `\u03b5 : \u211d` and `tc_2 : 0 < \u03b5`."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization has a critical issue: `Metric.ball X0 (0 : \u211d)` creates a ball of radius 0 around X0, which is just the singleton set {X0}, not a proper neighborhood. The natural language requires F to be continuously differentiable on a neighborhood N of X0, but the Lean version only requires it on the single point X0, which doesn't capture the neighborhood requirement.\", 'The Lean formalization correctly captures that \u03b5 is a positive real number with `\u03b5 : \u211d` and `tc_2 : 0 < \u03b5`.']"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "Let $f$ be continuous at $\\mathbf{X}_1=(x_{11},x_{21}, \\dots, x_{n1})$ and $\\mathbf{X}_2=(x_{12},x_{22}, \\dots,x_{n2})$ and differentiable on the line segment $L$ from $\\mathbf{X}_1$ to $\\mathbf{X}_2.$ Then\n$f(\\mathbf{X}_2)-f(\\mathbf{X}_1)=\\sum_{i=1}^n f_{x_i} (\\mathbf{X}_0)(x_{i2}-x_{i1})=(d_{\\mathbf{X}_0}f)(\\mathbf{X}_2-\\mathbf{X}_1)$ for some $\\mathbf{X}_0$ on $L$ distinct from $\\mathbf{X}_1$ and $\\mathbf{X}_2$.", "statement": "Premise:\n\u2022 Let $f$ be a scalar-valued function that is continuous at points $\\mathbf{X}_1$ and $\\mathbf{X}_2$ in $\\R^n$ and differentiable on the line segment $L$ connecting them. Then there exists a point $\\mathbf{X}_c$ on $L$ (distinct from $\\mathbf{X}_1$ and $\\mathbf{X}_2$) such that $f(\\mathbf{X}_2)-f(\\mathbf{X}_1) = \\nabla f(\\mathbf{X}_c) \\cdot (\\mathbf{X}_2 - \\mathbf{X}_1)$ [tc_3].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115}\n  (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d)\n  (X1 X2 : EuclideanSpace \u211d (Fin n))\n  (L : Set (EuclideanSpace \u211d (Fin n)))\n  (tc_1 : ContinuousAt f X1 \u2227 ContinuousAt f X2)\n  (tc_2 : DifferentiableOn \u211d f L)\n  (tc_3 : \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))", "lean_pass": true, "error_msg": [], "tries": 4}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean type signature correctly captures a scalar-valued function from \u211d\u207f to \u211d using EuclideanSpace \u211d (Fin n)", "The Lean formalization exactly matches the continuity condition at both points X1 and X2", "The natural language specifies that L is 'the line segment connecting X1 and X2', but the Lean code only declares L as a general set without establishing that it represents the line segment between X1 and X2. This is a major logical gap.", "The Lean formalization perfectly captures the conclusion using fderiv (Fr\u00e9chet derivative) which is the correct formalization of the gradient, and the existence and distinctness conditions are properly expressed"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean type signature correctly captures a scalar-valued function from \u211d\u207f to \u211d using EuclideanSpace \u211d (Fin n)', 'The Lean formalization exactly matches the continuity condition at both points X1 and X2', \"The natural language specifies that L is 'the line segment connecting X1 and X2', but the Lean code only declares L as a general set without establishing that it represents the line segment between X1 and X2. This is a major logical gap.\", 'The Lean formalization perfectly captures the conclusion using fderiv (Fr\u00e9chet derivative) which is the correct formalization of the gradient, and the existence and distinctness conditions are properly expressed']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Consider the auxiliary function\n$\\mathbf{G}(\\mathbf{X})=\\mathbf{F}(\\mathbf{X})-\\mathbf{F}'(\\mathbf{X}_0)\\mathbf{X}.$", "statement": "Definition:\n\u2022 Let $\\mathbf{G}:\\R^n\\to\\R^m$ be an auxiliary function defined as $\\mathbf{G}(\\mathbf{X})=\\mathbf{F}(\\mathbf{X})-\\mathbf{F}'(\\mathbf{X}_0)\\mathbf{X}$, where $\\mathbf{F}'(\\mathbf{X}_0)$ is the Jacobian matrix of $\\mathbf{F}$ at $\\mathbf{X}_0$ [def_1].", "dependencies": ["tc_1", "tc_2", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (def_1 : (EuclideanSpace \u211d (Fin n)) \u2192 (EuclideanSpace \u211d (Fin m)) :=\n    fun X => F X - (fderiv \u211d F X0) X)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean uses EuclideanSpace \u211d (Fin n) instead of \u211d^n, which is a more specific mathematical structure but represents the same concept. This is a notational difference that doesn't change the mathematical meaning.", "X0 is correctly declared as a point in the appropriate space, matching the natural language requirement.", "The fderiv \u211d F X0 correctly represents the Jacobian matrix (Fr\u00e9chet derivative) of F at X0, which matches the mathematical concept described.", "The definition matches the mathematical formula, but the variable name is 'def_1' instead of 'G'. This is a minor naming inconsistency that doesn't affect the mathematical content."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean uses EuclideanSpace \u211d (Fin n) instead of \u211d^n, which is a more specific mathematical structure but represents the same concept. This is a notational difference that doesn't change the mathematical meaning.\", 'X0 is correctly declared as a point in the appropriate space, matching the natural language requirement.', 'The fderiv \u211d F X0 correctly represents the Jacobian matrix (Fr\u00e9chet derivative) of F at X0, which matches the mathematical concept described.', \"The definition matches the mathematical formula, but the variable name is 'def_1' instead of 'G'. This is a minor naming inconsistency that doesn't affect the mathematical content.\"]"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "The components of $\\mathbf{G}$ are\n$g_i(\\mathbf{X})=f_i(\\mathbf{X})-\\sum_{j=1}^n \\frac{\\partial f_i(\\mathbf{X}_{0}) \\partial x_j} x_j,$", "statement": "We assume:\n\u2022 $\\mathbf{F}:\\R^n\\to\\R^m$ is a continuously differentiable function on a neighborhood $N$ of a point $\\mathbf{X}_0 \\in \\R^n$ [tc_1];\n\u2022 $\\epsilon$ is a given positive real number [tc_2];\n\u2022 The Mean Value Theorem for scalar fields holds [tc_3];\n\u2022 The auxiliary function $\\mathbf{G}(\\mathbf{X})$ is defined as $\\mathbf{F}(\\mathbf{X})-\\mathbf{F}'(\\mathbf{X}_0)\\mathbf{X}$ [def_1].\nTherefore, we conclude:\n\u2022 The i-th component of $\\mathbf{G}$, denoted $g_i(\\mathbf{X})$, is $g_i(\\mathbf{X})=f_i(\\mathbf{X})-\\sum_{j=1}^n \\frac{\\partial f_i(\\mathbf{X}_{0})}{\\partial x_j} x_j$, where $f_i$ are the components of $\\mathbf{F}$ and $x_j$ are the components of $\\mathbf{X}$ [l1].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y) :\n  \u2200 i : Fin m, (def_1 X) i = (F X) i - \u2211 j : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1)) * (X j) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y) :\n  \u2200 i : Fin m, (def_1 X) i = (F X) i - \u2211 j : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1)) * (X j) := by\n  intro i\n  simp only [def_1, Pi.sub_apply, ContinuousLinearMap.sub_apply]\n  have h : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192L[\u211d] \u211d), f X = \u2211 j, f (EuclideanSpace.single j 1) * X j := by\n    intro f\n    simp [EuclideanSpace.single, Pi.single]\n    rw [ContinuousLinearMap.map_sum]\n    simp [Finset.sum_mul]\n  simp_rw [h]\n  simp only [Finset.sum_sub_distrib]\n  congr\n  funext j\n  rw [mul_comm (X j), \u2190 mul_assoc]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 2, "endLine": 15, "endColumn": 64, "data": "invalid argument, variable is not a proposition or let-declaration"}, {"line": 19, "column": 8, "endLine": 19, "endColumn": 35, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  ContinuousLinearMap\nhas type\n  (?m.12339 \u2192+* ?m.12340) \u2192\n    (M : Type ?u.12336) \u2192\n      [inst : TopologicalSpace M] \u2192\n        [inst : AddCommMonoid M] \u2192\n          (M\u2082 : Type ?u.12335) \u2192\n            [inst_1 : TopologicalSpace M\u2082] \u2192\n              [inst_2 : AddCommMonoid M\u2082] \u2192\n                [inst : Module ?m.12339 M] \u2192 [inst : Module ?m.12340 M\u2082] \u2192 Type (max ?u.12336 ?u.12335)"}, {"line": 19, "column": 8, "endLine": 19, "endColumn": 35, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.12600\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 X : EuclideanSpace \u211d (Fin n)\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun Y => F Y - (fderiv \u211d F X0) Y\ni : Fin m\nf : EuclideanSpace \u211d (Fin n) \u2192L[\u211d] \u211d\n\u22a2 f X = \u2211 x : Fin n, f ((WithLp.equiv 2 (Fin n \u2192 \u211d)).symm (Function.update 0 x 1)) * X x"}, {"line": 21, "column": 11, "endLine": 21, "endColumn": 12, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical relationship described in the natural language. The expression (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1) is the proper Lean representation of the partial derivative \u2202f\u1d62(X\u2080)/\u2202x\u2c7c. The summation structure and the overall equation for the i-th component of G are accurately represented. The formalization uses appropriate Lean mathematical libraries and correctly handles the vector space operations. While tc_3 (Mean Value Theorem) is mentioned in the assumptions but not used in this particular lemma, this doesn't affect the correctness of the statement being formalized.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l1\n  {n m : \u2115} [NeZero m]\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y) :\n  \u2203 i : Fin m, (def_1 X) i \u2260 (F X) i - \u2211 j : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1)) * (X j) := by\n  let F : EuclideanSpace \u211d (Fin 1) \u2192 EuclideanSpace \u211d (Fin 1) := fun _ => 0\n  let X0 : EuclideanSpace \u211d (Fin 1) := 0\n  let X : EuclideanSpace \u211d (Fin 1) := fun _ => 1\n  have tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)) := by\n    apply contDiffOn_const\n  have tc_2 : 0 < (1 : \u211d) := by norm_num\n  let def_1 : EuclideanSpace \u211d (Fin 1) \u2192 EuclideanSpace \u211d (Fin 1) := fun Y => F Y - (fderiv \u211d F X0) Y\n  use (0 : Fin m)\n  simp [def_1]\n  have : fderiv \u211d F X0 = 0 := by\n    exact fderiv_const (0 : EuclideanSpace \u211d (Fin 1)) X0\n  simp [this]\n  norm_num"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "so\n$\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}= \\frac{\\partial f_i(\\mathbf{X})} {\\partial x_j}-\\frac{\\partial f_i(\\mathbf{X}_0)}{\\partial x_j}.$", "statement": "We assume:\n\u2022 The i-th component of $\\mathbf{G}$ is $g_i(\\mathbf{X})=f_i(\\mathbf{X})-\\sum_{k=1}^n \\frac{\\partial f_i(\\mathbf{X}_{0})}{\\partial x_k} x_k$ [l1].\nTherefore, we conclude:\n\u2022 The partial derivative of $g_i$ with respect to $x_j$ is $\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}= \\frac{\\partial f_i(\\mathbf{X})}{\\partial x_j}-\\frac{\\partial f_i(\\mathbf{X}_0)}{\\partial x_j}$ [l2].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (i : Fin m) (j : Fin n)\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l1 : \u2200 i : Fin m, (def_1 X) i = (F X) i - \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j_ 1)) * (X j_)) :\n  (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X) (EuclideanSpace.single j 1) - (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (i : Fin m) (j : Fin n)\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l1 : \u2200 i : Fin m, (def_1 X) i = (F X) i - \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j_ 1)) * (X j_)) :\n  (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X) (EuclideanSpace.single j 1) - (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1) := by\n  simp only [def_1, Pi.sub_apply]\n  have h\u2081 : DifferentiableAt \u211d (fun Y => F Y i) X := by\n    apply ContDiffAt.differentiableAt\n    apply tc_1.contDiffAt (Metric.ball_mem_nhds X0 (by simp))\n  have h\u2082 : DifferentiableAt \u211d (fun Y => (fderiv \u211d (fun Y => F Y i) X0) Y) X :=\n    differentiableAt_const (fderiv \u211d (fun Y => F Y i) X0)\n  rw [fderiv_sub h\u2081 h\u2082, fderiv_const_sub (fderiv \u211d (fun Y => F Y i) X0) h\u2081]\n  simp only [ContinuousLinearMap.sub_apply]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 16, "column": 2, "endLine": 16, "endColumn": 33, "data": "invalid argument, variable is not a proposition or let-declaration"}, {"line": 19, "column": 4, "endLine": 19, "endColumn": 61, "data": "tactic 'apply' failed, failed to unify\n  \u2203 u \u2208 \ud835\udcdd[insert X0 Set.univ] X0, \u2203 p, HasFTaylorSeriesUpToOn (\u2191?m) F p u\nwith\n  ContDiffAt \u211d ?n (fun Y => F Y i) X\ncase h\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 X : EuclideanSpace \u211d (Fin n)\ni : Fin m\nj : Fin n\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun Y => F Y - (fderiv \u211d F X0) Y\nl1 : \u2200 (i : Fin m), def_1 X i = F X i - \u2211 j_ : Fin n, (fderiv \u211d (fun Y => F Y i) X0) (EuclideanSpace.single j_ 1) * X j_\n\u22a2 ContDiffAt \u211d ?n (fun Y => F Y i) X"}, {"line": 19, "column": 52, "endLine": 19, "endColumn": 59, "data": "unsolved goals\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 X : EuclideanSpace \u211d (Fin n)\ni : Fin m\nj : Fin n\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun Y => F Y - (fderiv \u211d F X0) Y\nl1 : \u2200 (i : Fin m), def_1 X i = F X i - \u2211 j_ : Fin n, (fderiv \u211d (fun Y => F Y i) X0) (EuclideanSpace.single j_ 1) * X j_\n\u22a2 False"}, {"line": 21, "column": 4, "endLine": 21, "endColumn": 57, "data": "type mismatch\n  differentiableAt_const (fderiv \u211d (fun Y => F Y i) X0)\nhas type\n  DifferentiableAt ?m.6301 (fun x => fderiv \u211d (fun Y => F Y i) X0) ?m.6309 : Prop\nbut is expected to have type\n  DifferentiableAt \u211d (fun Y => (fderiv \u211d (fun Y => F Y i) X0) Y) X : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content of the natural language. While it uses different notation (Fr\u00e9chet derivatives vs partial derivatives, vector functions vs component functions), the mathematical meaning is equivalent. The additional technical conditions in Lean (differentiability, type constraints) are necessary for mathematical rigor and don't contradict the natural language. The assumption l1 properly bridges the notational differences between the two approaches.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2_neg\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (i : Fin m) (j : Fin n)\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l1 : \u2200 i : Fin m, (def_1 X) i = (F X) i - \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j_ 1)) * (X j_)) :\n  \u00ac (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X) (EuclideanSpace.single j 1) - (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1) := by\n  intro h\n  have h1 : (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i - \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j_ 1)) * (Y j_)) X) (EuclideanSpace.single j 1) := by\n    simp [l1]\n    rw [fderiv_sub]\n    \u00b7 simp\n    \u00b7 exact ContDiffOn.contDiffAt tc_1 (Metric.mem_ball_self tc_2)\n    \u00b7 apply ContDiffOn.contDiffAt\n      apply ContDiffOn.sub\n      \u00b7 exact contDiffOn_const\n      \u00b7 apply ContDiffOn.fderiv\n        \u00b7 exact tc_1\n        \u00b7 intro _; trivial\n  simp only [fderiv_sub, fderiv_const, sub_zero, ContinuousLinearMap.zero_apply, ContinuousLinearMap.sub_apply] at h1\n  rw [h1] at h\n  simp only [ContinuousLinearMap.sub_apply] at h\n  have h2 : (fderiv \u211d (fun Y => \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j_ 1)) * (Y j_)) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1) := by\n    simp [fderiv]\n    rfl\n  rw [h2] at h\n  contradiction"}, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Thus, $\\partial g_i/\\partial x_j$ is continuous on $N$ and zero at $\\mathbf{X}_0$.", "statement": "We assume:\n\u2022 $\\mathbf{F}$ is continuously differentiable on $N$ [tc_1];\n\u2022 The partial derivative $\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}= \\frac{\\partial f_i(\\mathbf{X})}{\\partial x_j}-\\frac{\\partial f_i(\\mathbf{X}_0)}{\\partial x_j}$ [l2].\nTherefore, we conclude:\n\u2022 The partial derivative $\\partial g_i/\\partial x_j$ is continuous on $N$ and its value at $\\mathbf{X}_0$ is $\\frac{\\partial g_i(\\mathbf{X}_0)}{\\partial x_j} = 0$ [l3].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X : EuclideanSpace \u211d (Fin n))\n  (i : Fin m) (j : Fin n)\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l1 : \u2200 i_ : Fin m, (def_1 X) i_ = (F X) i_ - \u2211 j_ : Fin n, ((fderiv \u211d (fun Y => (F Y) i_) X0) (EuclideanSpace.single j_ 1)) * (X j_))\n  (l2 : (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X) (EuclideanSpace.single j 1) - (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1)) :\n  ContinuousAt (fun X => (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)) X0 \u2227 (fderiv \u211d (fun Y => (def_1 Y) i) X0) (EuclideanSpace.single j 1) = 0 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (i : Fin m) (j : Fin n)\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l2 : \u2200 X, (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1) = (fderiv \u211d (fun Y => (F Y) i) X) (EuclideanSpace.single j 1) - (fderiv \u211d (fun Y => (F Y) i) X0) (EuclideanSpace.single j 1)) :\n  ContinuousAt (fun X => (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)) X0 \u2227 (fderiv \u211d (fun Y => (def_1 Y) i) X0) (EuclideanSpace.single j 1) = 0 := by\n  constructor\n  \u00b7 have h := tc_1.contDiffAt (Metric.ball_mem_nhds X0 (by simp [tc_2]))\n    simp only [l2]\n    apply ContinuousAt.sub (ContinuousAt.fderiv (fun X => (F X) i) (ContDiffAt.continuousAt h) j) continuousAt_const\n  \u00b7 simp only [def_1, Pi.sub_apply, fderiv_sub_const]\n    simp [fderiv_const (c := (0 : EuclideanSpace \u211d (Fin m)))]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 17, "column": 56, "endLine": 17, "endColumn": 70, "data": "unsolved goals\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\ni : Fin m\nj : Fin n\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun Y => F Y - (fderiv \u211d F X0) Y\nl2 :\n  \u2200 (X : EuclideanSpace \u211d (Fin n)),\n    (fderiv \u211d (fun Y => def_1 Y i) X) (EuclideanSpace.single j 1) =\n      (fderiv \u211d (fun Y => F Y i) X) (EuclideanSpace.single j 1) -\n        (fderiv \u211d (fun Y => F Y i) X0) (EuclideanSpace.single j 1)\n\u22a2 False"}, {"line": 19, "column": 28, "endLine": 19, "endColumn": 96, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  ContinuousAt\nhas type\n  (?m.4889 \u2192 ?m.4890) \u2192 ?m.4889 \u2192 Prop"}, {"line": 20, "column": 4, "endLine": 20, "endColumn": 53, "data": "invalid argument, variable is not a proposition or let-declaration"}, {"line": 21, "column": 4, "endLine": 21, "endColumn": 61, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The domain specification is fundamentally wrong - using Metric.ball X0 (0 : \u211d) creates a degenerate ball containing only X0, making it impossible to define or analyze partial derivatives in a neighborhood as required by the natural language.", "The partial derivative relationship in l2 correctly captures the mathematical relationship stated in the natural language using appropriate Lean notation.", "The definition of function g has a structural mismatch - the natural language implies g_i(X) = f_i(X) - f_i(X_0) (simple difference), but Lean defines it as F(Y) - (\u2207F(X_0))Y (linearization), which are different mathematical constructs.", "The conclusion partially matches but has scope limitations - it only proves continuity at X0 rather than on the entire neighborhood N, and the domain issues from the first component affect the overall validity of the formalization.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The domain specification is fundamentally wrong - using Metric.ball X0 (0 : \u211d) creates a degenerate ball containing only X0, making it impossible to define or analyze partial derivatives in a neighborhood as required by the natural language.', 'The partial derivative relationship in l2 correctly captures the mathematical relationship stated in the natural language using appropriate Lean notation.', 'The definition of function g has a structural mismatch - the natural language implies g_i(X) = f_i(X) - f_i(X_0) (simple difference), but Lean defines it as F(Y) - (\u2207F(X_0))Y (linearization), which are different mathematical constructs.', 'The conclusion partially matches but has scope limitations - it only proves continuity at X0 rather than on the entire neighborhood N, and the domain issues from the first component affect the overall validity of the formalization.']"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Therefore, there is a $\\delta>0$ such that\n$\\left|\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}\\right|<\\frac{\\epsilon}{ \\sqrt{mn}}\\mbox{\\quad for \\quad}1\\le i\\le m,\\quad 1\\le j\\le n, \\mbox{\\quad if \\quad} |\\mathbf{X}-\\mathbf{X}_0|<\\delta.$", "statement": "We assume:\n\u2022 $\\epsilon$ is a positive real number [tc_2];\n\u2022 For all $i,j$, the function $\\partial g_i/\\partial x_j$ is continuous on $N$ and is zero at $\\mathbf{X}_0$ [l3].\nTherefore, we conclude:\n\u2022 There exists a $\\delta > 0$ such that for all $1 \\le i \\le m$ and $1 \\le j \\le n$, if $|\\mathbf{X}-\\mathbf{X}_0|<\\delta$, then $\\left|\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}\\right|<\\frac{\\epsilon}{ \\sqrt{mn}}$ [l4].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l3 : \u2200 i : Fin m, \u2200 j : Fin n, ContinuousAt (fun X => (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)) X0 \u2227 (fderiv \u211d (fun Y => (def_1 Y) i) X0) (EuclideanSpace.single j 1) = 0) :\n  \u2203 \u03b4 > 0, \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun Y => F Y - (fderiv \u211d F X0) Y)\n  (l3 : \u2200 i : Fin m, \u2200 j : Fin n, ContinuousAt (fun X => (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)) X0 \u2227 (fderiv \u211d (fun Y => (def_1 Y) i) X0) (EuclideanSpace.single j 1) = 0) :\n  \u2203 \u03b4 > 0, \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / Real.sqrt (m * n) := by\n  have h : \u2200 i j, ContinuousAt (fun X => (fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)) X0 :=\n    fun i j => (l3 i j).1\n  have h' : \u2200 i j, (fderiv \u211d (fun Y => (def_1 Y) i) X0) (EuclideanSpace.single j 1) = 0 :=\n    fun i j => (l3 i j).2\n  have h'' : \u2200 i j, \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, dist X X0 < \u03b4 \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 := by\n    intro i j \u03b5 h\u03b5\n    have := Metric.continuousAt_iff.1 (h i j) \u03b5 h\u03b5\n    simp only [h' i j, sub_zero, norm_eq_abs, dist_zero_right] at this\n    exact this\n  have h\u03b5 : 0 < \u03b5 / Real.sqrt (m * n) := by\n    apply div_pos tc_2\n    exact Real.sqrt_pos.2 (mul_pos (Nat.cast_pos.2 (Fin.pos m)) (Nat.cast_pos.2 (Fin.pos n)))\n  choose \u03b4 h\u03b4 using fun i j => h'' i j (\u03b5 / Real.sqrt (m * n)) h\u03b5\n  let \u03b4' := Finset.univ.inf (fun p : Fin m \u00d7 Fin n => \u03b4 p.1 p.2)\n  have h\u03b4' : 0 < \u03b4' := by\n    apply Finset.inf_pos\n    intro p _\n    exact (h\u03b4 p.1 p.2).1\n  refine \u27e8\u03b4', h\u03b4', ?_\u27e9\n  intro i j X hX\n  apply (h\u03b4 i j).2 X\n  exact hX.trans_le (Finset.inf_le (Finset.mem_univ (i, j)))", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 23, "column": 4, "endLine": 23, "endColumn": 14, "data": "type mismatch\n  this\nhas type\n  \u2203 \u03b4 > 0,\n    \u2200 \u2983x : EuclideanSpace \u211d (Fin n)\u2984,\n      Dist.dist x X0 < \u03b4 \u2192 Dist.dist ((fderiv \u211d (fun Y => def_1 Y i) x) (EuclideanSpace.single j 1)) 0 < \u03b5 : Prop\nbut is expected to have type\n  \u2203 \u03b4 > 0,\n    \u2200 (X : EuclideanSpace \u211d (Fin n)),\n      Dist.dist X X0 < \u03b4 \u2192 |(fderiv \u211d (fun Y => def_1 Y i) X) (EuclideanSpace.single j 1)| < \u03b5 : Prop"}, {"line": 26, "column": 60, "endLine": 26, "endColumn": 61, "data": "application type mismatch\n  Fin.pos m\nargument\n  m\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Fin m : Type"}, {"line": 26, "column": 89, "endLine": 26, "endColumn": 90, "data": "application type mismatch\n  Fin.pos n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Fin n : Type"}, {"line": 28, "column": 12, "endLine": 28, "endColumn": 64, "data": "failed to synthesize\n  OrderTop \u211d\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 30, "column": 10, "endLine": 30, "endColumn": 24, "data": "unknown constant 'Finset.inf_pos'"}, {"line": 31, "column": 4, "endLine": 31, "endColumn": 13, "data": "no goals to be solved"}, {"line": 36, "column": 20, "endLine": 36, "endColumn": 60, "data": "application type mismatch\n  LT.lt.trans_le hX (Finset.inf_le (Finset.mem_univ (i, j)))\nargument\n  Finset.inf_le (Finset.mem_univ (i, j))\nhas type\n  Finset.univ.inf ?m.12803 \u2264 ?m.12803 (i, j) : Prop\nbut is expected to have type\n  \u03b4' \u2264 \u03b4 i j : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Variable names and structures differ but capture the essential mathematical objects appropriately", "Both correctly state that \u03b5 is positive", "The continuity and zero conditions apply to def_1 (a modified function) rather than the original function F as stated in natural language", "The conclusion about \u03b4 applies to partial derivatives of def_1 instead of the original functions g_i as stated in natural language", "Additional conditions like tc_1 and def_1 are acceptable extra details not contradicting the natural language", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Variable names and structures differ but capture the essential mathematical objects appropriately', 'Both correctly state that \u03b5 is positive', 'The continuity and zero conditions apply to def_1 (a modified function) rather than the original function F as stated in natural language', 'The conclusion about \u03b4 applies to partial derivatives of def_1 instead of the original functions g_i as stated in natural language', 'Additional conditions like tc_1 and def_1 are acceptable extra details not contradicting the natural language']"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Now suppose that $\\mathbf{X}$, $\\mathbf{Y}\\in B_\\delta(\\mathbf{X}_0)$. By Theorem~\\ref{thmtype:5.4.5}, $g_i(\\mathbf{X})-g_i(\\mathbf{Y})=\\sum_{j=1}^n \\frac{\\partial g_i(\\mathbf{X}_i)}{\\partial x_j}(x_j-y_j),$", "statement": "We assume:\n\u2022 The properties of $\\mathbf{F}$ [tc_1] imply that the components $g_i$ of $\\mathbf{G}$ are continuously differentiable on $N$;\n\u2022 The Mean Value Theorem for scalar fields holds [tc_3];\n\u2022 We have found a suitable $\\delta > 0$ [l4].\nTherefore, we conclude:\n\u2022 For any $\\mathbf{X}, \\mathbf{Y} \\in B_\\delta(\\mathbf{X}_0)$, for each component $i$, there exists a point $\\mathbf{X}_i$ on the line segment from $\\mathbf{X}$ to $\\mathbf{Y}$ such that $g_i(\\mathbf{X})-g_i(\\mathbf{Y})=\\sum_{j=1}^n \\frac{\\partial g_i(\\mathbf{X}_i)}{\\partial x_j}(x_j-y_j)$ [l5].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4) :\n  \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 \u03b4))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4) :\n  \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j) := by\n  intro i\n  let f := fun Y : EuclideanSpace \u211d (Fin n) => (def_1 Y) i\n  have h_cont : ContinuousAt f X \u2227 ContinuousAt f Y := by\n    constructor\n    \u00b7 exact ContDiffAt.continuousAt (ContDiffOn.contDiffAt tc_1 hX)\n    \u00b7 exact ContDiffAt.continuousAt (ContDiffOn.contDiffAt tc_1 hY)\n  have h_diff : DifferentiableOn \u211d f (Metric.ball X0 \u03b4) := by\n    intro x hx\n    exact (ContDiff.differentiable (ContDiffOn.contDiffAt tc_1 hx))\n  obtain \u27e8Xi, hXi, hXi1, hXi2, h\u27e9 := tc_3 f X Y (Metric.ball X0 \u03b4) h_cont h_diff\n  refine \u27e8Xi, ?_, ?_\u27e9\n  \u00b7 exact mem_segment_subset (Metric.convexBall X0 \u03b4 h\u03b4) hX hY hXi\n  \u00b7 rw [\u2190 h]\n    simp only [fderiv_sub (ContDiff.differentiable (ContDiffOn.contDiffAt tc_1 hXi)) (Differentiable.const (fderiv \u211d F X0) (Pi.single i 1)), fderiv_const, sub_zero]\n    simp only [ContinuousLinearMap.add_apply, ContinuousLinearMap.coe_comp', Function.comp_apply, ContinuousLinearMap.coe_smulRight', ContinuousLinearMap.coe_smulRight_apply]\n    simp only [Pi.smul_apply, ContinuousLinearMap.coe_smulRight', ContinuousLinearMap.coe_smulRight_apply, ContinuousLinearMap.one_apply]\n    rw [\u2190 ContinuousLinearMap.sum_apply]\n    congr\n    ext j\n    simp only [ContinuousLinearMap.coe_smulRight', ContinuousLinearMap.coe_smulRight_apply, ContinuousLinearMap.one_apply, Pi.smul_apply, smul_eq_mul]\n    rw [mul_comm]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 23, "column": 12, "endLine": 23, "endColumn": 67, "data": "typeclass instance problem is stuck, it is often due to metavariables\n  NormedSpace ?m.10977 ((fun x => \u211d) i)"}, {"line": 24, "column": 64, "endLine": 24, "endColumn": 66, "data": "application type mismatch\n  ContDiffOn.contDiffAt ?m.13145 hY\nargument\n  hY\nhas type\n  Y \u2208 Metric.ball X0 \u03b4 : Prop\nbut is expected to have type\n  ?m.12622 \u2208 \ud835\udcdd Y : Prop"}, {"line": 27, "column": 63, "endLine": 27, "endColumn": 65, "data": "application type mismatch\n  ContDiffOn.contDiffAt tc_1 hx\nargument\n  hx\nhas type\n  x \u2208 Metric.ball X0 \u03b4 : Prop\nbut is expected to have type\n  Metric.ball X0 \u03b4\u271d \u2208 \ud835\udcdd ?m.14458 : Prop"}, {"line": 30, "column": 10, "endLine": 30, "endColumn": 28, "data": "unknown identifier 'mem_segment_subset'"}, {"line": 31, "column": 8, "endLine": 31, "endColumn": 11, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  (fderiv \u211d f Xi) (Y - X)\ncase intro.intro.intro.intro.refine_2\n\u03b4\u271d : \u211d\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 \u03b4\u271d)\ntc_3 :\n  \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n))),\n    ContinuousAt f X1 \u2227 ContinuousAt f X2 \u2192\n      DifferentiableOn \u211d f L \u2192 \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1)\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun X => F X - (fderiv \u211d F X0) X\n\u03b4 : \u211d\nh\u03b4 : \u03b4 > 0\nl4 :\n  \u2200 (i : Fin m) (j : Fin n) (X : EuclideanSpace \u211d (Fin n)),\n    Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => def_1 Y i) X) (EuclideanSpace.single j 1)| < 0 / \u221a(\u2191m * \u2191n)\nX Y : EuclideanSpace \u211d (Fin n)\nhX : X \u2208 Metric.ball X0 \u03b4\nhY : Y \u2208 Metric.ball X0 \u03b4\ni : Fin m\nf : EuclideanSpace \u211d (Fin n) \u2192 (fun x => \u211d) i := fun Y => def_1 Y i\nh_cont : ContinuousAt f X \u2227 ContinuousAt f Y\nh_diff : DifferentiableOn \u211d f (Metric.ball X0 \u03b4)\nXi : EuclideanSpace \u211d (Fin n)\nhXi : Xi \u2208 Metric.ball X0 \u03b4\nhXi1 : Xi \u2260 X\nhXi2 : Xi \u2260 Y\nh : f Y - f X = (fderiv \u211d f Xi) (Y - X)\n\u22a2 def_1 X i - def_1 Y i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ => def_1 Y_ i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The natural language refers to components g_i of G, while Lean uses def_1 = F X - (fderiv \u211d F X0) X. The relationship between G and def_1 is not explicitly stated, creating a minor notational inconsistency.", "The differentiability assumptions are correctly captured - continuous differentiability of components follows from ContDiffOn \u211d 1 F.", "The Mean Value Theorem assumption is properly formalized as tc_3.", "The delta condition is correctly included with h\u03b4 : \u03b4 > 0, plus additional technical constraints that are mathematically consistent.", "The main conclusion correctly formalizes the Mean Value Theorem application to each component, with proper quantification over components and the existence of intermediate points.", "The mathematical structure and logical flow are preserved, with the Lean version containing additional technical details that support the main mathematical content.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=0.83 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l5\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4) :\n  \u00ac \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j) := by\n  sorry"}, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "where $\\mathbf{X}_i$ is on the line segment from $\\mathbf{X}$ to $\\mathbf{Y}$, so  $\\mathbf{X}_i\\in B_\\delta(\\mathbf{X}_0)$.", "statement": "We assume:\n\u2022 $\\mathbf{X}, \\mathbf{Y} \\in B_\\delta(\\mathbf{X}_0)$;\n\u2022 $\\mathbf{X}_i$ is a point on the line segment from $\\mathbf{X}$ to $\\mathbf{Y}$ [l5].\nTherefore, we conclude:\n\u2022 The point $\\mathbf{X}_i$ is also in the ball $B_\\delta(\\mathbf{X}_0)$ [l6].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (l5 : \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (Xi : EuclideanSpace \u211d (Fin n)) (hXi_segment : Xi \u2208 segment \u211d X Y) :\n  Xi \u2208 Metric.ball X0 \u03b4 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l6\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (l5 : \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (Xi : EuclideanSpace \u211d (Fin n)) (hXi_segment : Xi \u2208 segment \u211d X Y) :\n  Xi \u2208 Metric.ball X0 \u03b4 := by\n  rw [Metric.mem_ball] at *\n  obtain \u27e8t, ht0, ht1, hXi\u27e9 := hXi_segment\n  rw [\u2190 hXi]\n  have : \u2016t \u2022 X + (1 - t) \u2022 Y - X0\u2016 \u2264 t * \u2016X - X0\u2016 + (1 - t) * \u2016Y - X0\u2016 := by\n    calc\n      \u2016t \u2022 X + (1 - t) \u2022 Y - X0\u2016 = \u2016t \u2022 (X - X0) + (1 - t) \u2022 (Y - X0)\u2016 := by\n        rw [smul_sub, smul_sub, sub_add_sub_cancel]\n      _ \u2264 \u2016t \u2022 (X - X0)\u2016 + \u2016(1 - t) \u2022 (Y - X0)\u2016 := norm_add_le _ _\n      _ = t * \u2016X - X0\u2016 + (1 - t) * \u2016Y - X0\u2016 := by\n        rw [norm_smul, norm_smul, Real.norm_of_nonneg ht0, Real.norm_of_nonneg (sub_nonneg.mpr ht1)]\n  apply lt_of_le_of_lt this\n  have : t * \u2016X - X0\u2016 + (1 - t) * \u2016Y - X0\u2016 < t * \u03b4 + (1 - t) * \u03b4 := by\n    apply add_lt_add_of_lt_of_le\n    \u00b7 exact mul_lt_mul_of_pos_left hX ht0\n    \u00b7 exact mul_le_mul_of_nonneg_left (le_of_lt hY) (sub_nonneg.mpr ht1)\n  rwa [\u2190 add_mul, sub_add_cancel, one_mul] at this", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 23, "column": 6, "endLine": 23, "endColumn": 11, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  0 \u2264 ht0 \u2227 t + ht0 = 1 \u2227 t \u2022 X + ht0 \u2022 Y = Xi\ncase intro.intro.intro\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\ntc_3 :\n  \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n))),\n    ContinuousAt f X1 \u2227 ContinuousAt f X2 \u2192\n      DifferentiableOn \u211d f L \u2192 \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1)\ndef_1 : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun X => F X - (fderiv \u211d F X0) X\n\u03b4 : \u211d\nh\u03b4 : \u03b4 > 0\nl4 :\n  \u2200 (i : Fin m) (j : Fin n) (X : EuclideanSpace \u211d (Fin n)),\n    Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => def_1 Y i) X) (EuclideanSpace.single j 1)| < 0 / \u221a(\u2191m * \u2191n)\nX Y : EuclideanSpace \u211d (Fin n)\nhX : Dist.dist X X0 < \u03b4\nhY : Dist.dist Y X0 < \u03b4\nl5 :\n  \u2200 (i : Fin m),\n    \u2203 Xi \u2208 segment \u211d X Y,\n      def_1 X i - def_1 Y i =\n        \u2211 j : Fin n, (fderiv \u211d (fun Y_ => def_1 Y_ i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)\nXi : EuclideanSpace \u211d (Fin n)\nt ht0 : \u211d\nht1 : 0 \u2264 t\nhXi : 0 \u2264 ht0 \u2227 t + ht0 = 1 \u2227 t \u2022 X + ht0 \u2022 Y = Xi\n\u22a2 Dist.dist Xi X0 < \u03b4"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content of the natural language statement. The assumptions that X and Y are in the ball B_\u03b4(X\u2080) are properly represented, the condition that Xi is on the line segment between X and Y is accurately formalized using 'segment \u211d X Y', and the conclusion that Xi is in the ball is correctly stated as the goal. While there is additional mathematical context in the Lean code that isn't mentioned in the natural language, this doesn't detract from the core logical correspondence, and the specific geometric property being stated (convexity of metric balls) is perfectly preserved.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l6\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (h\u03b4 : \u03b4 > 0)\n  (l4 : \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < 0 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (X Y : EuclideanSpace \u211d (Fin n)) (hX : X \u2208 Metric.ball X0 \u03b4) (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (l5 : \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)) :\n  \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 Xi \u2209 Metric.ball X0 \u03b4 := by\n  let Xi := Y + (\u03b4 + 1) \u2022 (Y - X)\n  use Xi\n  constructor\n  \u00b7 rw [segment_eq_image]\n    refine \u27e81/2, \u27e8by norm_num, by norm_num\u27e9, ?_\u27e9\n    simp [Xi]\n    rw [add_sub, sub_add_cancel]\n    simp [smul_smul, \u2190 add_smul, one_smul]\n  \u00b7 rw [Metric.mem_ball, dist_eq_norm, norm_sub_rev]\n    simp [Xi]\n    have hYnorm : \u2016Y - X0\u2016 < \u03b4 := by rwa [dist_eq_norm, \u2190 Metric.mem_ball] at hY\n    have hXnorm : \u2016X - X0\u2016 < \u03b4 := by rwa [dist_eq_norm, \u2190 Metric.mem_ball] at hX\n    have hYXnorm : \u2016Y - X\u2016 \u2264 \u2016Y - X0\u2016 + \u2016X0 - X\u2016 := norm_sub_le _ _ _\n    rw [norm_sub_rev] at hYXnorm\n    calc\n      \u2016Y + (\u03b4 + 1) \u2022 (Y - X) - X0\u2016 = \u2016(Y - X0) + (\u03b4 + 1) \u2022 (Y - X)\u2016 := by simp\n      _ \u2265 \u2016(\u03b4 + 1) \u2022 (Y - X)\u2016 - \u2016Y - X0\u2016 := norm_sub_norm_le _ _\n      _ = (\u03b4 + 1) * \u2016Y - X\u2016 - \u2016Y - X0\u2016 := by simp [norm_smul]\n      _ \u2265 (\u03b4 + 1) * (\u2016Y - X0\u2016 - \u2016X - X0\u2016) - \u2016Y - X0\u2016 := by\n        gcongr\n        exact norm_sub_norm_le _ _\n      _ = \u03b4 * \u2016Y - X0\u2016 - (\u03b4 + 1) * \u2016X - X0\u2016 := by ring\n      _ > \u03b4 * \u2016Y - X0\u2016 - (\u03b4 + 1) * \u03b4 := by linarith [hXnorm]\n      _ = \u03b4 * (\u2016Y - X0\u2016 - \u03b4) - \u03b4 := by ring\n      _ \u2265 \u03b4 * 0 - \u03b4 := by linarith [hYnorm]\n      _ = \u03b4 := by ring"}, "type": "lemma"}, "l7": {"id": "l7", "natural_language": "From \\eqref{eq:6.2.10}, \\eqref{eq:6.2.11}, and Schwarz's inequality, $(g_i(\\mathbf{X})-g_i(\\mathbf{Y}))^2\\le\\left(\\sum_{j=1}^n\\left[\\frac{\\partial g_i (\\mathbf{X}_i)}{\\partial x_j}\\right]^2\\right) |\\mathbf{X}-\\mathbf{Y}|^2 <\\frac{\\epsilon^2}{ m} |\\mathbf{X}-\\mathbf{Y}|^2.$", "statement": "We assume:\n\u2022 There is a $\\delta>0$ such that $|\\mathbf{X}-\\mathbf{X}_0|<\\delta$ implies $|\\frac{\\partial g_i(\\mathbf{X})}{\\partial x_j}|<\\frac{\\epsilon}{\\sqrt{mn}}$ [l4];\n\u2022 For $\\mathbf{X}, \\mathbf{Y} \\in B_\\delta(\\mathbf{X}_0)$, $g_i(\\mathbf{X})-g_i(\\mathbf{Y})=\\sum_{j=1}^n \\frac{\\partial g_i(\\mathbf{X}_i)}{\\partial x_j}(x_j-y_j)$ [l5];\n\u2022 The point $\\mathbf{X}_i$ is in $B_\\delta(\\mathbf{X}_0)$ [l6].\nTherefore, we conclude:\n\u2022 For $\\mathbf{X}, \\mathbf{Y} \\in B_\\delta(\\mathbf{X}_0)$, the inequality $(g_i(\\mathbf{X})-g_i(\\mathbf{Y}))^2 < \\frac{\\epsilon^2}{ m} |\\mathbf{X}-\\mathbf{Y}|^2$ holds [l7].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4", "l5", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (i : Fin m) :\n  ((def_1 X) i - (def_1 Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l7\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / Real.sqrt ((m : \u211d) * (n : \u211d)))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (i : Fin m) :\n  ((def_1 X) i - (def_1 Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2 := by\n  obtain \u27e8Xi, hXi_seg, hXi\u27e9 := l5 X Y hX hY i\n  have hXi_ball : Xi \u2208 Metric.ball X0 \u03b4 := l6 X Y Xi hXi_seg hX hY\n  rw [hXi]\n  have h_bound : \u2200 j : Fin n, |(fderiv \u211d (fun Y_ => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1)| < \u03b5 / Real.sqrt (m * n) := by\n    intro j\n    exact (l4.2 i j Xi hXi_ball)\n  simp_rw [\u2190 abs_mul]\n  rw [\u2190 Real.norm_eq_abs, \u2190 norm_smul (X - Y) (EuclideanSpace.single _ _)]\n  have h_sum : (\u2211 j : Fin n, (fderiv \u211d (fun Y_ => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))^2 \u2264 (\u2211 j : Fin n, |(fderiv \u211d (fun Y_ => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)|)^2 := by\n    gcongr\n    exact le_abs_self _\n  have h_cauchy : (\u2211 j : Fin n, |(fderiv \u211d (fun Y_ => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)|)^2 \u2264 (\u2211 j : Fin n, (\u03b5 / Real.sqrt (m * n)) * |X j - Y j|)^2 := by\n    gcongr\n    exact h_bound j\n  have h_dist : (dist X Y)^2 = \u2211 j : Fin n, (X j - Y j)^2 := by\n    simp only [dist_eq_norm, norm_eq_sqrt_inner, inner_self_eq_sum_sq]\n    rfl\n  have h_norm : (\u2211 j : Fin n, (\u03b5 / Real.sqrt (m * n)) * |X j - Y j|)^2 \u2264 (\u03b5^2 / m) * (dist X Y)^2 := by\n    rw [h_dist]\n    simp_rw [mul_pow, abs_sq, sq_abs]\n    rw [\u2190 mul_sum, \u2190 sum_mul]\n    have h_sqrt : Real.sqrt (m * n) ^ 2 = m * n := by exact Real.sq_sqrt (by positivity)\n    field_simp [h_sqrt]\n    gcongr\n    apply Real.sum_sq_le_nat_card_mul_sum_sq (Fin n) (fun j => |X j - Y j|)\n  linarith", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 31, "column": 11, "endLine": 31, "endColumn": 20, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The function setup correctly translates the mathematical concept of vector-valued functions with component-wise partial derivatives using functional derivatives in Lean.", "Condition l4 accurately captures the derivative bound constraint, properly translating the distance condition and partial derivative bounds.", "Condition l5 correctly formalizes the mean value theorem relationship with the sum over coordinate directions.", "Condition l6 properly states the geometric property that intermediate points remain in the ball.", "The conclusion l7 is correctly formalized with the appropriate inequality structure and distance measure.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l7\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (def_1 Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (def_1 X) i - (def_1 Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (i : Fin m) :\n  \u00ac ((def_1 X) i - (def_1 Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2 := by\n  simp only [not_lt]\n  obtain \u27e8Xi, hXi, h_eq\u27e9 := l5 X Y hX hY i\n  have hXi_mem : Xi \u2208 Metric.ball X0 \u03b4 := l6 X Y Xi hXi hX hY\n  rw [h_eq]\n  simp_rw [\u2190 Pi.single_apply, \u2190 ContinuousLinearMap.map_sum]\n  have h_bound : \u2200 j, |(fderiv \u211d (fun Y_ => (def_1 Y_) i) Xi) (EuclideanSpace.single j 1)| \u2264 \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))) := by\n    intro j\n    exact le_of_lt (l4.2 i j Xi hXi_mem)\n  refine le_trans ?_ ?_\n  \u00b7 apply norm_sq_le_sum_sq\n    intro j\n    exact h_bound j\n  \u00b7 simp_rw [mul_assoc, \u2190 sum_mul]\n    rw [mul_comm (\u03b5 / _), \u2190 mul_assoc, \u2190 mul_assoc, \u2190 sq, \u2190 mul_pow]\n    refine mul_le_mul_of_nonneg_right ?_ (norm_nonneg _)\n    refine le_trans (div_le_div_of_le_left (sq_nonneg \u03b5) ?_ ?_) ?_\n    \u00b7 exact mul_pos (Nat.cast_pos.mpr (m.zero_lt_succ)) (Nat.cast_pos.mpr (n.zero_lt_succ))\n    \u00b7 exact Real.sqrt_pos.mpr (mul_pos (Nat.cast_pos.mpr (m.zero_lt_succ)) (Nat.cast_pos.mpr (n.zero_lt_succ)))\n    \u00b7 rw [\u2190 mul_div_assoc, mul_comm, mul_div_assoc, \u2190 Real.sqrt_div, \u2190 Real.sqrt_mul]\n      \u00b7 simp only [Nat.cast_succ, mul_div_cancel, Ne.def, Nat.cast_eq_zero, not_false_iff]\n        exact Real.sqrt_le_sqrt (le_of_eq (by ring))\n      \u00b7 exact (mul_pos (Nat.cast_pos.mpr (m.zero_lt_succ)) (Nat.cast_pos.mpr (n.zero_lt_succ))).le"}, "type": "lemma"}, "l8": {"id": "l8", "natural_language": "Summing this from $i=1$ to $i=m$ and taking square roots yields $|\\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})|<\\epsilon |\\mathbf{X}-\\mathbf{Y}|$ if $\\mathbf{X}, \\mathbf{Y}\\in B_\\delta(\\mathbf{X}_0)$.", "statement": "We assume:\n\u2022 For each component $i$, $(g_i(\\mathbf{X})-g_i(\\mathbf{Y}))^2 < \\frac{\\epsilon^2}{ m} |\\mathbf{X}-\\mathbf{Y}|^2$ for $\\mathbf{X}, \\mathbf{Y}\\in B_\\delta(\\mathbf{X}_0)$ [l7].\nTherefore, we conclude:\n\u2022 By summing the inequality from [l7] over all components $i=1, \\dots, m$, we get $|\\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})|^2 < \\epsilon^2 |\\mathbf{X}-\\mathbf{Y}|^2$, which implies $|\\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})|<\\epsilon |\\mathbf{X}-\\mathbf{Y}|$ for $\\mathbf{X}, \\mathbf{Y}\\in B_\\delta(\\mathbf{X}_0)$ [l8].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (G Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (G X) i - (G Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (G Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (l7 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, ((G X) i - (G Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4) :\n  dist (G X) (G Y) < \u03b5 * dist X Y := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l8\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (G Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (G X) i - (G Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (G Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (l7 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, ((G X) i - (G Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4) :\n  dist (G X) (G Y) < \u03b5 * dist X Y := by\n  have h : \u2016G X - G Y\u2016^2 = \u2211 i, ((G X) i - (G Y) i)^2 := by\n    simp [Pi.norm_def, EuclideanSpace.norm_eq]\n    congr\n    funext i\n    simp\n  rw [dist_eq_norm, dist_eq_norm, h]\n  have h_sum : \u2211 i, ((G X) i - (G Y) i)^2 < \u2211 i, (\u03b5^2 / m) * \u2016X - Y\u2016^2 := by\n    apply Finset.sum_lt_sum (fun i _ => (l7 X Y hX hY i).le) ?_\n    simp only [Finset.mem_univ, not_forall, exists_prop]\n    refine \u27e80, ?_\u27e9\n    exact (l7 X Y hX hY 0).2\n  simp only [Finset.sum_const, nsmul_eq_mul, Fintype.card_fin, mul_comm (\u03b5^2 / m)] at h_sum\n  rw [\u2190 mul_assoc, \u2190 mul_assoc, div_mul_cancel _ (Nat.cast_ne_zero.2 (m.ne_zero)), mul_one] at h_sum\n  rwa [\u2190 norm_sub_rev X Y, \u2190 Real.sqrt_lt_sqrt_iff (norm_nonneg _) (mul_nonneg (le_of_lt tc_2) (norm_nonneg _)), Real.sqrt_sq (le_of_lt tc_2), Real.sqrt_mul (norm_nonneg _) (le_of_lt tc_2), Real.sqrt_sq (norm_nonneg _)]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 28, "column": 4, "endLine": 28, "endColumn": 12, "data": "tactic 'apply' failed, failed to unify\n  ?f = ?g\nwith\n  \u221a(\u2211 x : Fin m, (G X x - G Y x) ^ 2) ^ 2 = \u2211 x : Fin m, (G X x - G Y x) ^ 2\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ntc_3 :\n  \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n))),\n    ContinuousAt f X1 \u2227 ContinuousAt f X2 \u2192\n      DifferentiableOn \u211d f L \u2192 \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1)\nG : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun X => F X - (fderiv \u211d F X0) X\n\u03b4 : \u211d\nl4 :\n  \u03b4 > 0 \u2227\n    \u2200 (i : Fin m) (j : Fin n) (X : EuclideanSpace \u211d (Fin n)),\n      Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => G Y i) X) (EuclideanSpace.single j 1)| < \u03b5 / \u221a(\u2191m * \u2191n)\nl5 :\n  \u2200 (X Y : EuclideanSpace \u211d (Fin n)),\n    X \u2208 Metric.ball X0 \u03b4 \u2192\n      Y \u2208 Metric.ball X0 \u03b4 \u2192\n        \u2200 (i : Fin m),\n          \u2203 Xi \u2208 segment \u211d X Y,\n            G X i - G Y i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ => G Y_ i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)\nl6 :\n  \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)),\n    Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4\nl7 :\n  \u2200 (X Y : EuclideanSpace \u211d (Fin n)),\n    X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 (i : Fin m), (G X i - G Y i) ^ 2 < \u03b5 ^ 2 / \u2191m * Dist.dist X Y ^ 2\nX Y : EuclideanSpace \u211d (Fin n)\nhX : X \u2208 Metric.ball X0 \u03b4\nhY : Y \u2208 Metric.ball X0 \u03b4\n\u22a2 \u221a(\u2211 x : Fin m, (G X x - G Y x) ^ 2) ^ 2 = \u2211 x : Fin m, (G X x - G Y x) ^ 2"}, {"line": 30, "column": 34, "endLine": 30, "endColumn": 35, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the target expression\n  \u2016G X - G Y\u2016 ^ 2\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\ntc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 0)\n\u03b5 : \u211d\ntc_2 : 0 < \u03b5\ntc_3 :\n  \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n))),\n    ContinuousAt f X1 \u2227 ContinuousAt f X2 \u2192\n      DifferentiableOn \u211d f L \u2192 \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1)\nG : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun X => F X - (fderiv \u211d F X0) X\n\u03b4 : \u211d\nl4 :\n  \u03b4 > 0 \u2227\n    \u2200 (i : Fin m) (j : Fin n) (X : EuclideanSpace \u211d (Fin n)),\n      Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => G Y i) X) (EuclideanSpace.single j 1)| < \u03b5 / \u221a(\u2191m * \u2191n)\nl5 :\n  \u2200 (X Y : EuclideanSpace \u211d (Fin n)),\n    X \u2208 Metric.ball X0 \u03b4 \u2192\n      Y \u2208 Metric.ball X0 \u03b4 \u2192\n        \u2200 (i : Fin m),\n          \u2203 Xi \u2208 segment \u211d X Y,\n            G X i - G Y i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ => G Y_ i) Xi) (EuclideanSpace.single j 1) * (X j - Y j)\nl6 :\n  \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)),\n    Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4\nl7 :\n  \u2200 (X Y : EuclideanSpace \u211d (Fin n)),\n    X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 (i : Fin m), (G X i - G Y i) ^ 2 < \u03b5 ^ 2 / \u2191m * Dist.dist X Y ^ 2\nX Y : EuclideanSpace \u211d (Fin n)\nhX : X \u2208 Metric.ball X0 \u03b4\nhY : Y \u2208 Metric.ball X0 \u03b4\nh : \u2016G X - G Y\u2016 ^ 2 = \u2211 i : Fin m, (G X i - G Y i) ^ 2\n\u22a2 \u2016G X - G Y\u2016 < \u03b5 * \u2016X - Y\u2016"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption [l7] is perfectly captured in the Lean formalization. The component-wise inequality with the correct bounds and domain restrictions is accurately represented using appropriate Lean notation for Euclidean spaces, metric balls, and distance functions.", "The conclusion [l8] is perfectly captured. The Lean goal statement correctly represents the final inequality that should follow from summing the component-wise inequalities. The logical structure of deriving the Lipschitz-type condition from the component bounds is preserved, even though the intermediate step of summing is left to be proven in the sorry block.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_l8\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (tc_1 : ContDiffOn \u211d 1 F (Metric.ball X0 (0 : \u211d)))\n  (\u03b5 : \u211d)\n  (tc_2 : 0 < \u03b5)\n  (tc_3 : \u2200 (f : EuclideanSpace \u211d (Fin n) \u2192 \u211d) (X1 X2 : EuclideanSpace \u211d (Fin n)) (L : Set (EuclideanSpace \u211d (Fin n)))\n    (h_cont : ContinuousAt f X1 \u2227 ContinuousAt f X2) (h_diff : DifferentiableOn \u211d f L),\n    \u2203 Xc \u2208 L, Xc \u2260 X1 \u2227 Xc \u2260 X2 \u2227 f X2 - f X1 = (fderiv \u211d f Xc) (X2 - X1))\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X => F X - (fderiv \u211d F X0) X)\n  (\u03b4 : \u211d)\n  (l4 : \u03b4 > 0 \u2227 \u2200 i : Fin m, \u2200 j : Fin n, \u2200 (X : EuclideanSpace \u211d (Fin n)), Metric.ball X0 \u03b4 X \u2192 |(fderiv \u211d (fun Y => (G Y) i) X) (EuclideanSpace.single j 1)| < \u03b5 / (sqrt ((m : \u211d) * (n : \u211d))))\n  (l5 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, \u2203 Xi : EuclideanSpace \u211d (Fin n), Xi \u2208 segment \u211d X Y \u2227 (G X) i - (G Y) i = \u2211 j : Fin n, (fderiv \u211d (fun Y_ : EuclideanSpace \u211d (Fin n) => (G Y_) i) Xi) (EuclideanSpace.single j 1) * (X j - Y j))\n  (l6 : \u2200 (X Y Xi : EuclideanSpace \u211d (Fin n)), Xi \u2208 segment \u211d X Y \u2192 X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 Xi \u2208 Metric.ball X0 \u03b4)\n  (l7 : \u2200 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2192 Y \u2208 Metric.ball X0 \u03b4 \u2192 \u2200 i : Fin m, ((G X) i - (G Y) i)^2 < (\u03b5^2 / (m : \u211d)) * (dist X Y)^2) :\n  \u2203 (X Y : EuclideanSpace \u211d (Fin n)), X \u2208 Metric.ball X0 \u03b4 \u2227 Y \u2208 Metric.ball X0 \u03b4 \u2227 \u00ac (dist (G X) (G Y) < \u03b5 * dist X Y) := by\n  sorry"}, "type": "lemma"}, "l9": {"id": "l9", "natural_language": "To complete the proof, we note that $\\mathbf{F}(\\mathbf{X})-\\mathbf{F}(\\mathbf{Y})= \\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})+\\mathbf{F}'(\\mathbf{X}_0)(\\mathbf{X}-\\mathbf{Y}),$", "statement": "We assume:\n\u2022 The auxiliary function is defined as $\\mathbf{G}(\\mathbf{X})=\\mathbf{F}(\\mathbf{X})-\\mathbf{F}'(\\mathbf{X}_0)\\mathbf{X}$ [def_1].\nTherefore, we conclude:\n\u2022 By rearranging the definition of $\\mathbf{G}$, we have $\\mathbf{F}(\\mathbf{X})-\\mathbf{F}(\\mathbf{Y})= \\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})+\\mathbf{F}'(\\mathbf{X}_0)(\\mathbf{X}-\\mathbf{Y})$ [l9].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7", "l8"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l9\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X Y : EuclideanSpace \u211d (Fin n))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X') :\n  F X - F Y = (def_1 X - def_1 Y) + (fderiv \u211d F X0) (X - Y) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l9\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X Y : EuclideanSpace \u211d (Fin n))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) \n  (h_def : def_1 = fun X' => F X' - (fderiv \u211d F X0) X') :\n  F X - F Y = (def_1 X - def_1 Y) + (fderiv \u211d F X0) (X - Y) := by\n  rw [h_def]\n  simp only [sub_sub]\n  rw [sub_add_eq_sub_sub]\n  simp only [ContinuousLinearMap.map_sub]\n  ring", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 63, "endLine": 16, "endColumn": 6, "data": "unsolved goals\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 X Y : EuclideanSpace \u211d (Fin n)\ndef_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nh_def : def_1 = fun X' => F X' - (fderiv \u211d F X0) X'\n\u22a2 F X - F Y = F X - (fderiv \u211d F X0) X - (F Y - (fderiv \u211d F X0) Y) + ((fderiv \u211d F X0) X - (fderiv \u211d F X0) Y)"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The function and variable declarations correctly capture all mathematical objects from the natural language, with appropriate type specifications for vector spaces and derivatives.", "The auxiliary function definition def_1 is a perfect translation of G(X) = F(X) - F'(X\u2080)X, correctly using fderiv for the derivative and lambda notation for function definition.", "The main identity is perfectly formalized, with exact correspondence between F(X) - F(Y) = G(X) - G(Y) + F'(X\u2080)(X - Y) and the Lean equation, where def_1 represents G and fderiv represents F'(X\u2080).", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l9\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 X Y : EuclideanSpace \u211d (Fin n))\n  (def_1 : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X') :\n  \u00ac (F X - F Y = (def_1 X - def_1 Y) + (fderiv \u211d F X0) (X - Y)) := by\n  intro h\n  have h1 : def_1 X = F X - (fderiv \u211d F X0) X := rfl\n  have h2 : def_1 Y = F Y - (fderiv \u211d F X0) Y := rfl\n  rw [h1, h2] at h\n  simp at h\n  exact h"}, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "so \\eqref{eq:6.2.12} and the triangle inequality imply \\eqref{eq:6.2.8}.", "statement": "We assume:\n\u2022 For $\\mathbf{X}, \\mathbf{Y}\\in B_\\delta(\\mathbf{X}_0)$, we have $|\\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})|<\\epsilon |\\mathbf{X}-\\mathbf{Y}|$ [l8];\n\u2022 $\\mathbf{F}(\\mathbf{X})-\\mathbf{F}(\\mathbf{Y})= \\mathbf{G}(\\mathbf{X})-\\mathbf{G}(\\mathbf{Y})+\\mathbf{F}'(\\mathbf{X}_0)(\\mathbf{X}-\\mathbf{Y})$ [l9].\nTherefore, we conclude:\n\u2022 For $\\mathbf{X}, \\mathbf{Y} \\in B_\\delta(\\mathbf{X}_0)$, the inequality $|\\mathbf{F}(\\mathbf{X})-\\mathbf{F}(\\mathbf{Y})| < (\\|\\mathbf{F}'(\\mathbf{X}_{0})\\| + \\epsilon) |\\mathbf{X}-\\mathbf{Y}|$ holds [ts_1].", "dependencies": ["tc_1", "tc_2", "tc_3", "def_1", "l1", "l2", "l3", "l4", "l5", "l6", "l7", "l8", "l9"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (\u03b5 : \u211d)\n  (\u03b4 : \u211d)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X')\n  (l8 : dist (G X) (G Y) < \u03b5 * dist X Y)\n  (l9 : F X - F Y = (G X - G Y) + (fderiv \u211d F X0) (X - Y)) :\n  dist (F X) (F Y) < (\u2016fderiv \u211d F X0\u2016 + \u03b5) * dist X Y := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (\u03b5 : \u211d)\n  (\u03b4 : \u211d)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X')\n  (l8 : dist (G X) (G Y) < \u03b5 * dist X Y)\n  (l9 : F X - F Y = (G X - G Y) + (fderiv \u211d F X0) (X - Y)) :\n  dist (F X) (F Y) < (\u2016fderiv \u211d F X0\u2016 + \u03b5) * dist X Y := by\n  rw [dist_eq_norm, dist_eq_norm, dist_eq_norm] at *\n  rw [l9]\n  simp only [norm_add]\n  apply add_lt_add_of_lt_of_le\n  \u00b7 exact l8\n  \u00b7 simp only [ContinuousLinearMap.map_sub]\n    exact ContinuousLinearMap.le_opNorm (fderiv \u211d F X0) (X - Y)", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 18, "column": 34, "endLine": 18, "endColumn": 46, "data": "tactic 'rewrite' failed, did not find instance of the pattern in the current goal\nn m : \u2115\nF : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)\nX0 : EuclideanSpace \u211d (Fin n)\n\u03b5 \u03b4 : \u211d\nX Y : EuclideanSpace \u211d (Fin n)\nhX : X \u2208 Metric.ball X0 \u03b4\nhY : Y \u2208 Metric.ball X0 \u03b4\nG : optParam (EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m)) fun X' => F X' - (fderiv \u211d F X0) X'\nl8 : \u2016G X - G Y\u2016 < \u03b5 * \u2016X - Y\u2016\nl9 : F X - F Y = G X - G Y + (fderiv \u211d F X0) (X - Y)\n\u22a2 \u2016F X - F Y\u2016 < (\u2016fderiv \u211d F X0\u2016 + \u03b5) * \u2016X - Y\u2016"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Function and variable declarations correctly capture the mathematical objects with appropriate types", "Ball membership conditions are properly formalized using Metric.ball", "Function G definition is mathematically equivalent - explicit definition in Lean matches implicit definition from natural language", "Assumption l8 correctly translates the Lipschitz-type condition using dist notation", "Assumption l9 perfectly captures the decomposition relationship with proper Lean syntax for derivatives", "Conclusion ts_1 accurately formalizes the target inequality with correct operator precedence and notation", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1\n  {n m : \u2115}\n  (F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m))\n  (X0 : EuclideanSpace \u211d (Fin n))\n  (\u03b5 : \u211d)\n  (\u03b4 : \u211d)\n  (X Y : EuclideanSpace \u211d (Fin n))\n  (hX : X \u2208 Metric.ball X0 \u03b4)\n  (hY : Y \u2208 Metric.ball X0 \u03b4)\n  (G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X')\n  (l8 : dist (G X) (G Y) < \u03b5 * dist X Y)\n  (l9 : F X - F Y = (G X - G Y) + (fderiv \u211d F X0) (X - Y)) :\n  \u2203 F X0 \u03b5 \u03b4 X Y hX hY G l8 l9, \u00ac (dist (F X) (F Y) < (\u2016fderiv \u211d F X0\u2016 + \u03b5) * dist X Y) := by\n  let n := 1\n  let m := 1\n  let F : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun _ => 0\n  let X0 : EuclideanSpace \u211d (Fin n) := 0\n  let \u03b5 := (0 : \u211d)\n  let \u03b4 := (1 : \u211d)\n  let X : EuclideanSpace \u211d (Fin n) := fun _ => 1\n  let Y : EuclideanSpace \u211d (Fin n) := 0\n  have hX : X \u2208 Metric.ball X0 \u03b4 := by simp [Metric.ball, dist_eq_norm, norm_pi_le, norm_zero]\n  have hY : Y \u2208 Metric.ball X0 \u03b4 := by simp [Metric.ball, dist_eq_norm, norm_zero]\n  let G : EuclideanSpace \u211d (Fin n) \u2192 EuclideanSpace \u211d (Fin m) := fun X' => F X' - (fderiv \u211d F X0) X'\n  have l8 : dist (G X) (G Y) < \u03b5 * dist X Y := by simp [G, F, X, Y, \u03b5, dist_eq_norm]\n  have l9 : F X - F Y = (G X - G Y) + (fderiv \u211d F X0) (X - Y) := by simp [G, F, X, Y]\n  refine \u27e8F, X0, \u03b5, \u03b4, X, Y, hX, hY, G, l8, l9, ?_\u27e9\n  simp [F, X, Y, dist_eq_norm, norm_pi_le]\n  norm_num"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l7", "label": "l7", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l8", "label": "l8", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l9", "label": "l9", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l7", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l8", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l7", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "l9", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l8", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l9", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    