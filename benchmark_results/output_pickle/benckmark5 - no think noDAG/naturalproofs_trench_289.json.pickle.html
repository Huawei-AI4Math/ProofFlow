
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $\mathbf{X}$ and $\mathbf{Y}$ are
 in $\R^n,$ then
$$
|\mathbf{X}-\mathbf{Y}|\ge\left| |\mathbf{X}|-|\mathbf{Y}|\right|.
$$

We can assume the following statement(s) without a proof. 

If $\mathbf{X}$ and $\mathbf{Y}$ are in $\R^n,$ then
\begin{equation}\label{eq:5.1.6}
|\mathbf{X}+\mathbf{Y}|\le |\mathbf{X}|+|\mathbf{Y}|,
\end{equation}
with equality if and only if one of the vectors is a nonnegative
multiple of the other$.$

Proof: Since
$$
\mathbf{X}=\mathbf{Y}+(\mathbf{X}-\mathbf{Y}),
$$
Theorem~\ref{thmtype:5.1.6} implies that
$$
|\mathbf{X}|\le |\mathbf{Y}|+|\mathbf{X}-\mathbf{Y}|,
$$
which is equivalent to
$$
|\mathbf{X}|-|\mathbf{Y}|\le |\mathbf{X}-\mathbf{Y}|.
$$
Interchanging $\mathbf{X}$ and $\mathbf{Y}$  yields
$$
|\mathbf{Y}|-|\mathbf{X}|\le |\mathbf{Y}-\mathbf{X}|.
$$
Since $|\mathbf{X}-\mathbf{Y}|=|\mathbf{Y}-\mathbf{X}|$,
the last two inequalities imply the stated conclusion.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $\\mathbf{X}$ and $\\mathbf{Y}$ are in $\\R^n,$", "statement": "Premise:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly represents $\\mathbf{X}$ as a vector in $\\mathbb{R}^n$ using the type `Fin n \u2192 \u211d`, which is the standard representation of n-dimensional real vectors in Lean", "The Lean formalization correctly represents $\\mathbf{Y}$ as a vector in $\\mathbb{R}^n$ using the type `Fin n \u2192 \u211d`, which is the standard representation of n-dimensional real vectors in Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "If $\\mathbf{X}$ and $\\mathbf{Y}$ are in $\\R^n,$ then\n\\begin{equation}\\label{eq:5.1.6}\n|\\mathbf{X}+\\mathbf{Y}|\\le |\\mathbf{X}|+|\\mathbf{Y}|,\n\\end{equation}\nwith equality if and only if one of the vectors is a nonnegative\nmultiple of the other$.$", "statement": "Premise:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["The Lean formalization correctly represents X and Y as vectors in \u211d^n using the type `Fin n \u2192 \u211d`, which is the standard way to represent n-dimensional vectors in Lean. However, the condition `tc_1 : True` is a placeholder that doesn't actually encode any meaningful constraint about X and Y being vectors in \u211d^n, since this is already captured by their type declaration. The mathematical meaning is preserved through the type system, but the explicit condition tc_1 is redundant.", "The Lean formalization perfectly captures the triangle inequality. The notation \u2016\u00b7\u2016 in Lean represents the norm (equivalent to |\u00b7| in the mathematical notation), and the quantification over all vectors A, B of type `Fin n \u2192 \u211d` exactly matches the mathematical statement about vectors in \u211d^n."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: [\"The Lean formalization correctly represents X and Y as vectors in \u211d^n using the type `Fin n \u2192 \u211d`, which is the standard way to represent n-dimensional vectors in Lean. However, the condition `tc_1 : True` is a placeholder that doesn't actually encode any meaningful constraint about X and Y being vectors in \u211d^n, since this is already captured by their type declaration. The mathematical meaning is preserved through the type system, but the explicit condition tc_1 is redundant.\", 'The Lean formalization perfectly captures the triangle inequality. The notation \u2016\u00b7\u2016 in Lean represents the norm (equivalent to |\u00b7| in the mathematical notation), and the quantification over all vectors A, B of type `Fin n \u2192 \u211d` exactly matches the mathematical statement about vectors in \u211d^n.']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Since\n$$\n\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y}),\n$$", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\nTherefore, we conclude:\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016)) :\n  X = Y + (X - Y) := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016)) :\n  X = Y + (X - Y) := by\n  ext i\n  simp [Pi.add_apply, Pi.sub_apply, sub_add_cancel]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Vector declarations are correctly formalized using Fin n \u2192 \u211d representation", "Triangle inequality is properly captured using norm notation \u2016\u00b7\u2016 which is standard for vectors", "The vector identity is perfectly translated from natural language to Lean", "The tc_1 placeholder doesn't affect logical meaning and the overall formalization captures all mathematical content accurately"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "Theorem~\\ref{thmtype:5.1.6} implies that\n$$\n|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|,\n$$", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].\nTherefore, we conclude:\n\u2022 $|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|$ [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y)) :\n  \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y)) :\n  \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016 := by\n  rw [l1]\n  simp only [add_sub_cancel']\n  exact tc_2 Y (X - Y)", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Vector declarations are correctly formalized using Fin n \u2192 \u211d, which is the standard representation of n-dimensional real vectors in Lean", "Triangle inequality is correctly captured with norm notation \u2016\u00b7\u2016 instead of |\u00b7|, which is semantically equivalent for vector norms", "Vector identity assumption is directly and accurately translated", "Conclusion correctly uses norm notation and maintains the same logical structure as the natural language statement"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "which is equivalent to\n$$\n|\\mathbf{X}|-|\\mathbf{Y}|\\le |\\mathbf{X}-\\mathbf{Y}|.\n$$", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].\n\u2022 $|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|$ [l2].\nTherefore, we conclude:\n\u2022 $|\\mathbf{X}|-|\\mathbf{Y}|\\le |\\mathbf{X}-\\mathbf{Y}|$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016) :\n  \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016) :\n  \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016 := by\n  linarith [l2]", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Vector types are correctly represented using Fin n \u2192 \u211d which is the standard way to represent vectors in \u211d\u207f in Lean", "Triangle inequality assumption is perfectly captured with universal quantification over all vectors", "Vector identity X = Y + (X - Y) is preserved exactly in both algebraic structure and meaning", "Intermediate inequality \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016 matches the natural language statement precisely", "Target conclusion \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016 is correctly formalized", "Notation \u2016\u00b7\u2016 vs |\u00b7| represents the same mathematical concept (vector norm) and is standard in Lean", "Overall logical structure and proof flow from assumptions to conclusion is faithfully preserved"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Interchanging $\\mathbf{X}$ and $\\mathbf{Y}$  yields\n$$\n|\\mathbf{Y}|-|\\mathbf{X}|\\le |\\mathbf{Y}-\\mathbf{X}|.\n$$", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].\n\u2022 $|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|$ [l2].\n\u2022 $|\\mathbf{X}|-|\\mathbf{Y}|\\le |\\mathbf{X}-\\mathbf{Y}|$ [l3].\nTherefore, we conclude:\n\u2022 $|\\mathbf{Y}|-|\\mathbf{X}|\\le |\\mathbf{Y}-\\mathbf{X}|$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016) :\n  \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016) :\n  \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016 := by\n  have h : \u2016Y - X\u2016 = \u2016X - Y\u2016 := by simp [norm_sub_rev]\n  rw [h, sub_le_iff_le_add]\n  exact l2", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 2, "endLine": 15, "endColumn": 10, "data": "type mismatch\n  l2\nhas type\n  \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016 : Prop\nbut is expected to have type\n  \u2016Y\u2016 \u2264 \u2016X - Y\u2016 + \u2016X\u2016 : Prop"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The Lean formalization correctly captures all mathematical content from the natural language. The use of \u2016\u00b7\u2016 notation instead of |\u00b7| is appropriate and standard for vector norms in Lean/Mathlib. All assumptions (vector declarations, triangle inequality, vector identity, inequalities) and the conclusion are properly formalized. The placeholder tc_1 : True doesn't affect the logical meaning.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma not_l4 :\n  \u00ac \u2200 {n : \u2115} (X Y : Fin n \u2192 \u211d),\n    True \u2192\n    (\u2200 (A B : Fin n \u2192 \u211d), \u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016) \u2192\n    (X = Y + (X - Y)) \u2192\n    (\u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016) \u2192\n    (\u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016) \u2192\n    (\u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016) := by\n  intro h\n  let X : Fin 1 \u2192 \u211d := fun _ => 1\n  let Y : Fin 1 \u2192 \u211d := fun _ => 0\n  have h' := h X Y trivial (by simp) (by simp) (by simp) (by simp)\n  simp [norm, Pi.norm_def] at h'\n  linarith"}, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "Since $|\\mathbf{X}-\\mathbf{Y}|= |\\mathbf{Y}-\\mathbf{X}|$,", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].\n\u2022 $|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|$ [l2].\n\u2022 $|\\mathbf{X}|-|\\mathbf{Y}|\\le |\\mathbf{X}-\\mathbf{Y}|$ [l3].\n\u2022 $|\\mathbf{Y}|-|\\mathbf{X}|\\le |\\mathbf{Y}-\\mathbf{X}|$ [l4].\nTherefore, we conclude:\n\u2022 $|\\mathbf{X}-\\mathbf{Y}|= |\\mathbf{Y}-\\mathbf{X}|$ [l5].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016)\n  (l4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016) :\n  \u2016X - Y\u2016 = \u2016Y - X\u2016 := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l5\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016)\n  (l4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016) :\n  \u2016X - Y\u2016 = \u2016Y - X\u2016 := by\n  rw [\u2190 norm_neg (X - Y)]\n  simp", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Vector space representation using Fin n \u2192 \u211d correctly captures n-dimensional real vectors", "Triangle inequality is perfectly formalized with universal quantification and norm notation", "Vector identity l1 is exactly translated with proper algebraic structure", "Inequality l2 correctly uses norm notation and maintains the exact mathematical relationship", "Inequality l3 perfectly captures the difference of norms bound", "Inequality l4 correctly represents the symmetric version with Y and X swapped", "The conclusion l5 perfectly matches the natural language statement about norm symmetry"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Since $|\\mathbf{X}-\\mathbf{Y}|= |\\mathbf{Y}-\\mathbf{X}|$,\nthe last two inequalities imply the stated conclusion.", "statement": "We assume:\n\u2022 $\\mathbf{X}$ and $\\mathbf{Y}$ are vectors in $\\R^n$ [tc_1].\n\u2022 For any vectors $\\mathbf{A}, \\mathbf{B}$ in $\\R^n$, the triangle inequality holds: $|\\mathbf{A}+\\mathbf{B}|\\le |\\mathbf{A}|+|\\mathbf{B}|$ [tc_2].\n\u2022 The vector identity $\\mathbf{X}=\\mathbf{Y}+(\\mathbf{X}-\\mathbf{Y})$ holds [l1].\n\u2022 $|\\mathbf{X}|\\le |\\mathbf{Y}|+|\\mathbf{X}-\\mathbf{Y}|$ [l2].\n\u2022 $|\\mathbf{X}|-|\\mathbf{Y}|\\le |\\mathbf{X}-\\mathbf{Y}|$ [l3].\n\u2022 $|\\mathbf{Y}|-|\\mathbf{X}|\\le |\\mathbf{Y}-\\mathbf{X}|$ [l4].\n\u2022 $|\\mathbf{X}-\\mathbf{Y}|= |\\mathbf{Y}-\\mathbf{X}|$ [l5].\nTherefore, we conclude:\n\u2022 $|\\mathbf{X}-\\mathbf{Y}|\\ge\\left| |\\mathbf{X}|-|\\mathbf{Y}|\\right|$ [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "l3", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016)\n  (l4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016)\n  (l5 : \u2016X - Y\u2016 = \u2016Y - X\u2016) :\n  \u2016X - Y\u2016 \u2265 |\u2016X\u2016 - \u2016Y\u2016| := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n : \u2115} (X Y : Fin n \u2192 \u211d)\n  (tc_1 : True)\n  (tc_2 : \u2200 (A B : Fin n \u2192 \u211d), (\u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016))\n  (l1 : X = Y + (X - Y))\n  (l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016)\n  (l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016)\n  (l4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016)\n  (l5 : \u2016X - Y\u2016 = \u2016Y - X\u2016) :\n  \u2016X - Y\u2016 \u2265 |\u2016X\u2016 - \u2016Y\u2016| := by\n  rw [\u2190Real.norm_sub_norm_le]\n  constructor\n  \u00b7 rw [sub_le_iff_le_add]\n    exact l3\n  \u00b7 rw [\u2190neg_sub, neg_le]\n    rw [\u2190l5]\n    exact l4", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 15, "column": 7, "endLine": 15, "endColumn": 28, "data": "unknown constant 'Real.norm_sub_norm_le'"}, {"line": 15, "column": 6, "endLine": 15, "endColumn": 28, "data": "tactic 'rewrite' failed, equality or iff proof expected\n  ?m.892\nn : \u2115\nX Y : Fin n \u2192 \u211d\ntc_1 : True\ntc_2 : \u2200 (A B : Fin n \u2192 \u211d), \u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016\nl1 : X = Y + (X - Y)\nl2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016\nl3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016\nl4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016\nl5 : \u2016X - Y\u2016 = \u2016Y - X\u2016\n\u22a2 \u2016X - Y\u2016 \u2265 |\u2016X\u2016 - \u2016Y\u2016|"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["Vector declarations correctly use Lean's function type notation Fin n \u2192 \u211d to represent vectors in \u211d\u207f", "Triangle inequality is perfectly captured with universal quantification over vectors and norm notation", "Vector identity X = Y + (X - Y) is directly translated", "Inequality l2 correctly uses norm notation instead of absolute value bars", "Inequality l3 is perfectly matched", "Inequality l4 is perfectly matched", "Symmetry property l5 is correctly formalized", "The conclusion correctly captures the reverse triangle inequality, with |\u2016X\u2016 - \u2016Y\u2016| representing the absolute value of the difference of norms", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma neg_ts_1 :\n  \u00ac \u2200 {n : \u2115} (X Y : Fin n \u2192 \u211d),\n    True \u2192\n    (\u2200 (A B : Fin n \u2192 \u211d), \u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016) \u2192\n    (X = Y + (X - Y)) \u2192\n    (\u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016) \u2192\n    (\u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016) \u2192\n    (\u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016) \u2192\n    (\u2016X - Y\u2016 = \u2016Y - X\u2016) \u2192\n    (\u2016X - Y\u2016 \u2265 |\u2016X\u2016 - \u2016Y\u2016|) := by\n  intro h\n  let X : Fin 1 \u2192 \u211d := fun _ => 1\n  let Y : Fin 1 \u2192 \u211d := fun _ => -1\n  have hX : \u2016X\u2016 = 1 := by simp [norm_eq_abs, abs_one]\n  have hY : \u2016Y\u2016 = 1 := by simp [norm_eq_abs, abs_one]\n  have hXY : \u2016X - Y\u2016 = 2 := by\n    simp [norm_eq_abs, Pi.sub_apply]\n    rw [abs_sub_comm]\n    simp [abs_one]\n  have tc_2 : \u2200 (A B : Fin 1 \u2192 \u211d), \u2016A + B\u2016 \u2264 \u2016A\u2016 + \u2016B\u2016 := by\n    intros A B\n    exact norm_add_le _ _\n  have l1 : X = Y + (X - Y) := by simp [sub_add_cancel]\n  have l2 : \u2016X\u2016 \u2264 \u2016Y\u2016 + \u2016X - Y\u2016 := by linarith [hX, hY, hXY]\n  have l3 : \u2016X\u2016 - \u2016Y\u2016 \u2264 \u2016X - Y\u2016 := by linarith [hX, hY, hXY]\n  have l4 : \u2016Y\u2016 - \u2016X\u2016 \u2264 \u2016Y - X\u2016 := by\n    rw [\u2190norm_neg (X - Y), neg_sub]\n    linarith [hX, hY, hXY]\n  have l5 : \u2016X - Y\u2016 = \u2016Y - X\u2016 := norm_sub _ _\n  have := h X Y trivial tc_2 l1 l2 l3 l4 l5\n  rw [hX, hY, hXY] at this\n  simp at this\n  linarith"}, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#FFA500", "highlight": {"background": "#a3c2a8", "border": "#FFA500"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    