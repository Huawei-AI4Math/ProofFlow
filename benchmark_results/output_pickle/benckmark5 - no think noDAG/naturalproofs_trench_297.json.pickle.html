
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $f$ is bounded and continuous on a
bounded Jordan measurable set $S,$ then $f$ is integrable on $S.$

Proof: Since $V(K)=0$,
$$
\int_C\psi_K(\mathbf{X})\,d\mathbf{X}=0
$$
if $C$ is any cube containing $K$. From this and the
definition of the integral, there is a $\delta>0$ such that if ${\bf
P}$ is any partition of $C$ with $\|{\bf P}\|\le\delta$ and $\sigma$
is any Riemann sum of $\psi_K$ over ${\bf P}$, then
\begin{equation}\label{eq:7.3.6}
0\le\sigma\le\epsilon.
\end{equation}

ewpage

oindent
Now suppose that  ${\bf P}=\{C_1,C_2,\dots,C_k\}$ is a partition of $C$
into cubes with
\begin{equation}\label{eq:7.3.7}
\|{\bf P}\|<\min (\rho,\delta),
\end{equation}
and let $C_1$, $C_2$, \dots, $C_k$ be numbered so that $C_j\cap K
e
\emptyset$ if $1\le j\le r$  and
$C_j\cap K=\emptyset$ if $r+1\le j\le k$. Then \eqref{eq:7.3.5} holds, and
a typical Riemann sum of $\psi_K$ over ${\bf P}$ is of the form
$$
\sigma=\sum_{j=1}^r\psi_K(\mathbf{X}_j)V(C_j)
$$
with $\mathbf{X}_j\in C_j$, $1\le j\le r$. In particular, we
can choose
$\mathbf{X}_j$ from $K$, so that $\psi_K(\mathbf{X}_j)=1$,  and
$$
\sigma=\sum_{j=1}^r V(C_j).
$$
Now \eqref{eq:7.3.6} and \eqref{eq:7.3.7} imply that $C_1$, $C_2$, \dots,
$C_r$ have the required properties.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Since V(K)=0,", "statement": "Premise:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115}\n  (K : Set (EuclideanSpace \u211d (Fin n)))\n  (tc_1 : (JordanContent K) = 0)", "lean_pass": false, "error_msg": [{"line": 8, "column": 11, "endLine": 8, "endColumn": 26, "data": "function expected at\n  JordanContent\nterm has type\n  ?m.11"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "if C is any cube containing K.", "statement": "Premise:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable\n  {n : \u2115} (K : Set (EuclideanSpace \u211d (Fin n))) (C : Box (EuclideanSpace \u211d (Fin n)))\n  (tc_1 : JordanContent K = 0)\n  (tc_2 : K \u2286 C.toSet)", "lean_pass": false, "error_msg": [{"line": 6, "column": 52, "endLine": 6, "endColumn": 82, "data": "function expected at\n  Box\nterm has type\n  ?m.10"}, {"line": 7, "column": 10, "endLine": 7, "endColumn": 25, "data": "function expected at\n  JordanContent\nterm has type\n  ?m.25"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "Since V(K)=0, \u222b_C\u03c8_K(X)dX=0 if C is any cube containing K.", "statement": "We assume:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].\nTherefore, we conclude:\n\u2022 The integral of the characteristic function of $K$, $\\psi_K$, over $C$ is zero: $\\int_C \\psi_K(\\mathbf{X})\\,d\\mathbf{X}=0$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {n : \u2115} {E : Type*} [NormedAddCommGroup E] [InnerProductSpace \u211d E] [MeasurableSpace E] [FiniteDimensional \u211d E]\n  [MeasureSpace E]\n  (K C : Set E)\n  (tc_1 : JordanContent K = 0)\n  (tc_2 : K \u2286 C) :\n  \u222b x in C, (Set.indicator K (fun _ => (1 : \u211d))) x = 0 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 3, "endLine": 7, "endColumn": 17, "data": "invalid binder annotation, type is not a class instance\n  ?m.929\nuse the command `set_option checkBinderAnnotations false` to disable the check"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib.MeasureTheory.Measure.Lebesgue.Basic\nimport Mathlib.MeasureTheory.Integral.IntegrableOn\n\nopen MeasureTheory Set\n\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l1\n  {E : Type*} [NormedAddCommGroup E] [NormedSpace \u211d E] [MeasurableSpace E] [FiniteDimensional \u211d E]\n  [BorelSpace E] (\u03bc : Measure E) [IsAddHaarMeasure \u03bc]\n  (K C : Set E)\n  (tc_1 : \u03bc K = 0)\n  (tc_2 : K \u2286 C) :\n  \u222b x in C, (indicator K (fun _ => (1 : \u211d))) x \u2202\u03bc = 0 := by\n  rw [integral_indicator (measurableSet_of_isOpen (isOpen_discrete K))]\n  simp [tc_1]", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 3, "column": 0, "endLine": 3, "endColumn": 6, "data": "invalid 'import' command, it must be used in the beginning of the file"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "From this and the definition of the integral, there is a $\\delta>0$ such that if ${\\bf P}$ is any partition of $C$ with $\\|{\\bf P}\\|\\le\\delta$ and $\\sigma$ is any Riemann sum of $\\psi_K$ over ${\\bf P}$, then $0\\le\\sigma\\le\\epsilon$.", "statement": "We assume:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].\n\u2022 $\\int_C \\psi_K(\\mathbf{X})\\,d\\mathbf{X}=0$ [l1].\nTherefore, we conclude:\n\u2022 For any $\\epsilon > 0$, there exists a $\\delta > 0$ such that if $\\mathbf{P}$ is any partition of $C$ with norm $\\|\\mathbf{P}\\| \\le \\delta$, then any Riemann sum $\\sigma$ of $\\psi_K$ over $\\mathbf{P}$ satisfies $0 \\le \\sigma \\le \\epsilon$ [l2].", "dependencies": ["tc_1", "tc_2", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n : \u2115} (K : Set (EuclideanSpace \u211d n)) (C : Box (EuclideanSpace \u211d n))\n  (tc_1 : JordanContent K = 0)\n  (tc_2 : K \u2286 C.toSet)\n  (l1 : \u222b x in C.measurableSet, (K.indicator (fun _ => (1 : \u211d))) x = 0) :\n  \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 P : BoxPartition C, P.isSubpartitionOf C \u2192 P.norm \u2264 \u03b4 \u2192\n    \u2200 \u03c3 : \u211d, (\u2200 (j : Fin P.boxes.card), \u2203 (x_j : EuclideanSpace \u211d n), x_j \u2208 (P.boxes.get j).toSet \u2227 \u03c3 = \u2211 i' in Finset.univ, (K.indicator (fun _ => (1 : \u211d))) (P.boxes.get i').center * (P.boxes.get i').volume) \u2192\n    0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 6, "column": 37, "endLine": 6, "endColumn": 38, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.4295 : Type (?u.4295 + 1)"}, {"line": 11, "column": 66, "endLine": 11, "endColumn": 67, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.6992 : Type (?u.6992 + 1)"}, {"line": 6, "column": 46, "endLine": 6, "endColumn": 70, "data": "function expected at\n  Box\nterm has type\n  ?m.829"}, {"line": 7, "column": 10, "endLine": 7, "endColumn": 25, "data": "function expected at\n  JordanContent\nterm has type\n  ?m.1663"}, {"line": 10, "column": 26, "endLine": 10, "endColumn": 40, "data": "function expected at\n  BoxPartition\nterm has type\n  ?m.4289"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib.MeasureTheory.Integral.IntervalIntegral\nimport Mathlib.MeasureTheory.Measure.Lebesgue.Basic\nimport Mathlib.Analysis.BoxIntegral.Basic\n\nopen MeasureTheory BoxIntegral\n\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l2\n  {n : \u2115} (K : Set (Fin n \u2192 \u211d)) (C : Box (Fin n))\n  (tc_1 : volume K = 0)\n  (tc_2 : K \u2286 C)\n  (l1 : \u222b x in C, (Set.indicator K (fun _ => (1 : \u211d))) x \u2202volume = 0) :\n  \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 P : Prepartition C, P.IsPartition \u2192 P.diameter \u2264 \u03b4 \u2192\n    \u2200 \u03c3 : \u211d, (\u03c3 = \u2211 J in P.boxes, (Set.indicator K (fun _ => (1 : \u211d))) (\u03c0 J) * volume J) \u2192\n    0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5 := by\n  sorry", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 3, "column": 0, "endLine": 3, "endColumn": 6, "data": "invalid 'import' command, it must be used in the beginning of the file"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "Now suppose that  ${\\bf P}=\\{C_1,C_2,\\dots,C_k\\}$ is a partition of $C$ into cubes with $\\|{\\bf P}\\|<\\min(\\rho,\\delta)$, and let $C_1$, $C_2$, \\dots, $C_k$ be numbered so that $C_j\\cap K\\ne \\emptyset$ if $1\\le j\\le r$  and $C_j\\cap K=\\emptyset$ if $r+1\\le j\\le k$.", "statement": "Definition:\n\u2022 Let $\\rho > 0$ be a given constant.\n\u2022 Let $\\mathbf{P}=\\{C_1,C_2,\\dots,C_k\\}$ be a partition of $C$ into cubes with norm satisfying $\\|\\mathbf{P}\\| < \\min (\\rho,\\delta)$, where $\\delta$ is the value from [l2] for a given $\\epsilon > 0$.\n\u2022 The subcubes $C_j$ are numbered such that $C_j \\cap K \\ne \\emptyset$ for $1 \\le j \\le r$ and $C_j \\cap K = \\emptyset$ for $r+1 \\le j \\le k$ [def_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter MeasureTheory\n\n-- Define JordanContent and IsCube if not in Mathlib\n-- This is a placeholder, you might need to provide actual definitions\n\nclass JordanContent (s : Set \u03b1) : Prop := by sorry\nclass IsCube (s : Set \u03b1) : Prop := by sorry\nclass IsPartition (C : Set \u03b1) (P : List (Set \u03b1)) : Prop := by sorry\nclass RiemannSums (P : List (Set \u03b1)) (f : \u03b1 \u2192 \u211d) : Type _ := by sorry\n\nvariable\n  {n : \u2115} {\u03b1 : Type*} [MeasurableSpace \u03b1] [MetricSpace \u03b1] [CompleteSpace \u03b1] [ProperSpace \u03b1] [MeasureSpace \u03b1]\n  (K C : Set \u03b1)\n  (tc_1 : JordanContent K) -- Fix: no = 0, JordanContent is a Prop\n  (tc_2 : IsCube C \u2227 K \u2286 C)\n  (l1 : \u222b x in C, K.indicator (fun _ : \u03b1 => (1:\u211d)) x \u2202volume = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P_list : List (Set \u03b1)) (hP_partition : IsPartition C P_list) (hP_cubes : \u2200 C_j \u2208 P_list, IsCube C_j) (h_norm : Filter.sSup (P_list.map volume) \u2264 \u03b4), \u2200 (\u03c3 : \u211d), (\u03c3 \u2208 RiemannSums P_list (K.indicator (fun _ : \u03b1 => (1:\u211d)))) \u2192 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5)\n  (\u03c1 : \u211d) (h\u03c1 : \u03c1 > 0)\n  (P : List (Set \u03b1)) (hP_partition : IsPartition C P) (k : \u2115) (hP_cubes : \u2200 C_j \u2208 P, IsCube C_j) (hP_card : P.length = k)\n  (hP_norm : Filter.sSup (P.map volume) < min \u03c1 (Classical.choose (l2 (RCLike.ofReal 0) (by linarith) P hP_partition hP_cubes (by sorry)))) -- Added (by sorry) for h_norm in l2\n  (r : \u2115)\n  (def_1 : \u2200 j_val : Fin k, (P.get j_val).nonempty \u2194 j_val.val < r) -- Changed get' to get", "lean_pass": false, "error_msg": [{"line": 8, "column": 42, "endLine": 8, "endColumn": 44, "data": "unexpected token 'by'; expected command"}, {"line": 9, "column": 35, "endLine": 9, "endColumn": 37, "data": "unexpected token 'by'; expected command"}, {"line": 10, "column": 59, "endLine": 10, "endColumn": 61, "data": "unexpected token 'by'; expected command"}, {"line": 11, "column": 61, "endLine": 11, "endColumn": 63, "data": "unexpected token 'by'; expected command"}, {"line": 19, "column": 140, "endLine": 19, "endColumn": 171, "data": "unknown constant 'Filter.sSup'"}, {"line": 19, "column": 190, "endLine": 19, "endColumn": 247, "data": "failed to synthesize\n  Membership \u211d Type\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 22, "column": 13, "endLine": 22, "endColumn": 39, "data": "unknown constant 'Filter.sSup'"}, {"line": 24, "column": 35, "endLine": 24, "endColumn": 40, "data": "application type mismatch\n  P.get j_val\nargument\n  j_val\nhas type\n  Fin k : Type\nbut is expected to have type\n  Fin P.length : Type"}, {"line": 22, "column": 92, "endLine": 22, "endColumn": 100, "data": "linarith failed to find a contradiction\ncase h\nn : \u2115\n\u03b1 : Type u_1\ninst\u271d\u2074 : MeasurableSpace \u03b1\ninst\u271d\u00b3 : MetricSpace \u03b1\ninst\u271d\u00b2 : CompleteSpace \u03b1\ninst\u271d\u00b9 : ProperSpace \u03b1\ninst\u271d : MeasureSpace \u03b1\nK C : Set \u03b1\ntc_1 : JordanContent K\ntc_2 : IsCube C \u2227 K \u2286 C\nl1 : \u222b (x : \u03b1) in C, K.indicator (fun x => 1) x = 0\nl2 :\n  \u2200 \u03b5 > 0,\n    \u2203 \u03b4 > 0,\n      \u2200 (P_list : List (Set \u03b1)),\n        IsPartition C P_list \u2192 (\u2200 C_j \u2208 P_list, IsCube C_j) \u2192 sorry \u2264 \u03b4 \u2192 \u2200 (\u03c3 : \u211d), sorry \u2192 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5\n\u03c1 : \u211d\nh\u03c1 : \u03c1 > 0\nP : List (Set \u03b1)\nhP_partition : IsPartition C P\nk : \u2115\nhP_cubes : \u2200 C_j \u2208 P, IsCube C_j\nhP_card : P.length = k\na\u271d : 0 \u2265 \u21910\n\u22a2 False failed"}], "tries": 5}, "solved_lemma": {}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "type": "definition"}, "l3": {"id": "l3", "natural_language": "a typical Riemann sum of $\\psi_K$ over ${\\bf P}$ is of the form $\\sigma=\\sum_{j=1}^r\\psi_K(\\mathbf{X}_j)V(C_j)$ with $\\mathbf{X}_j\\in C_j$, $1\\le j\\le r$.", "statement": "We assume:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].\n\u2022 $\\int_C \\psi_K(\\mathbf{X})\\,d\\mathbf{X}=0$ [l1].\n\u2022 For $\\epsilon>0$, there's a $\\delta>0$ s.t. for a partition $\\mathbf{P}$ with $\\|\\mathbf{P}\\| \\le \\delta$, its Riemann sum $\\sigma$ satisfies $0 \\le \\sigma \\le \\epsilon$ [l2].\n\u2022 We have a partition $\\mathbf{P}=\\{C_1,..,C_k\\}$ with $\\|\\mathbf{P}\\| < \\min(\\rho,\\delta)$ and cubes are numbered such that $C_j \\cap K \\ne \\emptyset$ for $1 \\le j \\le r$ and $C_j \\cap K = \\emptyset$ for $j > r$ [def_1].\nTherefore, we conclude:\n\u2022 Any Riemann sum of $\\psi_K$ over the partition $\\mathbf{P}$ simplifies to $\\sigma=\\sum_{j=1}^r\\psi_K(\\mathbf{X}_j)V(C_j)$ for any choice of sample points $\\mathbf{X}_j \\in C_j$ [l3].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n : \u2115}\n  (K : Set (EuclideanSpace \u211d n)) (C : Box (EuclideanSpace \u211d n)) (\u03c8_K : EuclideanSpace \u211d n \u2192 \u211d)\n  (P : Box.Partition (EuclideanSpace \u211d n)) (k : \u2115) (C_cubes : Fin k \u2192 Box (EuclideanSpace \u211d n)) (P_norm : \u211d)\n  (r : \u2115) (X : Fin k \u2192 EuclideanSpace \u211d n) (P_boxes_eq_C_cubes : P.boxes = (Finset.univ.image C_cubes).toSet)\n  (tc_1 : JordanContent K = 0)\n  (tc_2 : K \u2286 C.toSet)\n  (l1 : \u222b x in C.toSet, \u03c8_K x = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P' : Box.Partition (EuclideanSpace \u211d n)), P'.norm \u2264 \u03b4 \u2192 \u2200 \u03c3 : \u211d, (\u2203 (X' : Fin P'.boxes.card \u2192 EuclideanSpace \u211d n), \u03c3 = P'.riemannSum \u03c8_K X') \u2192 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5)\n  (def_1 : \u2203 (rho delta : \u211d), rho > 0 \u2227 delta > 0 \u2227 P_norm < min rho delta \u2227 (\u2200 j : Fin k, (j.val < r \u2192 (C_cubes j).toSet \u2229 K \u2260 \u2205) \u2227 (j.val \u2265 r \u2192 (C_cubes j).toSet \u2229 K = \u2205))) :\n  (P.riemannSum \u03c8_K X) = \u2211 j in Finset.range r, \u03c8_K (X j) * (C_cubes j).volume := by\nsorry", "lean_pass": false, "error_msg": [{"line": 7, "column": 29, "endLine": 7, "endColumn": 30, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.4359 : Type (?u.4359 + 1)"}, {"line": 7, "column": 88, "endLine": 7, "endColumn": 89, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.5186 : Type (?u.5186 + 1)"}, {"line": 9, "column": 40, "endLine": 9, "endColumn": 41, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.6026 : Type (?u.6026 + 1)"}, {"line": 13, "column": 140, "endLine": 13, "endColumn": 141, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.9899 : Type (?u.9899 + 1)"}, {"line": 15, "column": 55, "endLine": 15, "endColumn": 56, "data": "application type mismatch\n  X j\nargument\n  j\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Fin k : Type"}, {"line": 7, "column": 38, "endLine": 7, "endColumn": 62, "data": "function expected at\n  Box\nterm has type\n  ?m.829"}, {"line": 8, "column": 7, "endLine": 8, "endColumn": 41, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  Box\nhas type\n  ?m.829"}, {"line": 8, "column": 70, "endLine": 8, "endColumn": 94, "data": "function expected at\n  Box\nterm has type\n  ?m.829"}, {"line": 10, "column": 10, "endLine": 10, "endColumn": 25, "data": "function expected at\n  JordanContent\nterm has type\n  ?m.4353"}, {"line": 13, "column": 34, "endLine": 13, "endColumn": 68, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  Box\nhas type\n  ?m.829"}, {"line": 15, "column": 69, "endLine": 15, "endColumn": 70, "data": "application type mismatch\n  C_cubes j\nargument\n  j\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Fin k : Type"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l3\n  {n : \u2115}\n  (K : Set (Fin n \u2192 \u211d)) (C : Set (Fin n \u2192 \u211d)) (\u03c8_K : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (P : TaggedPrepartition C) (k : \u2115) (C_cubes : Fin k \u2192 Set (Fin n \u2192 \u211d)) (P_norm : \u211d)\n  (r : \u2115) (X : Fin k \u2192 Fin n \u2192 \u211d) (P_boxes_eq_C_cubes : P.boxes = Finset.image C_cubes Finset.univ)\n  [DecidableEq (Set (Fin n \u2192 \u211d))]\n  (tc_1 : volume K = 0)\n  (tc_2 : K \u2286 C)\n  (l1 : \u222b x in C, \u03c8_K x = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P' : TaggedPrepartition C), P'.norm \u2264 \u03b4 \u2192 \u2200 \u03c3 : \u211d, (\u2203 (X' : Fin P'.boxes.card \u2192 Fin n \u2192 \u211d), \u03c3 = P'.riemannSum \u03c8_K X') \u2192 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5)\n  (def_1 : \u2203 (rho delta : \u211d), rho > 0 \u2227 delta > 0 \u2227 P_norm < min rho delta \u2227 (\u2200 j : Fin k, (j.val < r \u2192 (C_cubes j) \u2229 K \u2260 \u2205) \u2227 (j.val \u2265 r \u2192 (C_cubes j) \u2229 K = \u2205))) :\n  (P.riemannSum \u03c8_K X) = \u2211 j in Finset.range r, \u03c8_K (X \u27e8j.val, by omega\u27e9) * volume (C_cubes \u27e8j.val, by omega\u27e9) := by\n  simp only [TaggedPrepartition.riemannSum, P_boxes_eq_C_cubes]\n  have h : \u2200 j \u2208 Finset.univ, \u03c8_K (X j) * volume (C_cubes j) = if j.val < r then \u03c8_K (X j) * volume (C_cubes j) else 0 := by\n    intro j hj\n    rcases def_1 with \u27e8rho, delta, hrho, hdelta, hP, h\u27e9\n    simp only [Finset.mem_univ] at hj\n    cases lt_or_ge j.val r with\n    | inl hj' =>\n      simp [hj']\n      have := (h j).1 hj'\n      simp [this]\n    | inr hj' =>\n      simp [hj']\n      have := (h j).2 hj'\n      simp [this]\n  simp_rw [h]\n  rw [Finset.sum_ite]\n  simp only [Finset.mem_range, Finset.sum_const_zero, add_zero]\n  congr\n  ext j\n  split_ifs with hj\n  \u00b7 rfl\n  \u00b7 simp", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 9, "column": 66, "endLine": 9, "endColumn": 98, "data": "failed to synthesize\n  DecidableEq (Set (Fin n \u2192 \u211d))\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}, {"line": 16, "column": 56, "endLine": 16, "endColumn": 61, "data": "invalid field 'val', the environment does not contain 'Nat.val'\n  j\nhas type\n  \u2115"}, {"line": 8, "column": 7, "endLine": 8, "endColumn": 27, "data": "function expected at\n  TaggedPrepartition\nterm has type\n  ?m.23"}, {"line": 11, "column": 10, "endLine": 11, "endColumn": 18, "data": "function expected at\n  volume\nterm has type\n  ?m.4090"}, {"line": 14, "column": 34, "endLine": 14, "endColumn": 54, "data": "function expected at\n  TaggedPrepartition\nterm has type\n  ?m.23"}, {"line": 16, "column": 76, "endLine": 16, "endColumn": 110, "data": "function expected at\n  volume\nterm has type\n  ?m.4090"}, {"line": 16, "column": 66, "endLine": 16, "endColumn": 71, "data": "omega could not prove the goal:\nNo usable constraints found. You may need to unfold definitions so `omega` can see linear arithmetic facts about `Nat` and `Int`, which may also involve multiplication, division, and modular remainder by constants."}, {"line": 17, "column": 13, "endLine": 17, "endColumn": 42, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  TaggedPrepartition\nhas type\n  x\u271d\u00b9"}, {"line": 17, "column": 2, "endLine": 17, "endColumn": 63, "data": "simp made no progress"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "In particular, we can choose $\\mathbf{X}_j$ from $K$, so that $\\psi_K(\\mathbf{X}_j)=1$,  and $\\sigma=\\sum_{j=1}^r V(C_j)$.", "statement": "We assume:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].\n\u2022 $\\int_C \\psi_K(\\mathbf{X})\\,d\\mathbf{X}=0$ [l1].\n\u2022 For $\\epsilon>0$, there's a $\\delta>0$ s.t. for a partition $\\mathbf{P}$ with $\\|\\mathbf{P}\\| \\le \\delta$, its Riemann sum $\\sigma$ satisfies $0 \\le \\sigma \\le \\epsilon$ [l2].\n\u2022 We have a partition $\\mathbf{P}=\\{C_1,..,C_k\\}$ with $\\|\\mathbf{P}\\| < \\min(\\rho,\\delta)$ and cubes are numbered such that $C_j \\cap K \\ne \\emptyset$ for $1 \\le j \\le r$ [def_1].\n\u2022 Any Riemann sum of $\\psi_K$ over $\\mathbf{P}$ is $\\sigma=\\sum_{j=1}^r\\psi_K(\\mathbf{X}_j)V(C_j)$ [l3].\nTherefore, we conclude:\n\u2022 A specific Riemann sum $\\sigma$ can be constructed, which evaluates to $\\sigma = \\sum_{j=1}^r V(C_j)$ [l4].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "def_1", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma l4\n  {n : \u2115} {E : Type*} [NormedAddCommGroup E] [MeasurableSpace E] [FiniteDimensional \u211d E] [Module \u211d E]\n  (K C : Set E) (V : Set E \u2192 \u211d)\n  (psi_K : E \u2192 \u211d) (is_char_K : \u2200 x, psi_K x = if x \u2208 K then 1 else 0)\n  (rho delta : \u211d) (epsilon : \u211d)\n  (P : List (Set E)) (k : \u2115) (hk : P.length = k)\n  (C_j : Fin k \u2192 Set E) (hC_j : \u2200 i, C_j i = P.get i)\n  (r : \u2115) (hr : r \u2264 k)\n  (tc_1 : V K = 0)\n  (tc_2 : K \u2286 C \u2227 IsCube C)\n  (l1 : \u222b (x : E) in C, psi_K x \u2202volume = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P_prime : List (Set E)), (IsPartition C P_prime) \u2192 (P_prime.norm \u2264 \u03b4) \u2192 (\u2200 (sigma_prime : \u211d), IsRiemannSum (psi_K) P_prime sigma_prime \u2192 (0 \u2264 sigma_prime \u2227 sigma_prime \u2264 \u03b5)))\n  (def_1_P_norm : P.norm < min rho delta)\n  (def_1_C_j_inter_K : (\u2200 j : Fin r, (C_j j) \u2229 K \u2260 \u2205) \u2227 (\u2200 j : Fin k, r \u2264 j \u2192 (C_j j) \u2229 K = \u2205))\n  (l3 : \u2200 (X_j : Fin r \u2192 E), (\u2200 j : Fin r, X_j j \u2208 C_j j) \u2192 (\u2211 j : Fin r, psi_K (X_j j) * V (C_j j)) = (\u2211 j in Finset.range r, psi_K (X_j j) * V (C_j j))) :\n  (\u2203 (X_j : Fin r \u2192 E), (\u2200 j : Fin r, X_j j \u2208 C_j j \u2227 X_j j \u2208 K) \u2227 (\u2211 j : Fin r, psi_K (X_j j) * V (C_j j) = \u2211 j : Fin r, V (C_j j))) := by\nsorry", "lean_pass": false, "error_msg": [{"line": 6, "column": 66, "endLine": 6, "endColumn": 87, "data": "failed to synthesize\n  Module \u211d E\nAdditional diagnostic information may be available using the `set_option diagnostics true` command."}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nimport Mathlib.MeasureTheory.Integral.Lebesgue\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter MeasureTheory\n\nlemma l4\n  {n : \u2115} {E : Type*} [NormedAddCommGroup E] [NormedSpace \u211d E] [MeasurableSpace E] [BorelSpace E] [FiniteDimensional \u211d E]\n  (K C : Set E) (V : Set E \u2192 \u211d) [DecidablePred (\u00b7 \u2208 K)]\n  (psi_K : E \u2192 \u211d) (is_char_K : \u2200 x, psi_K x = if x \u2208 K then 1 else 0)\n  (rho delta : \u211d) (epsilon : \u211d) (h\u03b5 : epsilon > 0)\n  (P : List (Set E)) (k : \u2115) (hk : P.length = k)\n  (C_j : Fin k \u2192 Set E) (hC_j : \u2200 i, C_j i = P.get \u27e8i, by rw [hk]; exact i.prop\u27e9)\n  (r : \u2115) (hr : r \u2264 k)\n  (tc_1 : V K = 0)\n  (tc_2 : K \u2286 C)\n  (l1 : \u222b x in C, psi_K x \u2202volume = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P' : List (Set E)), \n    (\u2200 C' \u2208 P', C' \u2286 C) \u2192 \n    (\u2200 C\u2081 \u2208 P', \u2200 C\u2082 \u2208 P', C\u2081 \u2260 C\u2082 \u2192 Disjoint C\u2081 C\u2082) \u2192 \n    (P'.diameter \u2264 \u03b4) \u2192 \u2200 \u03c3, (\u2200 (X : Fin P'.length \u2192 E), (\u2200 i, X i \u2208 P'.get i) \u2192 \u03c3 = \u2211 i, psi_K (X i) * V (P'.get i)) \u2192 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5)\n  (def_1_P_norm : P.diameter < min rho delta)\n  (def_1_C_j_inter_K : (\u2200 j : Fin r, (C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9) \u2229 K \u2260 \u2205) \u2227 \n    (\u2200 j : Fin k, r \u2264 j.val \u2192 (C_j j) \u2229 K = \u2205))\n  (l3 : \u2200 (X_j : Fin r \u2192 E), (\u2200 j, X_j j \u2208 C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9) \u2192 \n    (\u2211 j : Fin r, psi_K (X_j j) * V (C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9)) = \n    \u2211 j in Finset.range r, psi_K (X_j j) * V (C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9))) :\n  \u2203 (X_j : Fin r \u2192 E), (\u2200 j, X_j j \u2208 C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9 \u2227 X_j j \u2208 K) \u2227 \n    (\u2211 j : Fin r, psi_K (X_j j) * V (C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9) = \u2211 j : Fin r, V (C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9)) := by\n  have hK : \u2200 j : Fin r, \u2203 x, x \u2208 C_j \u27e8j.val, by rw [hk]; exact lt_of_lt_of_le j.prop hr\u27e9 \u2229 K := \n    fun j => Set.nonempty_of_nonempty_inter (def_1_C_j_inter_K.1 j)\n  choose X_j hX_j using hK\n  use X_j\n  constructor\n  \u00b7 intro j\n    exact \u27e8(hX_j j).1, (hX_j j).2\u27e9\n  \u00b7 simp only [is_char_K, Finset.sum_congr rfl]\n    intro j hj\n    rw [if_pos (hX_j j).2]\n    simp", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 25, "column": 103, "endLine": 25, "endColumn": 104, "data": "unexpected token ')'; expected ':'"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Now \\eqref{eq:7.3.6} and \\eqref{eq:7.3.7} imply that $C_1$, $C_2$, \\dots, $C_r$ have the required properties.", "statement": "We assume:\n\u2022 $K$ is a set with Jordan content zero, $V(K)=0$ [tc_1].\n\u2022 $C$ is a cube containing $K$ [tc_2].\n\u2022 $\\int_C \\psi_K(\\mathbf{X})\\,d\\mathbf{X}=0$ [l1].\n\u2022 For any $\\epsilon > 0$, there exists a $\\delta > 0$ such that if a partition $\\mathbf{P}$ of $C$ has norm $\\|\\mathbf{P}\\| \\le \\delta$, then any Riemann sum $\\sigma$ of $\\psi_K$ over $\\mathbf{P}$ satisfies $0 \\le \\sigma \\le \\epsilon$ [l2].\n\u2022 We have a partition $\\mathbf{P}$ with $\\|\\mathbf{P}\\| < \\min (\\rho,\\delta)$ and cubes $C_1, \\dots, C_r$ that intersect $K$ [def_1].\n\u2022 Any Riemann sum of $\\psi_K$ over $\\mathbf{P}$ is $\\sigma=\\sum_{j=1}^r\\psi_K(\\mathbf{X}_j)V(C_j)$ [l3].\n\u2022 There exists a specific Riemann sum $\\sigma = \\sum_{j=1}^r V(C_j)$ [l4].\nTherefore, we conclude:\n\u2022 The total volume of the subcubes that intersect $K$ is bounded by $\\epsilon$: $\\sum_{j=1}^r V(C_j) \\le \\epsilon$ [ts_1].", "dependencies": ["tc_1", "tc_2", "l1", "l2", "def_1", "l3", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n : \u2115} (K : Set (EuclideanSpace \u211d n)) (C : Box (EuclideanSpace \u211d n)) (\u03c8_K : EuclideanSpace \u211d n \u2192 \u211d)\n  (r : \u2115) (Vs : Fin r \u2192 \u211d) (C_j : Fin r \u2192 Box (EuclideanSpace \u211d n))\n  (tc_1 : MeasureTheory.volume K = 0)\n  (tc_2 : K \u2286 C.toSet)\n  (l1 : \u222b (x : EuclideanSpace \u211d n) in C.toSet, \u03c8_K x = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 P : BoxPartition (EuclideanSpace \u211d n), (P.boxes.toSet \u2286 C.toSet) \u2192 P.norm \u2264 \u03b4 \u2192 \u2200 \u03c3 : \u211d, (\u2200 (i : Fin P.boxes.card), \u2203 x_i \u2208 (P.boxes.toList.get i.val).toSet, \u03c3 = \u2211 i' in Finset.univ.filter (fun idx => idx.val < P.boxes.card), \u03c8_K x_i * (P.boxes.toList.get i').volume) \u2192 (0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5))\n  (def_1 : \u2203 (k : \u2115) (P : BoxPartition (EuclideanSpace \u211d n)) (\u03c1 \u03b4_val : \u211d) (h\u03c1 : \u03c1 > 0) (h\u03b4_val : \u03b4_val > 0), P.norm < min \u03c1 \u03b4_val \u2227 List.length (P.boxes.toList) = k \u2227 (\u2200 j : Fin k, (j.val < r) \u2192 ((P.boxes.toList.get j.val).toSet \u2229 K \u2260 \u2205)) \u2227 (\u2200 j : Fin k, (j.val >= r) \u2192 ((P.boxes.toList.get j.val).toSet \u2229 K = \u2205)))\n  (l3 : \u2200 (P : BoxPartition (EuclideanSpace \u211d n)) (\u03c1 \u03b4 : \u211d) (hP : P.norm < min \u03c1 \u03b4) (X_j : Fin r \u2192 EuclideanSpace \u211d n) (hX_j : \u2200 j, X_j j \u2208 (C_j j).toSet), (\u2200 i : Fin P.boxes.card, (P.boxes.toList.get i.val).toSet = (C_j (Fin.castLT i.val (by sorry))).toSet) \u2192 \u2211 j in Finset.univ, \u03c8_K (X_j j) * (C_j j).volume = \u2211 j in Finset.univ, \u03c8_K (X_j j) * (C_j j).volume)\n  (l4 : \u2200 (P : BoxPartition (EuclideanSpace \u211d n)) (\u03c1 \u03b4 : \u211d) (hP : P.norm < min \u03c1 \u03b4) (X_j : Fin r \u2192 EuclideanSpace \u211d n) (hX_j : \u2200 j, X_j j \u2208 K), (\u2200 i : Fin P.boxes.card, (P.boxes.toList.get i.val).toSet = (C_j (Fin.castLT i.val (by sorry))).toSet) \u2192 \u2211 j in Finset.univ, (C_j j).volume = \u2211 j in Finset.univ, (C_j j).volume) :\n  (\u2211 j in Finset.univ, Vs j) \u2264 \u03b5 := by\nsorry", "lean_pass": false, "error_msg": [{"line": 6, "column": 37, "endLine": 6, "endColumn": 38, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.23212 : Type (?u.23212 + 1)"}, {"line": 6, "column": 96, "endLine": 6, "endColumn": 97, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.24039 : Type (?u.24039 + 1)"}, {"line": 10, "column": 32, "endLine": 10, "endColumn": 33, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.26176 : Type (?u.26176 + 1)"}, {"line": 13, "column": 116, "endLine": 13, "endColumn": 117, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.31240 : Type (?u.31240 + 1)"}, {"line": 14, "column": 116, "endLine": 14, "endColumn": 117, "data": "application type mismatch\n  EuclideanSpace \u211d n\nargument\n  n\nhas type\n  \u2115 : Type\nbut is expected to have type\n  Type ?u.33922 : Type (?u.33922 + 1)"}, {"line": 6, "column": 46, "endLine": 6, "endColumn": 70, "data": "function expected at\n  Box\nterm has type\n  ?m.829"}, {"line": 7, "column": 42, "endLine": 7, "endColumn": 66, "data": "function expected at\n  Box\nterm has type\n  ?m.829"}, {"line": 11, "column": 32, "endLine": 11, "endColumn": 65, "data": "function expected at\n  BoxPartition\nterm has type\n  ?m.6209"}, {"line": 11, "column": 229, "endLine": 11, "endColumn": 236, "data": "invalid field notation, type is not of the form (C ...) where C is a constant\n  idx\nhas type\n  ?m.30772 \u03b5 \u03b4 P \u03c3 i x_i"}, {"line": 12, "column": 26, "endLine": 12, "endColumn": 59, "data": "function expected at\n  BoxPartition\nterm has type\n  ?m.6209"}, {"line": 13, "column": 15, "endLine": 13, "endColumn": 48, "data": "function expected at\n  BoxPartition\nterm has type\n  ?m.6209"}, {"line": 14, "column": 15, "endLine": 14, "endColumn": 48, "data": "function expected at\n  BoxPartition\nterm has type\n  ?m.6209"}], "tries": 5}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\nlemma ts_1\n  {n : \u2115} (K : Set (EuclideanSpace \u211d (Fin n))) (C : Set (EuclideanSpace \u211d (Fin n))) (\u03c8_K : EuclideanSpace \u211d (Fin n) \u2192 \u211d)\n  (r : \u2115) (Vs : Fin r \u2192 \u211d) (C_j : Fin r \u2192 Set (EuclideanSpace \u211d (Fin n)))\n  (tc_1 : MeasureTheory.volume K = 0)\n  (tc_2 : K \u2286 C)\n  (l1 : \u222b (x : EuclideanSpace \u211d (Fin n)) in C, \u03c8_K x = 0)\n  (l2 : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (P : List (Set (EuclideanSpace \u211d (Fin n)))), (\u2200 p \u2208 P, p \u2286 C) \u2192 (\u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d) \u2192 (\u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d \u2227 d \u2264 \u03b4) \u2192 \u2200 \u03c3 : \u211d, (\u2200 (i : Fin P.length), \u2203 (x_i : EuclideanSpace \u211d (Fin n)), x_i \u2208 P.get i \u2227 \u03c3 = \u2211 i' in Finset.univ.filter (fun idx => idx.val < P.length), \u03c8_K x_i * (MeasureTheory.volume (P.get i'))) \u2192 (0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5))\n  (def_1 : \u2203 (k : \u2115) (P : List (Set (EuclideanSpace \u211d (Fin n)))) (\u03c1 \u03b4_val : \u211d) (h\u03c1 : \u03c1 > 0) (h\u03b4_val : \u03b4_val > 0), (\u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d \u2227 d < min \u03c1 \u03b4_val) \u2227 P.length = k \u2227 (\u2200 j : Fin k, (j.val < r) \u2192 (P.get j \u2229 K \u2260 \u2205)) \u2227 (\u2200 j : Fin k, (j.val \u2265 r) \u2192 (P.get j \u2229 K = \u2205)))\n  (l3 : \u2200 (P : List (Set (EuclideanSpace \u211d (Fin n)))) (\u03c1 \u03b4 : \u211d) (hP : \u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d \u2227 d < min \u03c1 \u03b4) (X_j : Fin r \u2192 EuclideanSpace \u211d (Fin n)) (hX_j : \u2200 j, X_j j \u2208 C_j j), (\u2200 i : Fin P.length, P.get i = C_j (Fin.castLT i.val (by sorry))) \u2192 \u2211 j in Finset.univ, \u03c8_K (X_j j) * (MeasureTheory.volume (C_j j)) = \u2211 j in Finset.univ, \u03c8_K (X_j j) * (MeasureTheory.volume (C_j j)))\n  (l4 : \u2200 (P : List (Set (EuclideanSpace \u211d (Fin n)))) (\u03c1 \u03b4 : \u211d) (hP : \u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d \u2227 d < min \u03c1 \u03b4) (X_j : Fin r \u2192 EuclideanSpace \u211d (Fin n)) (hX_j : \u2200 j, X_j j \u2208 K), (\u2200 i : Fin P.length, P.get i = C_j (Fin.castLT i.val (by sorry))) \u2192 \u2211 j in Finset.univ, (MeasureTheory.volume (C_j j)) = \u2211 j in Finset.univ, (MeasureTheory.volume (C_j j)))\n  (\u03b5 : \u211d) (h\u03b5 : \u03b5 > 0) :\n  (\u2211 j in Finset.univ, (MeasureTheory.volume (C_j j))) \u2264 \u03b5 := by\n  obtain \u27e8\u03b4, h\u03b4, h\u03b4'\u27e9 := l2 \u03b5 h\u03b5\n  obtain \u27e8k, P, \u03c1, \u03b4_val, h\u03c1, h\u03b4_val, hPnorm, hlen, hK, hK'\u27e9 := def_1\n  have h\u03b4'' : \u2200 p \u2208 P, \u2203 d > 0, \u2200 x y \u2208 p, dist x y \u2264 d \u2227 d \u2264 \u03b4 := by\n    intro p hp\n    obtain \u27e8d, hd, hd'\u27e9 := hPnorm p hp\n    exact \u27e8d, hd, fun x y hx hy => \u27e8hd' x y hx hy, le_of_lt (lt_of_lt_of_le hd' (min_le_right \u03c1 \u03b4_val))\u27e9\u27e9\n  have h\u03c3 : \u2203 \u03c3 : \u211d, \u03c3 = \u2211 j in Finset.univ, (MeasureTheory.volume (C_j j)) := \u27e8\u2211 j in Finset.univ, (MeasureTheory.volume (C_j j)), rfl\u27e9\n  obtain \u27e8\u03c3, h\u03c3\u27e9 := h\u03c3\n  have h\u03c3' : 0 \u2264 \u03c3 \u2227 \u03c3 \u2264 \u03b5 := by\n    refine h\u03b4' P ?_ ?_ h\u03b4'' \u03c3 ?_\n    \u00b7 intro p hp\n      exact (hK' \u27e8P.indexOf p, by simp [hp]\u27e9 (by sorry)).elim\n    \u00b7 intro p hp\n      exact \u27e81, zero_lt_one, fun x y _ _ => by simp\u27e9\n    \u00b7 intro i\n      obtain \u27e8x_i, hx_i\u27e9 := Set.nonempty_of_inter_nonempty (hK \u27e8i.val, by simp\u27e9 (by sorry))\n      use x_i\n      constructor\n      \u00b7 exact hx_i\n      \u00b7 simp [h\u03c3]\n        congr\n        ext j\n        simp\n        rw [mul_comm, \u2190 h\u03c3]\n  exact h\u03c3'.right", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 11, "column": 116, "endLine": 11, "endColumn": 118, "data": "unexpected token '\u2208'; expected ','"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": "Failed Lean syntax check already."}, "error_report": {"error_type": "Formalization", "error_report": "Formalized statement is not a valid Lean4 statement"}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#fa2c07", "highlight": {"background": "#eba0a0", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#fa2c07", "highlight": {"background": "#cfb795", "border": "#fa2c07"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#fa2c07", "highlight": {"background": "#8dafcc", "border": "#fa2c07"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#fa2c07", "highlight": {"background": "#a3c2a8", "border": "#fa2c07"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    