
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $X$ be a continuous random variable with a probability density function (PDF) given by $f(x) = \lambda e^{-\lambda x}$ for $x \ge 0$ and $f(x) = 0$ for $x < 0$. We are given that the parameter $\lambda = 2$. Then, the expected value $E[X] = 1/2$, the variance $Var(X) = 1/4$, and the probability $P(X > 1) = e^{-2}$.

Proof: From the given conditions, the specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \ge 0$. To find the expected value, we compute the integral $E[X] = \int_0^\infty x f(x) dx = \int_0^\infty 2x e^{-2x} dx$. Using integration by parts, this integral evaluates to $1/2$. Therefore, the expected value is $E[X] = 1/2$. To find the variance, we first need the second moment $E[X^2] = \int_0^\infty x^2 f(x) dx = \int_0^\infty 2x^2 e^{-2x} dx$. Evaluating this integral using integration by parts yields $E[X^2] = 1/2$. The variance is then $Var(X) = E[X^2] - (E[X])^2 = 1/2 - (1/2)^2 = 1/4$. Finally, the probability $P(X > 1)$ is found by integrating the PDF from $1$ to $\infty$, which is $\int_1^\infty 2e^{-2x} dx = e^{-2}$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $X$ be a continuous random variable with a probability density function (PDF) given by $f(x) = \\lambda e^{-\\lambda x}$ for $x \\ge 0$ and $f(x) = 0$ for $x < 0$.", "statement": "Premise:\n\u2022 $X$ is a continuous random variable with a probability density function (PDF) given by $f(x) = \\lambda e^{-\\lambda x}$ for $x \\ge 0$ and $f(x) = 0$ for $x < 0$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d)\n(tc_1 : f = fun x => if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization does not mention X as a continuous random variable at all. Only function f is defined.", "The natural language uses general parameter \u03bb in the formula \u03bbe^(-\u03bbx), but Lean uses specific value 2 in the formula 2*exp(-2*x). This changes the mathematical meaning significantly.", "Both specify f(x) = 0 for x < 0, which matches perfectly through the else clause in the if-then-else structure.", "The Lean formalization does not establish that f is a PDF of X or any random variable. It only defines f as a function from reals to reals without any probabilistic context."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization does not mention X as a continuous random variable at all. Only function f is defined.', 'The natural language uses general parameter \u03bb in the formula \u03bbe^(-\u03bbx), but Lean uses specific value 2 in the formula 2*exp(-2*x). This changes the mathematical meaning significantly.', 'Both specify f(x) = 0 for x < 0, which matches perfectly through the else clause in the if-then-else structure.', 'The Lean formalization does not establish that f is a PDF of X or any random variable. It only defines f as a function from reals to reals without any probabilistic context.']"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "We are given that the parameter $\\lambda = 2$.", "statement": "Premise:\n\u2022 The parameter of the exponential distribution is $\\lambda = 2$ [tc_2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (lambda : \u211d)\n(tc_2 : lambda = 2)", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures that lambda is a real number equal to 2. The context that this is for an exponential distribution is implicit and doesn't need to be formalized in the variable declaration.", "The Lean code contains no conclusions or derived facts, which matches the natural language statement that explicitly says there are no new derived facts."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "From the given conditions, the specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \\ge 0$.", "statement": "We assume:\n\u2022 $X$ is a continuous random variable with a PDF given by $f(x) = \\lambda e^{-\\lambda x}$ for $x \\ge 0$ and $f(x) = 0$ for $x < 0$ [tc_1]\n\u2022 $\\lambda = 2$ [tc_2]\nTherefore, we conclude:\n\u2022 The specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \\ge 0$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 \n  (f : \u211d \u2192 \u211d) \n  (lambda : \u211d)\n  (tc_1 : \u2200 x, f x = if x \u2265 0 then lambda * Real.exp (-lambda * x) else 0)\n  (tc_2 : lambda = 2) :\n  \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 \n  (f : \u211d \u2192 \u211d) \n  (lambda : \u211d)\n  (tc_1 : \u2200 x, f x = if x \u2265 0 then lambda * Real.exp (-lambda * x) else 0)\n  (tc_2 : lambda = 2) :\n  \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0 := by\n  have h_main : \u2200 (x : \u211d), f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0 := by\n    intro x\n    have h\u2081 : f x = if x \u2265 0 then lambda * Real.exp (-lambda * x) else 0 := tc_1 x\n    rw [h\u2081]\n    split_ifs with h\u2082\n    \u00b7 -- Case: x \u2265 0\n      have h\u2083 : lambda = 2 := tc_2\n      rw [h\u2083]\n      <;>\n      simp [h\u2083]\n      <;>\n      ring_nf at *\n      <;>\n      norm_num at *\n      <;>\n      simp_all [Real.exp_neg, Real.exp_add, Real.exp_sub, Real.exp_mul, mul_assoc]\n      <;>\n      linarith\n    \u00b7 -- Case: x < 0\n      norm_num at h\u2082 \u22a2\n      <;>\n      simp_all\n      <;>\n      linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 3}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The piecewise PDF definition is correctly formalized using if-then-else structure, with exact mathematical correspondence between \u03bbe^(-\u03bbx) and lambda * Real.exp (-lambda * x)", "The parameter assignment \u03bb = 2 is directly and exactly translated", "The conclusion correctly shows the specific PDF form with proper substitution of \u03bb = 2, including both the positive domain case and the implicit zero case"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "def_1": {"id": "def_1", "natural_language": "$E[X] = \\int_0^\\infty x f(x) dx$", "statement": "Definition:\n\u2022 The expected value of a continuous random variable X with a PDF f(x) non-zero only for $x \\ge 0$ is given by $E[X] = \\int_0^\\infty x f(x) dx$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d)\n(hf_nonzero : \u2200 x, x < 0 \u2192 f x = 0)\n\ntheorem def_1 :\n  \u222b x in Set.Ici 0, x * f x = 1/2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization completely omits the concept of X being a continuous random variable. There's no random variable mentioned at all.", "The Lean code has function f but doesn't establish it as a probability density function of random variable X. The connection between f and X is missing.", "While the Lean integration domain Set.Ici 0 corresponds to [0,\u221e), it doesn't explicitly state the condition that f(x) is non-zero only for x \u2265 0. The domain restriction is implicit in the integration bounds rather than being a property of f.", "The Lean formalization has the correct integral form \u222b x * f(x) dx over [0,\u221e), but it equates this to the specific value 1/2 rather than defining it as E[X]. This contradicts the natural language which defines this integral as the expected value, not as equaling a particular number."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The Lean formalization completely omits the concept of X being a continuous random variable. There's no random variable mentioned at all.\", \"The Lean code has function f but doesn't establish it as a probability density function of random variable X. The connection between f and X is missing.\", \"While the Lean integration domain Set.Ici 0 corresponds to [0,\u221e), it doesn't explicitly state the condition that f(x) is non-zero only for x \u2265 0. The domain restriction is implicit in the integration bounds rather than being a property of f.\", 'The Lean formalization has the correct integral form \u222b x * f(x) dx over [0,\u221e), but it equates this to the specific value 1/2 rather than defining it as E[X]. This contradicts the natural language which defines this integral as the expected value, not as equaling a particular number.']"}, "type": "definition"}, "l2": {"id": "l2", "natural_language": "$E[X] = \\int_0^\\infty x f(x) dx = \\int_0^\\infty 2x e^{-2x} dx$.", "statement": "We assume:\n\u2022 The specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \\ge 0$ [l1]\n\u2022 The expected value is $E[X] = \\int_0^\\infty x f(x) dx$ [def_1]\nTherefore, we conclude:\n\u2022 $E[X] = \\int_0^\\infty 2x e^{-2x} dx$ [l2].", "dependencies": ["l1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (f : \u211d \u2192 \u211d)\n  (hf : \u2200 x, x \u2265 0 \u2192 f x = 2 * Real.exp (-2 * x))\n  (E_X : \u211d)\n  (hE : E_X = \u222b x in Set.Ici 0, x * f x) :\n  E_X = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2\n  (f : \u211d \u2192 \u211d)\n  (hf : \u2200 x, x \u2265 0 \u2192 f x = 2 * Real.exp (-2 * x))\n  (E_X : \u211d)\n  (hE : E_X = \u222b x in Set.Ici 0, x * f x) :\n  E_X = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) := by\n  have h_pointwise : \u2200 (x : \u211d), x \u2208 Set.Ici 0 \u2192 x * f x = 2 * x * Real.exp (-2 * x) := by\n    intro x hx\n    have h\u2081 : x \u2265 0 := by exact Set.mem_Ici.mp hx\n    have h\u2082 : f x = 2 * Real.exp (-2 * x) := hf x h\u2081\n    calc\n      x * f x = x * (2 * Real.exp (-2 * x)) := by rw [h\u2082]\n      _ = 2 * x * Real.exp (-2 * x) := by ring\n      _ = 2 * x * Real.exp (-2 * x) := by rfl\n  \n  have h_integral_eq : (\u222b x in Set.Ici 0, x * f x) = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) := by\n    apply MeasureTheory.set_integral_congr (by\n      -- Prove that the set `Set.Ici 0` is measurable\n      exact measurableSet_Ici) fun x hx => h_pointwise x hx\n  \n  have h_final : E_X = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) := by\n    rw [hE]\n    rw [h_integral_eq]\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 2}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The PDF definition is correctly formalized with proper domain restriction using universal quantification and implication", "The expected value definition accurately captures the integral formula with correct domain Set.Ici 0 representing [0,\u221e)", "The conclusion correctly represents the substitution of the PDF into the expected value integral, maintaining all mathematical relationships"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Using integration by parts, this integral evaluates to $1/2$. Therefore, the expected value is $E[X] = 1/2$.", "statement": "We assume:\n\u2022 $E[X] = \\int_0^\\infty 2x e^{-2x} dx$ [l2]\nTherefore, we conclude:\n\u2022 The expected value is $E[X] = 1/2$ [ts_1].", "dependencies": ["l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (E_X : \u211d)\n  (hE : E_X = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x))\n  (l2 : \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) = 1/2) :\n  E_X = 1/2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1\n  (E_X : \u211d)\n  (hE : E_X = \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x))\n  (l2 : \u222b x in Set.Ici 0, 2 * x * Real.exp (-2 * x) = 1/2) :\n  E_X = 1/2 := by\n  have h_main : E_X = 1 / 2 := by\n    rw [hE]\n    rw [l2]\n    <;> norm_num\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The assumption about E[X] being equal to the integral is correctly formalized. The Lean notation Set.Ici 0 properly represents the interval [0,\u221e) and the exponential function is correctly expressed.", "The Lean formalization makes explicit the implicit mathematical fact that the integral evaluates to 1/2, which is necessary for the logical flow. This is an acceptable addition of detail not contradicting the natural language.", "The conclusion that E[X] = 1/2 is directly and correctly represented in the Lean theorem statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}, "def_2": {"id": "def_2", "natural_language": "$E[X^2] = \\int_0^\\infty x^2 f(x) dx$", "statement": "Definition:\n\u2022 The second moment of a continuous random variable X with a PDF f(x) non-zero only for $x \\ge 0$ is $E[X^2] = \\int_0^\\infty x^2 f(x) dx$ [def_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (f : \u211d \u2192 \u211d)\nvariable (hf_nonneg : \u2200 x, x \u2265 0 \u2192 f x \u2265 0)\nvariable (hf_support : \u2200 x, x < 0 \u2192 f x = 0)\nvariable (hf_integrable : \u222b x in Set.Ici 0, f x = 1)\n\ntheorem def_2 : \u222b x in Set.Ici 0, x^2 * f x = 1/2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization does not explicitly declare X as a continuous random variable, which is a fundamental condition in the natural language statement", "The Lean has function f but doesn't explicitly state it's a PDF of X, though this could be implicit context", "The integration domain Set.Ici 0 correctly represents [0, \u221e) which matches the condition that f(x) is non-zero only for x \u2265 0", "The Lean theorem states the integral equals 1/2, but the natural language defines this integral as E[X\u00b2] (the second moment). The natural language is giving a definition, not claiming the second moment equals 1/2. This is a major logical inconsistency - the Lean is making a specific numerical claim rather than providing the definitional formula"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization does not explicitly declare X as a continuous random variable, which is a fundamental condition in the natural language statement', \"The Lean has function f but doesn't explicitly state it's a PDF of X, though this could be implicit context\", 'The integration domain Set.Ici 0 correctly represents [0, \u221e) which matches the condition that f(x) is non-zero only for x \u2265 0', 'The Lean theorem states the integral equals 1/2, but the natural language defines this integral as E[X\u00b2] (the second moment). The natural language is giving a definition, not claiming the second moment equals 1/2. This is a major logical inconsistency - the Lean is making a specific numerical claim rather than providing the definitional formula']"}, "type": "definition"}, "l3": {"id": "l3", "natural_language": "$E[X^2] = \\int_0^\\infty x^2 f(x) dx = \\int_0^\\infty 2x^2 e^{-2x} dx$.", "statement": "We assume:\n\u2022 The specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \\ge 0$ [l1]\n\u2022 The second moment is $E[X^2] = \\int_0^\\infty x^2 f(x) dx$ [def_2]\nTherefore, we conclude:\n\u2022 $E[X^2] = \\int_0^\\infty 2x^2 e^{-2x} dx$ [l3].", "dependencies": ["l1", "def_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (def_2 : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x)) :\n  \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (def_2 : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x)) :\n  \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x) := by\n  have h_main : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x) := by\n    apply def_2\n  apply h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The PDF definition l1 correctly captures the mathematical meaning, appropriately making explicit that f(x)=0 for x<0, which is implicit in the natural language but standard for PDFs.", "The premise def_2 has a major logical flaw. The natural language states a general definition E[X^2] = \u222bx\u00b2f(x)dx, but the Lean formalization assumes the specific result as a premise, which should be the conclusion we derive.", "The theorem conclusion correctly matches the natural language statement about the final integral form.", "The overall logical structure is inconsistent. The natural language presents a derivation from definition to conclusion, but the Lean code assumes the conclusion as a premise, making the proof trivial rather than demonstrating the logical steps."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The PDF definition l1 correctly captures the mathematical meaning, appropriately making explicit that f(x)=0 for x<0, which is implicit in the natural language but standard for PDFs.', 'The premise def_2 has a major logical flaw. The natural language states a general definition E[X^2] = \u222bx\u00b2f(x)dx, but the Lean formalization assumes the specific result as a premise, which should be the conclusion we derive.', 'The theorem conclusion correctly matches the natural language statement about the final integral form.', 'The overall logical structure is inconsistent. The natural language presents a derivation from definition to conclusion, but the Lean code assumes the conclusion as a premise, making the proof trivial rather than demonstrating the logical steps.']"}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Evaluating this integral using integration by parts yields $E[X^2] = 1/2$.", "statement": "We assume:\n\u2022 $E[X^2] = \\int_0^\\infty 2x^2 e^{-2x} dx$ [l3]\nTherefore, we conclude:\n\u2022 $E[X^2] = 1/2$ [l4].", "dependencies": ["l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (l3 : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x)) :\n  \u222b x in Set.Ici 0, x^2 * f x = 1/2 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (l3 : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x)) :\n  \u222b x in Set.Ici 0, x^2 * f x = 1/2 := by\n  have h_main : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := by\n    have h\u2080 : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 2 * \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n      -- Factor out the constant 2 from the integral\n      have h\u2081 : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = \u222b x in Set.Ici 0, 2 * (x ^ 2 * Real.exp (-2 * x)) := by\n        congr\n        ext x\n        ring\n      rw [h\u2081]\n      -- Use the linearity of the integral to factor out the constant\n      have h\u2082 : \u222b x in Set.Ici 0, (2 : \u211d) * (x ^ 2 * Real.exp (-2 * x)) = 2 * \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n        -- Use the fact that the integral of a constant times a function is the constant times the integral of the function\n        rw [MeasureTheory.integral_mul_left]\n      rw [h\u2082]\n    rw [h\u2080]\n    -- Compute the integral of x^2 * exp(-2x) over [0, \u221e)\n    have h\u2081 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n      -- Use the substitution y = 2x to compute the integral\n      have h\u2082 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n        -- Use the substitution y = 2x to compute the integral\n        have h\u2083 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n          -- The integral over Set.Ici 0 is the same as the integral from 0 to \u221e for non-negative functions\n          have h\u2084 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n            have h\u2085 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n              -- Use the fact that the integral over Set.Ici 0 is equal to the improper integral for continuous non-negative functions\n              have h\u2086 : \u222b x in Set.Ici 0, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n                -- Use the fact that the function is continuous and non-negative on [0, \u221e)\n                simp [MeasureTheory.integral_Ici_eq_integral_Ioi]\n                <;>\n                simp_all [Real.volume_Ioi, Real.volume_Ici]\n                <;>\n                congr 1 <;>\n                ext1 x <;>\n                simp [Real.exp_neg]\n                <;>\n                ring_nf\n                <;>\n                field_simp\n                <;>\n                ring_nf\n              exact h\u2086\n            exact h\u2085\n          exact h\u2084\n        rw [h\u2083]\n        -- Use the substitution y = 2x to compute the integral\n        have h\u2084 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n          -- Use the substitution y = 2x to compute the integral\n          have h\u2085 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n            -- Use the fact that the integral of x^2 * exp(-x) is 2 and adjust for the factor of 2\n            have h\u2086 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) = 2 := by\n              -- Use the known result for the integral of x^2 * exp(-x)\n              have h\u2087 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) = 2 := by\n                -- Use the known result for the integral of x^2 * exp(-x)\n                have h\u2088 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) = 2 := by\n                  -- Use the known result for the integral of x^2 * exp(-x)\n                  norm_num [integral_rpow_mul_exp_neg, Real.Gamma_eq_integral, Real.Gamma_add_one,\n                    Real.Gamma_one, mul_comm]\n                  <;>\n                  simp_all [Nat.cast_ofNat]\n                  <;>\n                  norm_num\n                  <;>\n                  linarith\n                exact h\u2088\n              exact h\u2087\n            -- Use the substitution y = 2x to compute the integral\n            have h\u2089 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n              -- Use the substitution y = 2x to compute the integral\n              have h\u2081\u2080 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                -- Use the substitution y = 2x to compute the integral\n                have h\u2081\u2081 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) := by\n                  -- Use the substitution y = 2x to compute the integral\n                  have h\u2081\u2082 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) := by\n                    -- Use the substitution y = 2x to compute the integral\n                    have h\u2081\u2083 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) := by\n                      -- Use the substitution y = 2x to compute the integral\n                      have h\u2081\u2084 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) := by\n                        -- Use the substitution y = 2x to compute the integral\n                        rw [intervalIntegral.integral_comp_mul_left (fun x => x ^ 2 * Real.exp (-2 * x))]\n                        <;>\n                        simp [mul_assoc]\n                        <;>\n                        norm_num\n                        <;>\n                        ring_nf\n                        <;>\n                        field_simp\n                        <;>\n                        ring_nf\n                        <;>\n                        norm_num\n                        <;>\n                        linarith\n                      exact h\u2081\u2084\n                    exact h\u2081\u2083\n                  exact h\u2081\u2082\n                rw [h\u2081\u2081]\n                -- Use the linearity of the integral to factor out the constant\n                have h\u2081\u2085 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                  -- Use the linearity of the integral to factor out the constant\n                  have h\u2081\u2086 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                    -- Use the linearity of the integral to factor out the constant\n                    calc\n                      \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x / 2 : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, ((1 / 4 : \u211d) * (x : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d)) := by\n                        congr\n                        ext x\n                        ring_nf\n                        <;> field_simp\n                        <;> ring_nf\n                      _ = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                        -- Use the linearity of the integral to factor out the constant\n                        have h\u2081\u2087 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, ((1 / 4 : \u211d) * (x : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d)) = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                          -- Use the linearity of the integral to factor out the constant\n                          calc\n                            \u222b (x : \u211d) in (0 : \u211d)..\u221e, ((1 / 4 : \u211d) * (x : \u211d) ^ 2 * Real.exp (-x) * (1 / 2 : \u211d)) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (1 / 8 : \u211d) * ((x : \u211d) ^ 2 * Real.exp (-x)) := by\n                              congr\n                              ext x\n                              ring_nf\n                              <;> field_simp\n                              <;> ring_nf\n                            _ = (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) := by\n                              -- Use the linearity of the integral to factor out the constant\n                              rw [intervalIntegral.integral_comp_mul_left (fun x => (x : \u211d) ^ 2 * Real.exp (-x))]\n                              <;>\n                              simp [mul_assoc]\n                              <;>\n                              norm_num\n                              <;>\n                              ring_nf\n                              <;>\n                              field_simp\n                              <;>\n                              ring_nf\n                              <;>\n                              norm_num\n                              <;>\n                              linarith\n                        rw [h\u2081\u2087]\n                  rw [h\u2081\u2086]\n                rw [h\u2081\u2085]\n              rw [h\u2081\u2080]\n              -- Use the known result for the integral of x^2 * exp(-x)\n              have h\u2081\u2081 : (1 / 8 : \u211d) * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-x) = 1 / 4 := by\n                -- Use the known result for the integral of x^2 * exp(-x)\n                rw [h\u2086]\n                <;> norm_num\n              rw [h\u2081\u2081]\n            exact h\u2089\n          exact h\u2085\n        rw [h\u2084]\n      rw [h\u2082]\n    rw [h\u2081]\n    <;> norm_num\n  \n  have h_final : \u222b x in Set.Ici 0, x ^ 2 * f x = 1 / 2 := by\n    have h\u2081 : \u222b x in Set.Ici 0, x ^ 2 * f x = \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) := by\n      rw [l3]\n    rw [h\u2081]\n    have h\u2082 : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := by\n      exact h_main\n    rw [h\u2082]\n  \n  apply h_final", "lean_pass": false, "lean_verify": false, "error_msg": [], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The assumption l3 correctly captures the integral equation E[X\u00b2] = \u222b\u2080^\u221e 2x\u00b2 e^(-2x) dx, though expressed as an equality between integrals rather than a direct statement about expected value.", "The conclusion correctly represents E[X\u00b2] = 1/2 as the goal to be proven, with the integral \u222b x^2 * f x representing the expected value.", "The additional definition l1 of the probability density function f provides helpful context that makes the formalization more complete and mathematically rigorous.", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (l3 : \u222b x in Set.Ici 0, x^2 * f x = \u222b x in Set.Ici 0, 2 * x^2 * Real.exp (-2 * x)) :\n  \u222b x in Set.Ici 0, x^2 * f x = 1/2 := by\n  have h_main : \u222b (x : \u211d) in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := by\n    have h\u2081 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = 1 / 4 := by\n      -- Use the Gamma function lemma to compute the integral\n      have h\u2082 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) = (2 : \u211d) ! / (2 : \u211d) ^ (2 + 1 : \u2115) := by\n        -- Apply the Gamma function identity\n        rw [integral_rpow_mul_exp_neg_mul] <;> norm_num\n        <;>\n        linarith\n      -- Simplify the right-hand side\n      rw [h\u2082]\n      <;> norm_num [Nat.factorial]\n      <;> field_simp\n      <;> ring_nf\n      <;> norm_num\n    -- Relate the interval integral to the integral over Set.Ici\n    have h\u2083 : \u222b (x : \u211d) in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := by\n      have h\u2084 : \u222b (x : \u211d) in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 2 * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n        -- Use the fact that the integral over Set.Ici is the same as the interval integral\n        have h\u2085 : \u222b (x : \u211d) in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = \u222b (x : \u211d) in (0 : \u211d)..\u221e, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) := by\n          -- Use the fact that the integral over Set.Ici is the same as the interval integral\n          simp [intervalIntegral.integral_of_le (by norm_num : (0 : \u211d) \u2264 \u221e)]\n          <;>\n          congr 1 <;>\n          ext1 x <;>\n          simp [Set.mem_Ici] <;>\n          by_cases hx : x \u2265 0 <;>\n          simp_all [hx] <;>\n          linarith\n        rw [h\u2085]\n        -- Factor out the constant 2\n        have h\u2086 : \u222b (x : \u211d) in (0 : \u211d)..\u221e, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 2 * \u222b (x : \u211d) in (0 : \u211d)..\u221e, (x : \u211d) ^ 2 * Real.exp (-2 * x) := by\n          -- Use the linearity of the integral\n          simp [intervalIntegral.integral_comp_mul_left (fun x => x ^ 2 * Real.exp (-x))]\n          <;>\n          congr 1 <;>\n          ext1 x <;>\n          ring_nf <;>\n          field_simp [Real.exp_neg] <;>\n          ring_nf <;>\n          norm_num <;>\n          linarith [Real.exp_pos x]\n        rw [h\u2086]\n      rw [h\u2084]\n      -- Substitute the value of the interval integral\n      rw [h\u2081]\n      <;> norm_num\n    exact h\u2083\n  \n  have h_final : \u222b x in Set.Ici 0, x ^ 2 * f x = 1 / 2 := by\n    have h\u2082 : \u222b x in Set.Ici 0, x ^ 2 * f x = \u222b x in Set.Ici 0, 2 * x ^ 2 * Real.exp (-2 * x) := l3\n    have h\u2083 : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := h_main\n    calc\n      \u222b x in Set.Ici 0, x ^ 2 * f x = \u222b x in Set.Ici 0, 2 * x ^ 2 * Real.exp (-2 * x) := by rw [h\u2082]\n      _ = 1 / 2 := by\n        -- Use the previously computed integral value\n        have h\u2084 : \u222b x in Set.Ici 0, (2 : \u211d) * x ^ 2 * Real.exp (-2 * x) = 1 / 2 := h_main\n        simpa using h\u2084\n  \n  exact h_final"}, "type": "lemma"}, "def_3": {"id": "def_3", "natural_language": "The variance is then $Var(X) = E[X^2] - (E[X])^2$.", "statement": "Definition:\n\u2022 The variance of a random variable X is given by the formula $Var(X) = E[X^2] - (E[X])^2$ [def_3].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem def_3 \n  (E_X_sq E_X : \u211d) \n  (h : E_X_sq - (E_X)^2 = 1/4) :\n  E_X_sq - (E_X)^2 = 1/4 := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language states that X is a random variable, but the Lean formalization completely omits any mention of a random variable X. Instead, it only declares E_X_sq and E_X as real numbers, losing the fundamental concept that these are expected values of a random variable.", "The natural language defines variance as Var(X) = E[X^2] - (E[X])^2 as a general formula, but the Lean formalization restricts this to the specific case where E[X^2] - (E[X])^2 = 1/4. The Lean version is not a general definition but rather a specific instance, and it doesn't even mention variance (Var(X)) at all."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language states that X is a random variable, but the Lean formalization completely omits any mention of a random variable X. Instead, it only declares E_X_sq and E_X as real numbers, losing the fundamental concept that these are expected values of a random variable.', \"The natural language defines variance as Var(X) = E[X^2] - (E[X])^2 as a general formula, but the Lean formalization restricts this to the specific case where E[X^2] - (E[X])^2 = 1/4. The Lean version is not a general definition but rather a specific instance, and it doesn't even mention variance (Var(X)) at all.\"]"}, "type": "definition"}, "ts_2": {"id": "ts_2", "natural_language": "The variance is then $Var(X) = E[X^2] - (E[X])^2 = 1/2 - (1/2)^2 = 1/4$.", "statement": "We assume:\n\u2022 The variance formula is $Var(X) = E[X^2] - (E[X])^2$ [def_3]\n\u2022 The expected value is $E[X] = 1/2$ [ts_1]\n\u2022 The second moment is $E[X^2] = 1/2$ [l4]\nTherefore, we conclude:\n\u2022 The variance is $Var(X) = 1/4$ [ts_2].", "dependencies": ["def_3", "ts_1", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_2\n  (E_X E_X_sq : \u211d)\n  (def_3 : E_X_sq - E_X^2 = 1/4)\n  (ts_1 : E_X = 1/2)\n  (l4 : E_X_sq = 1/2) :\n  E_X_sq - E_X^2 = 1/4 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_2\n  (E_X E_X_sq : \u211d)\n  (def_3 : E_X_sq - E_X^2 = 1/4)\n  (ts_1 : E_X = 1/2)\n  (l4 : E_X_sq = 1/2) :\n  E_X_sq - E_X^2 = 1/4 := by\n  have h_main : E_X_sq - E_X^2 = 1/4 := by\n    -- Directly use the given hypothesis `def_3` to conclude the proof.\n    linarith\n  \n  -- The conclusion follows directly from `h_main`.\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The variance formula definition is incorrectly formalized. In natural language, def_3 represents the general variance formula Var(X) = E[X\u00b2] - (E[X])\u00b2, but in Lean it's stated as the specific numerical result E_X_sq - E_X^2 = 1/4. This makes the theorem trivial since the conclusion is assumed as a premise.", "The expected value E[X] = 1/2 is correctly captured as ts_1 : E_X = 1/2.", "The second moment E[X\u00b2] = 1/2 is correctly captured as l4 : E_X_sq = 1/2.", "The conclusion structure is correct in form (proving E_X_sq - E_X^2 = 1/4), but the logical derivation is broken because the result is already assumed in def_3 rather than being derived from the variance formula and given values."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: [\"The variance formula definition is incorrectly formalized. In natural language, def_3 represents the general variance formula Var(X) = E[X\u00b2] - (E[X])\u00b2, but in Lean it's stated as the specific numerical result E_X_sq - E_X^2 = 1/4. This makes the theorem trivial since the conclusion is assumed as a premise.\", 'The expected value E[X] = 1/2 is correctly captured as ts_1 : E_X = 1/2.', 'The second moment E[X\u00b2] = 1/2 is correctly captured as l4 : E_X_sq = 1/2.', 'The conclusion structure is correct in form (proving E_X_sq - E_X^2 = 1/4), but the logical derivation is broken because the result is already assumed in def_3 rather than being derived from the variance formula and given values.']"}, "solved_negation": null, "type": "solution"}, "def_4": {"id": "def_4", "natural_language": "Finally, the probability $P(X > 1)$ is found by integrating the PDF from $1$ to $\\infty$.", "statement": "Definition:\n\u2022 For a continuous random variable X, the probability $P(X > a)$ is calculated by $P(X > a) = \\int_a^\\infty f(x) dx$. In this case, $P(X > 1) = \\int_1^\\infty f(x) dx$ [def_4].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem def_4\n  (f : \u211d \u2192 \u211d) (lambda : \u211d)\n  (h1 : lambda = 2)\n  (h2 : f = fun x => if x \u2265 0 then lambda * Real.exp (-lambda * x) else 0) :\n  \u222b x in Set.Ici 1, f x = Real.exp (-2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 3}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The natural language states X is a continuous random variable, but the Lean theorem has no mention of any random variable X - only a function f : \u211d \u2192 \u211d", "The natural language states f(x) is the probability density function of X, but the Lean theorem defines f as a specific exponential function with no connection to any random variable or probability density function", "The natural language gives a general formula P(X > a) = \u222b_a^\u221e f(x) dx for any continuous random variable, but the Lean theorem provides no such general relationship and instead focuses on specific values lambda = 2 and a specific exponential function", "The natural language concludes P(X > 1) = \u222b_1^\u221e f(x) dx as a general statement, but the Lean theorem concludes \u222b x in Set.Ici 1, f x = Real.exp (-2) which is a specific numerical result for a particular function, with no mention of probability P(X > 1)"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The natural language states X is a continuous random variable, but the Lean theorem has no mention of any random variable X - only a function f : \u211d \u2192 \u211d', 'The natural language states f(x) is the probability density function of X, but the Lean theorem defines f as a specific exponential function with no connection to any random variable or probability density function', 'The natural language gives a general formula P(X > a) = \u222b_a^\u221e f(x) dx for any continuous random variable, but the Lean theorem provides no such general relationship and instead focuses on specific values lambda = 2 and a specific exponential function', 'The natural language concludes P(X > 1) = \u222b_1^\u221e f(x) dx as a general statement, but the Lean theorem concludes \u222b x in Set.Ici 1, f x = Real.exp (-2) which is a specific numerical result for a particular function, with no mention of probability P(X > 1)']"}, "type": "definition"}, "ts_3": {"id": "ts_3", "natural_language": "which is $\\int_1^\\infty 2e^{-2x} dx = e^{-2}$.", "statement": "We assume:\n\u2022 The specific PDF of $X$ is $f(x) = 2e^{-2x}$ for $x \\ge 0$ [l1]\n\u2022 The probability is calculated by $P(X > 1) = \\int_1^\\infty f(x) dx$ [def_4]\nTherefore, we conclude:\n\u2022 The probability $P(X > 1) = e^{-2}$ [ts_3].", "dependencies": ["l1", "def_4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_3\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (def_4 : \u222b x in Set.Ici 1, f x = Real.exp (-2)) :\n  \u222b x in Set.Ici 1, f x = Real.exp (-2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_3\n  (f : \u211d \u2192 \u211d)\n  (l1 : \u2200 x, f x = if x \u2265 0 then 2 * Real.exp (-2 * x) else 0)\n  (def_4 : \u222b x in Set.Ici 1, f x = Real.exp (-2)) :\n  \u222b x in Set.Ici 1, f x = Real.exp (-2) := by\n  have h_main : \u222b x in Set.Ici 1, f x = Real.exp (-2) := by\n    exact def_4\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The PDF definition is correctly formalized using a conditional expression that captures both the formula for x \u2265 0 and the implicit zero value elsewhere.", "The integral representation correctly uses Set.Ici 1 for the interval [1,\u221e) and directly incorporates the calculated result, which is mathematically equivalent to the natural language statement.", "The conclusion correctly states that the integral equals e^(-2), matching the natural language conclusion exactly."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_2", "label": "def_2", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_3", "label": "def_3", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_2", "label": "ts_2", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_4", "label": "def_4", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_3", "label": "ts_3", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "def_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "ts_1", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_3", "to": "ts_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_4", "to": "ts_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    