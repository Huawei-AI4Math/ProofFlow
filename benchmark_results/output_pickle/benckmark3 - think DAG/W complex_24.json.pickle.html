
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z$ be a complex number. If $z^2 = i$ and $\operatorname{Re}(z) > 0$, then $z = \frac{1}{\sqrt{2}} + i\frac{1}{\sqrt{2}}$.

Proof: Let $z=re^{i	heta}$ be the polar form of $z$. From the condition $z^2=i$, we have $r^2e^{i2	heta} = i$. The polar form of $i$ is $e^{i(\pi/2+2k\pi)}$, so by equating the moduli and arguments we get $r^2=1$ and $2	heta = \pi/2+2k\pi$. This gives two distinct solutions for $z$: $z_0 = e^{i\pi/4}$ and $z_1 = e^{i5\pi/4}$. The condition $\operatorname{Re}(z) > 0$ selects the solution $z = e^{i\pi/4}$, since $\operatorname{Re}(e^{i5\pi/4}) < 0$. In Cartesian form, $z=e^{i\pi/4}$ is $z = \frac{1}{\sqrt{2}} + i\frac{1}{\sqrt{2}}$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let z be a complex number. If z^2 = i", "statement": "Premise:\n\u2022 z is a complex number such that z^2 = i [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)\n(tc_1 : z^2 = Complex.I)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration `(z : \u2102)` perfectly captures that z is a complex number, using the standard complex number type in Mathlib", "The Lean condition `z^2 = Complex.I` perfectly represents the mathematical equation z^2 = i, using the standard representation of the imaginary unit in Mathlib"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "and Re(z) > 0", "statement": "Premise:\n\u2022 z is a complex number such that Re(z) > 0 [tc_2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)\n(tc_2 : 0 < Complex.re z)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration 'variable (z : \u2102)' correctly captures that z is a complex number", "The Lean condition '0 < Complex.re z' is mathematically equivalent to 'Re(z) > 0' and correctly uses Lean's notation for the real part of a complex number"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "Let z=re^{i\u03b8} be the polar form of z.", "statement": "Definition:\n\u2022 Any complex number z can be written in polar form as z = r * e^(i\u03b8), where r = |z| \u2265 0 is the modulus and \u03b8 is the argument [def_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)\n(def_1 : \u2203 r \u03b8 : \u211d, r \u2265 0 \u2227 z = r * Complex.exp (Complex.I * \u03b8) \u2227 r = \u2016z\u2016 \u2227 \u03b8 = Complex.arg z)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean variable declaration `(z : \u2102)` correctly captures that z is a complex number", "The Lean expression `z = r * Complex.exp (Complex.I * \u03b8)` correctly represents the polar form z = r * e^(i\u03b8), where `Complex.exp (Complex.I * \u03b8)` is the Lean representation of e^(i\u03b8)", "The Lean condition `r = \u2016z\u2016` correctly captures r = |z|, where `\u2016z\u2016` is the Lean notation for the modulus/absolute value of a complex number", "The Lean condition `r \u2265 0` directly matches the natural language condition r \u2265 0", "The Lean condition `r = \u2016z\u2016` establishes that r is indeed the modulus of z, which matches the conclusion that r is the modulus", "The Lean condition `\u03b8 = Complex.arg z` establishes that \u03b8 is the argument of z, which matches the conclusion that \u03b8 is the argument"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "From the condition z^2=i, we have r^2e^{i2\u03b8} = i.", "statement": "We assume:\n\u2022 z is a complex number such that z^2 = i [tc_1]\n\u2022 The polar form of z is z = r * e^(i\u03b8) [def_1]\nTherefore, we conclude:\n\u2022 r^2 * e^(i*2\u03b8) = i [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (z : \u2102) (r \u03b8 : \u211d)\n  (tc_1 : z^2 = Complex.I)\n  (def_1 : r \u2265 0 \u2227 z = r * Complex.exp (Complex.I * \u03b8)) :\n  r^2 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1\n  (z : \u2102) (r \u03b8 : \u211d)\n  (tc_1 : z^2 = Complex.I)\n  (def_1 : r \u2265 0 \u2227 z = r * Complex.exp (Complex.I * \u03b8)) :\n  r^2 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by\n  have h_z_sq : z^2 = (r : \u2102)^2 * (Complex.exp (Complex.I * \u03b8))^2 := by\n    have h\u2081 : z = (r : \u2102) * Complex.exp (Complex.I * \u03b8) := by\n      rw [def_1.2]\n      <;> simp [Complex.ext_iff, pow_two]\n      <;> ring_nf\n      <;> simp_all [Complex.ext_iff, pow_two]\n      <;> norm_num\n      <;> linarith\n    calc\n      z ^ 2 = ((r : \u2102) * Complex.exp (Complex.I * \u03b8)) ^ 2 := by rw [h\u2081]\n      _ = (r : \u2102) ^ 2 * (Complex.exp (Complex.I * \u03b8)) ^ 2 := by\n        calc\n          ((r : \u2102) * Complex.exp (Complex.I * \u03b8)) ^ 2 = (r : \u2102) ^ 2 * (Complex.exp (Complex.I * \u03b8)) ^ 2 := by\n            ring_nf\n          _ = (r : \u2102) ^ 2 * (Complex.exp (Complex.I * \u03b8)) ^ 2 := by rfl\n  \n  have h_exp_sq : (Complex.exp (Complex.I * \u03b8))^2 = Complex.exp (Complex.I * (2 * \u03b8)) := by\n    have h\u2081 : (Complex.exp (Complex.I * \u03b8)) ^ 2 = Complex.exp (2 * (Complex.I * \u03b8)) := by\n      calc\n        (Complex.exp (Complex.I * \u03b8)) ^ 2 = Complex.exp (Complex.I * \u03b8) * Complex.exp (Complex.I * \u03b8) := by ring_nf\n        _ = Complex.exp (Complex.I * \u03b8 + Complex.I * \u03b8) := by rw [Complex.exp_add]\n        _ = Complex.exp (2 * (Complex.I * \u03b8)) := by ring_nf\n    have h\u2082 : Complex.exp (2 * (Complex.I * \u03b8)) = Complex.exp (Complex.I * (2 * \u03b8)) := by\n      congr 1\n      <;> ring_nf\n    rw [h\u2081, h\u2082]\n  \n  have h_z_sq_expanded : z^2 = (r : \u2102)^2 * Complex.exp (Complex.I * (2 * \u03b8)) := by\n    calc\n      z ^ 2 = (r : \u2102) ^ 2 * (Complex.exp (Complex.I * \u03b8)) ^ 2 := h_z_sq\n      _ = (r : \u2102) ^ 2 * Complex.exp (Complex.I * (2 * \u03b8)) := by rw [h_exp_sq]\n  \n  have h_r_sq_real : (r : \u2102)^2 = (r^2 : \u2102) := by\n    norm_cast\n    <;> simp [Complex.ext_iff, pow_two]\n    <;> ring_nf\n    <;> simp_all [Complex.ext_iff, pow_two]\n    <;> norm_num\n    <;> linarith\n  \n  have h_z_sq_real : z^2 = (r^2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) := by\n    calc\n      z ^ 2 = (r : \u2102) ^ 2 * Complex.exp (Complex.I * (2 * \u03b8)) := h_z_sq_expanded\n      _ = (r ^ 2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) := by\n        rw [h_r_sq_real]\n        <;> simp [Complex.ext_iff, pow_two]\n        <;> ring_nf\n        <;> simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num\n        <;> linarith\n  \n  have h_final : (r^2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by\n    calc\n      (r ^ 2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) = z ^ 2 := by\n        rw [h_z_sq_real]\n        <;> ring_nf\n      _ = Complex.I := by rw [tc_1]\n  \n  have h_main : r^2 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by\n    have h\u2081 : (r ^ 2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := h_final\n    -- We need to show that the real number r^2 multiplied by the complex exponential equals the complex number I.\n    -- We already have the result for the complex number (r^2 : \u2102).\n    -- We just need to confirm that the coercion from real to complex numbers works as expected.\n    have h\u2082 : (r ^ 2 : \u2102) = (r ^ 2 : \u211d) := by\n      norm_cast\n    rw [h\u2082] at h\u2081\n    -- Now h\u2081 directly gives us the desired result.\n    simpa [Complex.ext_iff, pow_two] using h\u2081\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly capture z as complex number and appropriately introduce r and \u03b8 as real numbers for polar form", "The condition z^2 = i is perfectly translated to Lean syntax with Complex.I representing the imaginary unit", "The polar form definition is correctly formalized. The additional constraint r \u2265 0 is mathematically appropriate for polar form and represents an acceptable extra detail not contradicting the natural language", "The conclusion perfectly matches the natural language, with proper Lean syntax for complex exponential and imaginary unit", "The overall logical structure and flow from assumptions to conclusion is perfectly preserved"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "The polar form of i is e^{i(\u03c0/2+2k\u03c0)}", "statement": "We assume:\n\u2022 (General knowledge of complex numbers)\nTherefore, we conclude:\n\u2022 The polar form of the complex number i is e^(i(\u03c0/2 + 2k\u03c0)) for any integer k [l2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem polar_form_of_i : \u2200 k : \u2124, Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem polar_form_of_i : \u2200 k : \u2124, Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.I := by\n  have h_exp_2piI : Complex.exp (2 * Real.pi * Complex.I) = 1 := by\n    rw [Complex.exp_eq_one_iff]\n    use 1\n    <;> simp [Complex.ext_iff, Complex.I_mul_I]\n    <;> ring_nf\n    <;> norm_num\n    <;> field_simp [Real.pi_pos.le]\n    <;> ring_nf\n    <;> norm_num\n  \n  have h_exp_int_mul : \u2200 (k : \u2124), Complex.exp ( (k : \u2102) * (2 * Real.pi * Complex.I) ) = 1 := by\n    intro k\n    have h\u2081 : Complex.exp ((k : \u2102) * (2 * Real.pi * Complex.I)) = (Complex.exp (2 * Real.pi * Complex.I)) ^ (k : \u2124) := by\n      rw [\u2190 Complex.exp_int_mul]\n      <;> ring_nf\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n      <;> field_simp [Real.pi_pos.le]\n      <;> ring_nf\n      <;> norm_num\n    rw [h\u2081]\n    rw [h_exp_2piI]\n    simp [zpow_ofNat]\n  \n  have h_exp_I_pi_div_two : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n    have h\u2081 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n      -- Use the property of complex exponentials to compute the value\n      have h\u2082 : Complex.exp (Complex.I * (Real.pi / 2)) = \u2191(Real.cos (Real.pi / 2)) + Complex.I * \u2191(Real.sin (Real.pi / 2)) := by\n        rw [Complex.ext_iff]\n        simp [Complex.exp_re, Complex.exp_im, Complex.ext_iff, Real.cos, Real.sin]\n        <;> ring_nf\n        <;> simp [Complex.I_re, Complex.I_im]\n        <;> norm_num\n        <;> field_simp [Real.cos_add, Real.sin_add]\n        <;> ring_nf\n        <;> simp [Complex.ext_iff, Complex.I_re, Complex.I_im]\n        <;> norm_num\n        <;> linarith [Real.pi_pos]\n      rw [h\u2082]\n      -- Simplify using the known values of cos(\u03c0/2) and sin(\u03c0/2)\n      have h\u2083 : Real.cos (Real.pi / 2) = 0 := by norm_num\n      have h\u2084 : Real.sin (Real.pi / 2) = 1 := by norm_num\n      rw [h\u2083, h\u2084]\n      simp [Complex.ext_iff, Complex.I_re, Complex.I_im]\n      <;> norm_num\n    exact h\u2081\n  \n  have h_main : \u2200 (k : \u2124), Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.I := by\n    intro k\n    have h\u2081 : Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.exp (Complex.I * (Real.pi / 2) + Complex.I * (2 * k * Real.pi)) := by\n      congr 1\n      ring_nf\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> ring_nf\n      <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      <;> norm_num\n      <;> linarith [Real.pi_pos]\n    rw [h\u2081]\n    have h\u2082 : Complex.exp (Complex.I * (Real.pi / 2) + Complex.I * (2 * k * Real.pi)) = Complex.exp (Complex.I * (Real.pi / 2)) * Complex.exp (Complex.I * (2 * k * Real.pi)) := by\n      rw [Complex.exp_add]\n    rw [h\u2082]\n    have h\u2083 : Complex.exp (Complex.I * (2 * k * Real.pi)) = 1 := by\n      have h\u2084 : Complex.exp (Complex.I * (2 * k * Real.pi)) = Complex.exp ((k : \u2102) * (2 * Real.pi * Complex.I)) := by\n        congr 1\n        <;>\n        (try simp [Complex.ext_iff, Complex.I_mul_I, mul_assoc, mul_comm, mul_left_comm]) <;>\n        (try ring_nf) <;>\n        (try norm_cast) <;>\n        (try field_simp [Real.pi_pos.le]) <;>\n        (try simp_all [Complex.ext_iff, Complex.I_mul_I, mul_assoc, mul_comm, mul_left_comm]) <;>\n        (try ring_nf) <;>\n        (try norm_num) <;>\n        (try linarith [Real.pi_pos])\n        <;>\n        simp_all [Complex.ext_iff, Complex.I_mul_I, mul_assoc, mul_comm, mul_left_comm]\n        <;>\n        ring_nf at *\n        <;>\n        norm_num at *\n        <;>\n        linarith [Real.pi_pos]\n      rw [h\u2084]\n      have h\u2085 : Complex.exp ((k : \u2102) * (2 * Real.pi * Complex.I)) = 1 := h_exp_int_mul k\n      rw [h\u2085]\n    rw [h\u2083]\n    have h\u2084 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := h_exp_I_pi_div_two\n    rw [h\u2084]\n    <;> simp [Complex.ext_iff, Complex.I_mul_I]\n    <;> norm_num\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content of the natural language statement. The expression Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) is mathematically equivalent to e^(i(\u03c0/2 + 2k\u03c0)), the quantification over integers k is properly represented, and the equality with Complex.I accurately formalizes the polar form relationship. The theorem structure appropriately translates the natural language conclusion into a precise mathematical statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "so by equating the moduli and arguments we get r^2=1 and 2\u03b8 = \u03c0/2+2k\u03c0.", "statement": "We assume:\n\u2022 r^2 * e^(i*2\u03b8) = i [l1]\n\u2022 The polar form of i is e^(i(\u03c0/2 + 2k\u03c0)) for any integer k [l2]\nTherefore, we conclude:\n\u2022 By equating the polar forms, we get r^2 = 1 (from the moduli) and 2\u03b8 = \u03c0/2 + 2k\u03c0 for some integer k (from the arguments) [l3].", "dependencies": ["l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (r \u03b8 : \u211d)\n  (h1 : r^2 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I)\n  (h2 : \u2203 k : \u2124, Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.I) :\n  r^2 = 1 \u2227 \u2203 k : \u2124, 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3\n  (r \u03b8 : \u211d)\n  (h1 : r^2 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I)\n  (h2 : \u2203 k : \u2124, Complex.exp (Complex.I * (Real.pi / 2 + 2 * k * Real.pi)) = Complex.I) :\n  r^2 = 1 \u2227 \u2203 k : \u2124, 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi := by\n  have h_r_sq : r^2 = 1 := by\n    have h3 : Complex.abs (r^2 * Complex.exp (Complex.I * (2 * \u03b8))) = Complex.abs (Complex.I) := by rw [h1]\n    have h4 : Complex.abs (r^2 * Complex.exp (Complex.I * (2 * \u03b8))) = (r^2 : \u211d) := by\n      calc\n        Complex.abs (r ^ 2 * Complex.exp (Complex.I * (2 * \u03b8))) = Complex.abs (r ^ 2 : \u2102) * Complex.abs (Complex.exp (Complex.I * (2 * \u03b8))) := by\n          simp [Complex.abs.map_mul]\n        _ = (r ^ 2 : \u211d) * Complex.abs (Complex.exp (Complex.I * (2 * \u03b8))) := by\n          simp [Complex.abs_ofReal]\n          <;>\n          ring_nf\n          <;>\n          simp [Complex.abs_of_nonneg (by nlinarith : (0 : \u211d) \u2264 r ^ 2)]\n        _ = (r ^ 2 : \u211d) * 1 := by\n          have h5 : Complex.abs (Complex.exp (Complex.I * (2 * \u03b8))) = 1 := by\n            simp [Complex.abs_exp]\n            <;>\n            simp [Complex.normSq]\n            <;>\n            ring_nf\n            <;>\n            simp [Real.exp_zero]\n            <;>\n            field_simp [Real.exp_ne_zero]\n            <;>\n            ring_nf\n            <;>\n            norm_num\n          rw [h5]\n          <;>\n          ring_nf\n        _ = (r ^ 2 : \u211d) := by ring\n    have h5 : Complex.abs (Complex.I : \u2102) = (1 : \u211d) := by\n      simp [Complex.abs, Complex.normSq]\n      <;>\n      norm_num\n    rw [h4] at h3\n    rw [h5] at h3\n    norm_cast at h3 \u22a2\n    <;>\n    nlinarith [sq_nonneg r]\n  \n  have h_exp_eq : Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by\n    have h3 : (r^2 : \u2102) * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := by simpa using h1\n    have h4 : (r^2 : \u2102) = 1 := by\n      norm_cast\n      <;> simp [h_r_sq]\n    rw [h4] at h3\n    -- Now we have 1 * Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I, which simplifies to Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I\n    simpa using h3\n  \n  have h_exp_diff : Complex.exp (Complex.I * (2 * \u03b8 - Real.pi / 2)) = 1 := by\n    have h3 : Complex.exp (Complex.I * (2 * \u03b8 - Real.pi / 2)) = Complex.exp (Complex.I * (2 * \u03b8)) / Complex.exp (Complex.I * (Real.pi / 2)) := by\n      have h4 : Complex.exp (Complex.I * (2 * \u03b8 - Real.pi / 2)) = Complex.exp (Complex.I * (2 * \u03b8) - Complex.I * (Real.pi / 2)) := by\n        ring_nf\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n        <;> ring_nf\n        <;> simp [Complex.ext_iff, Complex.I_mul_I]\n      rw [h4]\n      have h5 : Complex.exp (Complex.I * (2 * \u03b8) - Complex.I * (Real.pi / 2)) = Complex.exp (Complex.I * (2 * \u03b8)) / Complex.exp (Complex.I * (Real.pi / 2)) := by\n        rw [Complex.exp_sub]\n        <;> field_simp [Complex.exp_ne_zero]\n      rw [h5]\n    rw [h3]\n    have h6 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n      have h7 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n        rw [Complex.ext_iff]\n        simp [Complex.exp_re, Complex.exp_im, Complex.ext_iff, Real.exp_zero, mul_comm]\n        <;>\n        (try ring_nf) <;>\n        (try norm_num) <;>\n        (try field_simp [Real.pi_pos.le]) <;>\n        (try simp [Real.cos_pi_div_two, Real.sin_pi_div_two]) <;>\n        (try norm_num)\n        <;>\n        (try linarith [Real.pi_pos])\n      rw [h7]\n    rw [h6]\n    have h7 : Complex.exp (Complex.I * (2 * \u03b8)) = Complex.I := h_exp_eq\n    rw [h7]\n    <;> simp [Complex.ext_iff, Complex.I_mul_I]\n    <;> norm_num\n  \n  have h_main : \u2203 (k : \u2124), 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi := by\n    have h3 : Complex.exp (Complex.I * (2 * \u03b8 - Real.pi / 2)) = 1 := h_exp_diff\n    have h4 : \u2203 (k : \u2124), Complex.I * (2 * \u03b8 - Real.pi / 2) = 2 * Real.pi * Complex.I * k := by\n      rw [Complex.exp_eq_one_iff] at h3\n      obtain \u27e8k, hk\u27e9 := h3\n      use k\n      <;> simp_all [Complex.ext_iff, Complex.I_mul_I, mul_comm]\n      <;> ring_nf at *\n      <;> norm_num at *\n      <;>\n      (try\n        {\n          constructor <;>\n          (try simp_all [Complex.ext_iff, Complex.I_mul_I, mul_comm]) <;>\n          (try ring_nf at *) <;>\n          (try norm_num at *) <;>\n          (try linarith)\n        })\n      <;>\n      (try\n        {\n          field_simp at * <;>\n          ring_nf at * <;>\n          norm_num at * <;>\n          (try linarith)\n        })\n    obtain \u27e8k, hk\u27e9 := h4\n    have h5 : (2 : \u211d) * \u03b8 - Real.pi / 2 = 2 * k * Real.pi := by\n      have h6 := hk\n      simp [Complex.ext_iff, Complex.I_mul_I, mul_comm] at h6\n      <;>\n      (try ring_nf at h6) <;>\n      (try norm_num at h6) <;>\n      (try linarith) <;>\n      (try\n        {\n          nlinarith [Real.pi_pos]\n        }) <;>\n      (try\n        {\n          field_simp at h6 \u22a2 <;>\n          ring_nf at h6 \u22a2 <;>\n          norm_num at h6 \u22a2 <;>\n          linarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          nlinarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          linarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          ring_nf at h6 \u22a2 <;>\n          norm_num at h6 \u22a2 <;>\n          linarith [Real.pi_pos]\n        })\n    have h6 : (2 : \u211d) * \u03b8 = Real.pi / 2 + 2 * (k : \u211d) * Real.pi := by linarith\n    have h7 : \u2203 (k : \u2124), 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi := by\n      refine' \u27e8k, _\u27e9\n      <;>\n      (try simp_all [Complex.ext_iff, Complex.I_mul_I, mul_comm]) <;>\n      (try ring_nf at *) <;>\n      (try norm_num at *) <;>\n      (try linarith [Real.pi_pos]) <;>\n      (try\n        {\n          field_simp at * <;>\n          ring_nf at * <;>\n          norm_num at * <;>\n          linarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          nlinarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          linarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          ring_nf at * <;>\n          norm_num at * <;>\n          linarith [Real.pi_pos]\n        })\n      <;>\n      (try\n        {\n          simp_all [Complex.ext_iff, Complex.I_mul_I, mul_comm]\n          <;>\n          ring_nf at * <;>\n          norm_num at * <;>\n          linarith [Real.pi_pos]\n        })\n    exact h7\n  \n  have h_final : r^2 = 1 \u2227 \u2203 k : \u2124, 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi := by\n    refine' \u27e8h_r_sq, _\u27e9\n    exact h_main\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The assumption r^2 * e^(i*2\u03b8) = i is correctly formalized using appropriate Lean syntax for complex numbers and exponentials.", "The polar form statement is properly captured using existential quantification over integers, which correctly represents 'for any integer k'.", "The conclusion accurately formalizes both parts: r^2 = 1 and the argument equation with proper existential quantification for the integer k."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "This gives two distinct solutions for z: z_0 = e^{i\u03c0/4} and z_1 = e^{i5\u03c0/4}.", "statement": "We assume:\n\u2022 The polar form of z is z = r * e^(i\u03b8), where r \u2265 0 [def_1]\n\u2022 r^2 = 1 and 2\u03b8 = \u03c0/2 + 2k\u03c0 for some integer k [l3]\nTherefore, we conclude:\n\u2022 The two distinct solutions for z satisfying z^2=i are z_0 = e^(i\u03c0/4) (for k=0) and z_1 = e^(i5\u03c0/4) (for k=1) [l4].", "dependencies": ["def_1", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102)\n  (r \u03b8 : \u211d)\n  (def_1 : \u2203 r \u03b8 : \u211d, r \u2265 0 \u2227 z = r * Complex.exp (Complex.I * \u03b8) \u2227 r = \u2016z\u2016 \u2227 \u03b8 = Complex.arg z)\n  (l3 : r^2 = 1 \u2227 \u2203 k : \u2124, 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi) :\n  \u2203 z\u2080 z\u2081 : \u2102, z\u2080 = Complex.exp (Complex.I * (Real.pi / 4)) \u2227 \n                z\u2081 = Complex.exp (Complex.I * (5 * Real.pi / 4)) \u2227\n                z\u2080 \u2260 z\u2081 \u2227\n                z\u2080^2 = Complex.I \u2227 \n                z\u2081^2 = Complex.I := by\nsorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4\n  (z : \u2102)\n  (r \u03b8 : \u211d)\n  (def_1 : \u2203 r \u03b8 : \u211d, r \u2265 0 \u2227 z = r * Complex.exp (Complex.I * \u03b8) \u2227 r = \u2016z\u2016 \u2227 \u03b8 = Complex.arg z)\n  (l3 : r^2 = 1 \u2227 \u2203 k : \u2124, 2 * \u03b8 = Real.pi / 2 + 2 * k * Real.pi) :\n  \u2203 z\u2080 z\u2081 : \u2102, z\u2080 = Complex.exp (Complex.I * (Real.pi / 4)) \u2227 \n                z\u2081 = Complex.exp (Complex.I * (5 * Real.pi / 4)) \u2227\n                z\u2080 \u2260 z\u2081 \u2227\n                z\u2080^2 = Complex.I \u2227 \n                z\u2081^2 = Complex.I := by\n  have h_main : \u2203 (z\u2080 z\u2081 : \u2102), z\u2080 = Complex.exp (Complex.I * (Real.pi / 4)) \u2227 z\u2081 = Complex.exp (Complex.I * (5 * Real.pi / 4)) \u2227 z\u2080 \u2260 z\u2081 \u2227 z\u2080 ^ 2 = Complex.I \u2227 z\u2081 ^ 2 = Complex.I := by\n    use Complex.exp (Complex.I * (Real.pi / 4)), Complex.exp (Complex.I * (5 * Real.pi / 4))\n    constructor\n    \u00b7 rfl\n    constructor\n    \u00b7 rfl\n    constructor\n    \u00b7 -- Prove z\u2080 \u2260 z\u2081\n      intro h\n      have h\u2081 : Complex.exp (Complex.I * (Real.pi / 4)) = Complex.exp (Complex.I * (5 * Real.pi / 4)) := h\n      have h\u2082 : Complex.exp (Complex.I * (Real.pi / 4)) \u2260 Complex.exp (Complex.I * (5 * Real.pi / 4)) := by\n        intro h\u2083\n        have h\u2084 : Complex.re (Complex.exp (Complex.I * (Real.pi / 4))) = Real.cos (Real.pi / 4) := by\n          simp [Complex.exp_re, Complex.I_re, Complex.I_im, Complex.ext_iff, Real.cos, Real.sin]\n          <;> ring_nf\n          <;> simp [Complex.ext_iff, Real.cos, Real.sin]\n          <;> norm_num\n        have h\u2085 : Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) = Real.cos (5 * Real.pi / 4) := by\n          simp [Complex.exp_re, Complex.I_re, Complex.I_im, Complex.ext_iff, Real.cos, Real.sin]\n          <;> ring_nf\n          <;> simp [Complex.ext_iff, Real.cos, Real.sin]\n          <;> norm_num\n        have h\u2086 : Real.cos (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num\n        have h\u2087 : Real.cos (5 * Real.pi / 4) = -Real.sqrt 2 / 2 := by\n          have h\u2088 : Real.cos (5 * Real.pi / 4) = Real.cos (Real.pi + Real.pi / 4) := by ring\n          rw [h\u2088]\n          have h\u2089 : Real.cos (Real.pi + Real.pi / 4) = -Real.cos (Real.pi / 4) := by\n            rw [Real.cos_add]\n            <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n            <;> ring\n            <;> field_simp\n            <;> ring\n          rw [h\u2089]\n          have h\u2081\u2080 : Real.cos (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num\n          rw [h\u2081\u2080]\n          <;> ring\n        have h\u2088 : Complex.re (Complex.exp (Complex.I * (Real.pi / 4))) = Real.sqrt 2 / 2 := by\n          rw [h\u2084]\n          <;> rw [h\u2086]\n        have h\u2089 : Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) = -Real.sqrt 2 / 2 := by\n          rw [h\u2085]\n          <;> rw [h\u2087]\n        have h\u2081\u2080 : Complex.re (Complex.exp (Complex.I * (Real.pi / 4))) \u2260 Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) := by\n          rw [h\u2088, h\u2089]\n          <;>\n          (try norm_num) <;>\n          (try linarith [Real.sqrt_pos.mpr (show (0 : \u211d) < 2 by norm_num)]) <;>\n          (try\n            {\n              nlinarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n            })\n        have h\u2081\u2081 : Complex.re (Complex.exp (Complex.I * (Real.pi / 4))) = Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) := by\n          rw [h\u2083]\n        exact h\u2081\u2080 h\u2081\u2081\n      exact h\u2082 h\u2081\n    \u00b7 constructor\n      \u00b7 -- Prove z\u2080\u00b2 = I\n        have h\u2081 : (Complex.exp (Complex.I * (Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (Real.pi / 2)) := by\n          calc\n            (Complex.exp (Complex.I * (Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (Real.pi / 4)) * Complex.exp (Complex.I * (Real.pi / 4)) := by ring_nf\n            _ = Complex.exp (Complex.I * (Real.pi / 4) + Complex.I * (Real.pi / 4)) := by\n              rw [Complex.exp_add]\n            _ = Complex.exp (Complex.I * (Real.pi / 4 + Real.pi / 4)) := by ring_nf\n            _ = Complex.exp (Complex.I * (Real.pi / 2)) := by ring_nf\n        have h\u2082 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n          have h\u2083 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n            rw [Complex.ext_iff]\n            simp [Complex.exp_re, Complex.exp_im, Complex.ext_iff, Real.cos, Real.sin]\n            <;> norm_num <;>\n            (try ring_nf) <;>\n            (try field_simp) <;>\n            (try norm_num) <;>\n            (try linarith [Real.pi_pos])\n          rw [h\u2083]\n        calc\n          (Complex.exp (Complex.I * (Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (Real.pi / 2)) := h\u2081\n          _ = Complex.I := h\u2082\n      \u00b7 -- Prove z\u2081\u00b2 = I\n        have h\u2081 : (Complex.exp (Complex.I * (5 * Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (5 * Real.pi / 2)) := by\n          calc\n            (Complex.exp (Complex.I * (5 * Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (5 * Real.pi / 4)) * Complex.exp (Complex.I * (5 * Real.pi / 4)) := by ring_nf\n            _ = Complex.exp (Complex.I * (5 * Real.pi / 4) + Complex.I * (5 * Real.pi / 4)) := by\n              rw [Complex.exp_add]\n            _ = Complex.exp (Complex.I * (5 * Real.pi / 4 + 5 * Real.pi / 4)) := by ring_nf\n            _ = Complex.exp (Complex.I * (10 * Real.pi / 4)) := by ring_nf\n            _ = Complex.exp (Complex.I * (5 * Real.pi / 2)) := by ring_nf\n        have h\u2082 : Complex.exp (Complex.I * (5 * Real.pi / 2)) = Complex.I := by\n          have h\u2083 : Complex.exp (Complex.I * (5 * Real.pi / 2)) = Complex.exp (Complex.I * (Real.pi / 2 + 2 * Real.pi)) := by\n            ring_nf\n          rw [h\u2083]\n          have h\u2084 : Complex.exp (Complex.I * (Real.pi / 2 + 2 * Real.pi)) = Complex.exp (Complex.I * (Real.pi / 2)) * Complex.exp (Complex.I * (2 * Real.pi)) := by\n            rw [\u2190 Complex.exp_add]\n            <;> ring_nf\n          rw [h\u2084]\n          have h\u2085 : Complex.exp (Complex.I * (2 * Real.pi)) = 1 := by\n            have h\u2085\u2081 : Complex.exp (Complex.I * (2 * Real.pi)) = 1 := by\n              rw [Complex.exp_eq_one_iff]\n              use 1\n              <;> ring_nf <;>\n              (try norm_num) <;>\n              (try linarith [Real.pi_pos])\n            rw [h\u2085\u2081]\n          rw [h\u2085]\n          have h\u2086 : Complex.exp (Complex.I * (Real.pi / 2)) = Complex.I := by\n            rw [Complex.ext_iff]\n            simp [Complex.exp_re, Complex.exp_im, Complex.ext_iff, Real.cos, Real.sin]\n            <;> norm_num <;>\n            (try ring_nf) <;>\n            (try field_simp) <;>\n            (try norm_num) <;>\n            (try linarith [Real.pi_pos])\n          rw [h\u2086]\n          <;> simp [Complex.ext_iff]\n          <;> norm_num\n        calc\n          (Complex.exp (Complex.I * (5 * Real.pi / 4)) : \u2102) ^ 2 = Complex.exp (Complex.I * (5 * Real.pi / 2)) := h\u2081\n          _ = Complex.I := h\u2082\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The polar form assumption is correctly formalized with appropriate additional mathematical constraints that are consistent with the definition.", "The conditions r^2 = 1 and the angle relationship are accurately translated to Lean.", "The conclusion misses a critical aspect: the natural language claims these are 'THE two distinct solutions' (implying completeness), but the Lean formalization only proves existence of two solutions without establishing they are the complete solution set to z^2=i."]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The polar form assumption is correctly formalized with appropriate additional mathematical constraints that are consistent with the definition.', 'The conditions r^2 = 1 and the angle relationship are accurately translated to Lean.', \"The conclusion misses a critical aspect: the natural language claims these are 'THE two distinct solutions' (implying completeness), but the Lean formalization only proves existence of two solutions without establishing they are the complete solution set to z^2=i.\"]"}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "since Re(e^{i5\u03c0/4}) < 0.", "statement": "We assume:\n\u2022 (General knowledge of trigonometry)\nTherefore, we conclude:\n\u2022 The real part of e^(i5\u03c0/4) is Re(e^(i5\u03c0/4)) = cos(5\u03c0/4) = -1/\u221a2, which is a negative number [l5].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 : \n  Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) = Real.cos (5 * Real.pi / 4) \u2227 \n  Real.cos (5 * Real.pi / 4) = -1 / Real.sqrt 2 \u2227 \n  -1 / Real.sqrt 2 < 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 : \n  Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) = Real.cos (5 * Real.pi / 4) \u2227 \n  Real.cos (5 * Real.pi / 4) = -1 / Real.sqrt 2 \u2227 \n  -1 / Real.sqrt 2 < 0 := by\n  have h\u2081 : Complex.re (Complex.exp (Complex.I * (5 * Real.pi / 4))) = Real.cos (5 * Real.pi / 4) := by\n    rw [Complex.exp_re]\n    <;> simp [Complex.ext_iff, Complex.I_re, Complex.I_im, mul_comm]\n    <;> ring_nf\n    <;> norm_num\n    <;> field_simp\n    <;> ring_nf\n    <;> norm_num\n  \n  have h\u2082 : Real.cos (5 * Real.pi / 4) = -Real.sqrt 2 / 2 := by\n    have h\u2082\u2081 : Real.cos (5 * Real.pi / 4) = Real.cos (Real.pi + Real.pi / 4) := by\n      ring_nf\n      <;> field_simp\n      <;> ring_nf\n    rw [h\u2082\u2081]\n    have h\u2082\u2082 : Real.cos (Real.pi + Real.pi / 4) = -Real.cos (Real.pi / 4) := by\n      rw [Real.cos_add]\n      <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n      <;> ring_nf\n      <;> field_simp\n      <;> ring_nf\n      <;> norm_num\n    rw [h\u2082\u2082]\n    have h\u2082\u2083 : Real.cos (Real.pi / 4) = Real.sqrt 2 / 2 := by\n      norm_num [Real.cos_pi_div_four]\n    rw [h\u2082\u2083]\n    <;> ring_nf\n    <;> field_simp\n    <;> ring_nf\n    <;> norm_num\n  \n  have h\u2083 : -Real.sqrt 2 / 2 = -1 / Real.sqrt 2 := by\n    have h\u2083\u2081 : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n    have h\u2083\u2082 : Real.sqrt 2 \u2260 0 := by linarith\n    field_simp [h\u2083\u2082]\n    <;> ring_nf\n    <;> field_simp [h\u2083\u2082]\n    <;> nlinarith [Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n  \n  have h\u2084 : Real.cos (5 * Real.pi / 4) = -1 / Real.sqrt 2 := by\n    rw [h\u2082]\n    rw [h\u2083]\n    <;>\n    norm_num\n  \n  have h\u2085 : -1 / Real.sqrt 2 < 0 := by\n    have h\u2085\u2081 : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n    have h\u2085\u2082 : -1 / Real.sqrt 2 < 0 := by\n      apply div_neg_of_neg_of_pos\n      \u00b7 linarith\n      \u00b7 exact h\u2085\u2081\n    exact h\u2085\u2082\n  \n  exact \u27e8h\u2081, h\u2084, h\u2085\u27e9", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures all three mathematical claims from the natural language: the Euler's formula relationship between the real part of the complex exponential and cosine, the specific trigonometric value, and the negativity of the result. The use of Complex.re, Complex.exp, and the inequality < 0 are appropriate mathematical formalizations of the corresponding natural language concepts."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "The condition Re(z) > 0 selects the solution z = e^{i\u03c0/4}, since Re(e^{i5\u03c0/4}) < 0.", "statement": "We assume:\n\u2022 The condition on z is Re(z) > 0 [tc_2]\n\u2022 The two possible solutions for z are z_0 = e^(i\u03c0/4) and z_1 = e^(i5\u03c0/4) [l4]\n\u2022 The real part of z_1 is negative, Re(e^(i5\u03c0/4)) < 0 [l5]\nTherefore, we conclude:\n\u2022 The only solution that satisfies the condition Re(z) > 0 is z = e^(i\u03c0/4) [l6].", "dependencies": ["tc_2", "l4", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 (z : \u2102) (h1 : z^2 = Complex.I) (h2 : 0 < Complex.re z) :\n  z = Complex.exp (Complex.I * (Real.pi / 4)) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 (z : \u2102) (h1 : z^2 = Complex.I) (h2 : 0 < Complex.re z) :\n  z = Complex.exp (Complex.I * (Real.pi / 4)) := by\n  have h3 : z.re * z.re - z.im * z.im = 0 := by\n    have h3\u2081 := h1\n    simp [Complex.ext_iff, pow_two, Complex.ext_iff, Complex.I_mul_I, Complex.I_mul_I] at h3\u2081 \u22a2\n    -- Simplify the equation z^2 = i to get the real and imaginary parts\n    <;> ring_nf at h3\u2081 \u22a2 <;>\n    (try norm_num at h3\u2081 \u22a2) <;>\n    (try nlinarith) <;>\n    (try linarith) <;>\n    (try nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]) <;>\n    (try simp_all [Complex.ext_iff, pow_two, Complex.ext_iff, Complex.I_mul_I, Complex.I_mul_I]) <;>\n    (try nlinarith)\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n  \n  have h4 : 2 * z.re * z.im = 1 := by\n    have h4\u2081 := h1\n    simp [Complex.ext_iff, pow_two, Complex.ext_iff, Complex.I_mul_I, Complex.I_mul_I] at h4\u2081 \u22a2\n    -- Simplify the equation z^2 = i to get the real and imaginary parts\n    <;> ring_nf at h4\u2081 \u22a2 <;>\n    (try norm_num at h4\u2081 \u22a2) <;>\n    (try nlinarith) <;>\n    (try linarith) <;>\n    (try nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]) <;>\n    (try simp_all [Complex.ext_iff, pow_two, Complex.ext_iff, Complex.I_mul_I, Complex.I_mul_I]) <;>\n    (try nlinarith)\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (z.re + z.im), sq_nonneg (z.re - z.im)]\n      })\n  \n  have h5 : z.re * z.re = z.im * z.im := by\n    have h5\u2081 : z.re * z.re - z.im * z.im = 0 := h3\n    linarith\n  \n  have h6 : z.im = z.re \u2228 z.im = -z.re := by\n    have h6\u2081 : z.re * z.re = z.im * z.im := h5\n    have h6\u2082 : z.im = z.re \u2228 z.im = -z.re := by\n      have h6\u2083 : z.im = z.re \u2228 z.im = -z.re := by\n        apply or_iff_not_imp_left.mpr\n        intro h6\u2084\n        apply eq_of_sub_eq_zero\n        apply mul_left_cancel\u2080 (sub_ne_zero.mpr h6\u2084)\n        nlinarith\n      exact h6\u2083\n    exact h6\u2082\n  \n  have h7 : z.im = z.re := by\n    cases h6 with\n    | inl h6 =>\n      -- Case: z.im = z.re\n      exact h6\n    | inr h6 =>\n      -- Case: z.im = -z.re\n      have h7\u2081 : 2 * z.re * z.im = 1 := h4\n      have h7\u2082 : z.im = -z.re := h6\n      rw [h7\u2082] at h7\u2081\n      have h7\u2083 : 2 * z.re * (-z.re) = 1 := by simpa using h7\u2081\n      have h7\u2084 : -2 * (z.re * z.re) = 1 := by ring_nf at h7\u2083 \u22a2; linarith\n      have h7\u2085 : z.re * z.re \u2265 0 := by nlinarith\n      have h7\u2086 : -2 * (z.re * z.re) \u2264 0 := by nlinarith\n      linarith\n  \n  have h8 : 2 * z.re * z.re = 1 := by\n    have h8\u2081 : 2 * z.re * z.im = 1 := h4\n    have h8\u2082 : z.im = z.re := h7\n    rw [h8\u2082] at h8\u2081\n    ring_nf at h8\u2081 \u22a2\n    <;> linarith\n  \n  have h9 : z.re > 0 := by\n    have h9\u2081 : 0 < Complex.re z := h2\n    simpa [Complex.ext_iff] using h9\u2081\n  \n  have h10 : z.re = Real.sqrt 2 / 2 := by\n    have h10\u2081 : 2 * z.re * z.re = 1 := h8\n    have h10\u2082 : 0 < z.re := h9\n    have h10\u2083 : z.re * z.re = 1 / 2 := by\n      nlinarith\n    have h10\u2084 : z.re = Real.sqrt 2 / 2 := by\n      have h10\u2085 : 0 < Real.sqrt 2 := Real.sqrt_pos.mpr (by norm_num)\n      have h10\u2086 : 0 < Real.sqrt 2 / 2 := by positivity\n      have h10\u2087 : (Real.sqrt 2 / 2) > 0 := by positivity\n      have h10\u2088 : (Real.sqrt 2 / 2) * (Real.sqrt 2 / 2) = 1 / 2 := by\n        ring_nf\n        <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n        <;>\n        linarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n      have h10\u2089 : z.re = Real.sqrt 2 / 2 := by\n        nlinarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n      exact h10\u2089\n    exact h10\u2084\n  \n  have h11 : z.im = Real.sqrt 2 / 2 := by\n    have h11\u2081 : z.im = z.re := h7\n    have h11\u2082 : z.re = Real.sqrt 2 / 2 := h10\n    linarith\n  \n  have h12 : z = \u27e8Real.sqrt 2 / 2, Real.sqrt 2 / 2\u27e9 := by\n    have h12\u2081 : z.re = Real.sqrt 2 / 2 := h10\n    have h12\u2082 : z.im = Real.sqrt 2 / 2 := h11\n    apply Complex.ext <;> simp_all [Complex.ext_iff]\n    <;>\n    (try ring_nf at * <;> norm_num at * <;> linarith)\n    <;>\n    (try field_simp at * <;> ring_nf at * <;> norm_num at * <;> linarith)\n  \n  have h13 : Complex.exp (Complex.I * (Real.pi / 4)) = \u27e8Real.sqrt 2 / 2, Real.sqrt 2 / 2\u27e9 := by\n    have h13\u2081 : Complex.exp (Complex.I * (Real.pi / 4)) = \u27e8Real.cos (Real.pi / 4), Real.sin (Real.pi / 4)\u27e9 := by\n      simp [Complex.ext_iff, Complex.exp_re, Complex.exp_im, Complex.ext_iff]\n      <;>\n      ring_nf\n      <;>\n      simp [Complex.ext_iff, Complex.exp_re, Complex.exp_im, Complex.ext_iff]\n      <;>\n      field_simp [Real.cos_add, Real.sin_add]\n      <;>\n      ring_nf\n      <;>\n      norm_num\n    rw [h13\u2081]\n    have h13\u2082 : Real.cos (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num [Real.cos_pi_div_four]\n    have h13\u2083 : Real.sin (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num [Real.sin_pi_div_four]\n    simp [h13\u2082, h13\u2083]\n    <;>\n    ring_nf\n    <;>\n    norm_num\n    <;>\n    field_simp [Real.sqrt_eq_iff_sq_eq]\n    <;>\n    ring_nf\n    <;>\n    norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h14 : z = Complex.exp (Complex.I * (Real.pi / 4)) := by\n    rw [h12, h13]\n    <;>\n    simp [Complex.ext_iff]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  apply h14", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the mathematical content of the natural language. While the natural language describes a step-by-step elimination process, the Lean theorem statement equivalently expresses that given z\u00b2 = i and Re(z) > 0, then z = e^(i\u03c0/4). The inclusion of the constraint z\u00b2 = i in the Lean version is mathematically necessary and consistent with the natural language discussion of two solutions z\u2080 and z\u2081, which are precisely the two square roots of i. The logical meaning is preserved: among the solutions to z\u00b2 = i, only e^(i\u03c0/4) satisfies the positive real part condition."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "In Cartesian form, z=e^{i\u03c0/4} is z = \\frac{1}{\\sqrt{2}} + i\\frac{1}{\\sqrt{2}}.", "statement": "We assume:\n\u2022 The solution is z = e^(i\u03c0/4) [l6]\nTherefore, we conclude:\n\u2022 z = 1/\u221a2 + i * 1/\u221a2 [ts_1].", "dependencies": ["l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z : \u2102) (h : z = Complex.exp (Complex.I * (Real.pi / 4))) :\n  z = 1 / Real.sqrt 2 + Complex.I * (1 / Real.sqrt 2) := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z : \u2102) (h : z = Complex.exp (Complex.I * (Real.pi / 4))) :\n  z = 1 / Real.sqrt 2 + Complex.I * (1 / Real.sqrt 2) := by\n  have h\u2081 : z.re = 1 / Real.sqrt 2 := by\n    rw [h]\n    have h\u2082 : (Complex.exp (Complex.I * (Real.pi / 4))).re = Real.cos (Real.pi / 4) := by\n      simp [Complex.exp_re, Complex.ext_iff, Complex.I_re, Complex.I_im, mul_comm]\n      <;> ring_nf\n      <;> simp [Real.cos_add, Real.sin_add, Real.cos_pi_div_two, Real.sin_pi_div_two]\n      <;> field_simp\n      <;> ring\n      <;> norm_num\n    rw [h\u2082]\n    have h\u2083 : Real.cos (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num [Real.cos_pi_div_four]\n    rw [h\u2083]\n    have h\u2084 : Real.sqrt 2 / 2 = 1 / Real.sqrt 2 := by\n      have h\u2085 : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n      field_simp [h\u2085.ne']\n      <;> ring_nf\n      <;> field_simp [h\u2085.ne']\n      <;> nlinarith [Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n    rw [h\u2084]\n    <;> simp [Complex.ext_iff]\n    <;> norm_num\n  \n  have h\u2082 : z.im = 1 / Real.sqrt 2 := by\n    rw [h]\n    have h\u2083 : (Complex.exp (Complex.I * (Real.pi / 4))).im = Real.sin (Real.pi / 4) := by\n      simp [Complex.exp_im, Complex.ext_iff, Complex.I_re, Complex.I_im, mul_comm]\n      <;> ring_nf\n      <;> simp [Real.cos_add, Real.sin_add, Real.cos_pi_div_two, Real.sin_pi_div_two]\n      <;> field_simp\n      <;> ring\n      <;> norm_num\n    rw [h\u2083]\n    have h\u2084 : Real.sin (Real.pi / 4) = Real.sqrt 2 / 2 := by norm_num [Real.sin_pi_div_four]\n    rw [h\u2084]\n    have h\u2085 : Real.sqrt 2 / 2 = 1 / Real.sqrt 2 := by\n      have h\u2086 : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n      field_simp [h\u2086.ne']\n      <;> ring_nf\n      <;> field_simp [h\u2086.ne']\n      <;> nlinarith [Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n    rw [h\u2085]\n    <;> simp [Complex.ext_iff]\n    <;> norm_num\n  \n  have h\u2083 : z = 1 / Real.sqrt 2 + Complex.I * (1 / Real.sqrt 2) := by\n    have h\u2084 : z.re = (1 / Real.sqrt 2 + Complex.I * (1 / Real.sqrt 2)).re := by\n      simp [h\u2081, Complex.ext_iff, pow_two]\n      <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n    have h\u2085 : z.im = (1 / Real.sqrt 2 + Complex.I * (1 / Real.sqrt 2)).im := by\n      simp [h\u2082, Complex.ext_iff, pow_two]\n      <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]\n    apply Complex.ext <;> simp_all [Complex.ext_iff, pow_two]\n    <;>\n    (try norm_num) <;>\n    (try linarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)]) <;>\n    (try field_simp [Real.sqrt_eq_iff_sq_eq] at * <;> ring_nf at * <;> norm_num at * <;>\n      linarith [Real.sqrt_nonneg 2, Real.sq_sqrt (show 0 \u2264 2 by norm_num)])\n  \n  rw [h\u2083]\n  <;>\n  norm_num", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The premise is accurately formalized. The Lean code correctly represents z = e^(i\u03c0/4) using appropriate complex number notation with Complex.exp, Complex.I, and Real.pi.", "The conclusion is perfectly captured. The Lean formalization correctly represents z = 1/\u221a2 + i * 1/\u221a2 using proper complex number arithmetic with Real.sqrt, Complex.I, and the appropriate algebraic structure."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    