
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Prove that if $a$ and $b$ are real numbers such that $9a^2 + 8ab + 7b^2 \leq 6$, then $7a + 5b + 12ab \leq 9$.

Proof: We want to show that $7a+5b+12ab\leq 9$ under the condition $9a^{2}+8ab+7b^{2}\leq 6$. Note that $7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3\leq (9a^{2}+8ab+7b^{2})+3\leq 9$. On the other hand, by the inequality $x^{2}+	frac{1}{4}\geq x$, we have $7a^{2}+	frac{7}{4}\geq 7a$ and $5b^{2}+	frac{5}{4}\geq 5b$, so adding yields $7a^{2}+5b^{2}+3\geq 7a+5b$. Therefore $7a^{2}+5b^{2}+12ab+3\geq 7a+5b+12ab$. Combining both bounds gives $$7a+5b+12ab \leq 7a^{2}+5b^{2}+12ab+3 \leq 9$$, which proves the claim.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "if $a$ and $b$ are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$", "statement": "Premise:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (a b : \u211d) (h : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) : \n  7 * a + 5 * b + 12 * a * b \u2264 9 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The declaration of a and b as real numbers matches exactly between natural language and Lean", "The constraint condition $9a^2 + 8ab + 7b^2 \u2264 6$ is correctly formalized as 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6 in Lean", "The natural language explicitly states that no conclusions are derived yet and this is just the initial premise, but the Lean theorem introduces a conclusion 7 * a + 5 * b + 12 * a * b \u2264 9 that is not mentioned in the natural language statement"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The declaration of a and b as real numbers matches exactly between natural language and Lean', 'The constraint condition $9a^2 + 8ab + 7b^2 \u2264 6$ is correctly formalized as 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6 in Lean', 'The natural language explicitly states that no conclusions are derived yet and this is just the initial premise, but the Lean theorem introduces a conclusion 7 * a + 5 * b + 12 * a * b \u2264 9 that is not mentioned in the natural language statement']"}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "$7a^{2}+5b^{2}+12ab+3=(9a^{2}+8ab+7b^{2})-2(a-b)^{2}+3\\leq (9a^{2}+8ab+7b^{2})+3\\leq 9$", "statement": "We assume:\n\u2022 a and b are real numbers such that $9a^2 + 8ab + 7b^2 \\leq 6$ [tc_1].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (a b : \u211d) (h : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) : \n  7 * a + 5 * b + 12 * a * b \u2264 9 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (a b : \u211d) (h : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) : \n  7 * a + 5 * b + 12 * a * b \u2264 9 := by\n  have h_main : 9 * a^2 + 7 * b^2 - 4 * a * b - 7 * a - 5 * b + 3 \u2265 0 := by\n    nlinarith [sq_nonneg (a - (2 * b + 7) / 18), sq_nonneg (b - 1 / 2), sq_nonneg (3 * a - 1),\n      sq_nonneg (3 * a - 2 * b), sq_nonneg (a - b), sq_nonneg (a + b),\n      sq_nonneg (3 * a + 2 * b - 1)]\n  \n  have h_step : 9 - (7 * a + 5 * b + 12 * a * b) \u2265 6 - (9 * a^2 + 8 * a * b + 7 * b^2) := by\n    nlinarith [h_main]\n  \n  have h_final : 7 * a + 5 * b + 12 * a * b \u2264 9 := by\n    have h\u2081 : 6 - (9 * a^2 + 8 * a * b + 7 * b^2) \u2265 0 := by\n      nlinarith\n    have h\u2082 : 9 - (7 * a + 5 * b + 12 * a * b) \u2265 0 := by\n      nlinarith\n    nlinarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["Variable declarations match perfectly - both specify a and b as real numbers", "The premise/hypothesis matches perfectly - both express the constraint 9a\u00b2 + 8ab + 7b\u00b2 \u2264 6", "The conclusion has major inconsistencies: the natural language states 7a\u00b2 + 5b\u00b2 + 12ab + 3 \u2264 9, but the Lean formalization has 7a + 5b + 12ab \u2264 9. The Lean version is missing the squared terms (a\u00b2 and b\u00b2) and the constant term (+3), making it a completely different mathematical statement"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['Variable declarations match perfectly - both specify a and b as real numbers', 'The premise/hypothesis matches perfectly - both express the constraint 9a\u00b2 + 8ab + 7b\u00b2 \u2264 6', 'The conclusion has major inconsistencies: the natural language states 7a\u00b2 + 5b\u00b2 + 12ab + 3 \u2264 9, but the Lean formalization has 7a + 5b + 12ab \u2264 9. The Lean version is missing the squared terms (a\u00b2 and b\u00b2) and the constant term (+3), making it a completely different mathematical statement']"}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "by the inequality $x^{2}+\tfrac{1}{4}\\geq x$", "statement": "We assume:\n\u2022 (This is a general inequality for real numbers)\nTherefore, we conclude:\n\u2022 For any real number x, $x^2 + 1/4 \\geq x$ [l2].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (x : \u211d) : x^2 + 1/4 \u2265 x := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 (x : \u211d) : x^2 + 1/4 \u2265 x := by\n  have h_main : x^2 + 1/4 - x \u2265 0 := by\n    have h\u2081 : x^2 + 1/4 - x = (x - 1 / 2) ^ 2 := by\n      ring_nf\n      <;>\n      norm_num\n      <;>\n      linarith\n    rw [h\u2081]\n    -- Since the square of any real number is non-negative, (x - 1 / 2) ^ 2 \u2265 0\n    nlinarith [sq_nonneg (x - 1 / 2)]\n  \n  have h_final : x^2 + 1/4 \u2265 x := by\n    have h\u2082 : x^2 + 1/4 - x \u2265 0 := h_main\n    -- Add x to both sides to get the desired inequality\n    linarith\n  \n  exact h_final", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization perfectly captures the natural language statement. The inequality x^2 + 1/4 \u2265 x is exactly represented, the universal quantification over real numbers is properly expressed through the parameter (x : \u211d), and the theorem name l2 corresponds to the label [l2]. All mathematical and logical content from the natural language is faithfully represented in the Lean code."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "we have $7a^{2}+\tfrac{7}{4}\\geq 7a$ and $5b^{2}+\tfrac{5}{4}\\geq 5b$, so adding yields $7a^{2}+5b^{2}+3\\geq 7a+5b$", "statement": "We assume:\n\u2022 a and b are real numbers [tc_1].\n\u2022 For any real number x, $x^2 + 1/4 \\geq x$ [l2].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+3 \\geq 7a+5b$ [l3].", "dependencies": ["tc_1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (a b : \u211d) \n  (h1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) \n  (h2 : \u2200 x : \u211d, x^2 + 1/4 \u2265 x) :\n  7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (a b : \u211d) \n  (h1 : 9 * a^2 + 8 * a * b + 7 * b^2 \u2264 6) \n  (h2 : \u2200 x : \u211d, x^2 + 1/4 \u2265 x) :\n  7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b := by\n  have h3 : a^2 + 1 / 4 \u2265 a := by\n    have h3\u2081 : a ^ 2 + 1 / 4 \u2265 a := by\n      have h3\u2082 := h2 a\n      linarith\n    exact h3\u2081\n  \n  have h4 : 7 * a^2 + 7 / 4 \u2265 7 * a := by\n    have h4\u2081 : 7 * (a ^ 2 + 1 / 4) \u2265 7 * a := by\n      -- Multiply both sides of h3 by 7 to get the desired inequality\n      have h4\u2082 : a ^ 2 + 1 / 4 \u2265 a := h3\n      nlinarith\n    -- Simplify the left side of the inequality\n    linarith\n  \n  have h5 : b^2 + 1 / 4 \u2265 b := by\n    have h5\u2081 : b ^ 2 + 1 / 4 \u2265 b := by\n      have h5\u2082 := h2 b\n      linarith\n    exact h5\u2081\n  \n  have h6 : 5 * b^2 + 5 / 4 \u2265 5 * b := by\n    have h6\u2081 : 5 * (b ^ 2 + 1 / 4) \u2265 5 * b := by\n      -- Multiply both sides of h5 by 5 to get the desired inequality\n      have h6\u2082 : b ^ 2 + 1 / 4 \u2265 b := h5\n      nlinarith\n    -- Simplify the left side of the inequality\n    linarith\n  \n  have h7 : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b := by\n    have h7\u2081 : 7 * a ^ 2 + 7 / 4 \u2265 7 * a := h4\n    have h7\u2082 : 5 * b ^ 2 + 5 / 4 \u2265 5 * b := h6\n    -- Add the two inequalities and simplify to get the final result\n    have h7\u2083 : 7 * a ^ 2 + 5 * b ^ 2 + 3 \u2265 7 * a + 5 * b := by\n      linarith\n    exact h7\u2083\n  \n  exact h7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations for a and b as real numbers match exactly", "The universal quantification over real x with the inequality x\u00b2 + 1/4 \u2265 x is correctly formalized", "The conclusion 7a\u00b2 + 5b\u00b2 + 3 \u2265 7a + 5b is correctly formalized with proper operator precedence", "The Lean formalization includes an additional hypothesis h1 that constrains a and b, which is not mentioned in the natural language but doesn't contradict it. This is acceptable as extra conditions are allowed."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "Therefore $7a^{2}+5b^{2}+12ab+3\\geq 7a+5b+12ab$.", "statement": "We assume:\n\u2022 $7a^2+5b^2+3 \\geq 7a+5b$ [l3].\nTherefore, we conclude:\n\u2022 $7a^2+5b^2+12ab+3 \\geq 7a+5b+12ab$ [l4].", "dependencies": ["l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (a b : \u211d) \n  (h : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (a b : \u211d) \n  (h : 7 * a^2 + 5 * b^2 + 3 \u2265 7 * a + 5 * b) :\n  7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b := by\n  have h\u2081 : 7 * a^2 + 5 * b^2 + 3 + 12 * a * b \u2265 7 * a + 5 * b + 12 * a * b := by\n    have h\u2082 : 7 * a^2 + 5 * b^2 + 3 + 12 * a * b = (7 * a^2 + 5 * b^2 + 3) + 12 * a * b := by ring\n    have h\u2083 : 7 * a + 5 * b + 12 * a * b = (7 * a + 5 * b) + 12 * a * b := by ring\n    have h\u2084 : (7 * a^2 + 5 * b^2 + 3) + 12 * a * b \u2265 (7 * a + 5 * b) + 12 * a * b := by\n      -- Add 12 * a * b to both sides of the original inequality\n      linarith\n    linarith\n  \n  have h\u2082 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = 7 * a^2 + 5 * b^2 + 3 + 12 * a * b := by\n    ring_nf\n    <;>\n    (try norm_num) <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  have h\u2083 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b := by\n    have h\u2084 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 = 7 * a^2 + 5 * b^2 + 3 + 12 * a * b := by\n      linarith\n    have h\u2085 : 7 * a^2 + 5 * b^2 + 3 + 12 * a * b \u2265 7 * a + 5 * b + 12 * a * b := by\n      linarith\n    linarith\n  \n  linarith", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean formalization correctly captures the logical structure of the natural language statement. The premise (hypothesis h) and conclusion are mathematically identical to their natural language counterparts. The differences in notation (explicit multiplication symbols, parentheses) are standard Lean syntax requirements and do not affect the mathematical meaning. The theorem structure properly represents the implication from the given premise to the desired conclusion."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "Combining both bounds gives $$7a+5b+12ab \\leq 7a^{2}+5b^{2}+12ab+3 \\leq 9$$, which proves the claim.", "statement": "We assume:\n\u2022 $7a^2+5b^2+12ab+3 \\leq 9$ [l1].\n\u2022 $7a^2+5b^2+12ab+3 \\geq 7a+5b+12ab$ [l4].\nTherefore, we conclude:\n\u2022 $7a+5b+12ab \\leq 9$ [ts_1].", "dependencies": ["l1", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b : \u211d)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b) :\n  7 * a + 5 * b + 12 * a * b \u2264 9 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (a b : \u211d)\n  (l1 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2264 9)\n  (l4 : 7 * a^2 + 5 * b^2 + 12 * a * b + 3 \u2265 7 * a + 5 * b + 12 * a * b) :\n  7 * a + 5 * b + 12 * a * b \u2264 9 := by\n  have h : 7 * a + 5 * b + 12 * a * b \u2264 7 * a^2 + 5 * b^2 + 12 * a * b + 3 := by\n    -- Use the given inequality l4 to directly obtain the desired inequality by rearranging terms.\n    linarith\n  \n  have h_main : 7 * a + 5 * b + 12 * a * b \u2264 9 := by\n    -- Combine the inequalities using transitivity of \u2264.\n    linarith\n  \n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly specify real numbers, matching the mathematical context", "First assumption l1 is accurately formalized with proper operator precedence using explicit multiplication", "Second assumption l4 correctly captures the inequality relationship between the quadratic and linear expressions", "The conclusion ts_1 precisely matches the target inequality from the natural language", "The overall logical structure correctly implements the transitivity argument: from l4 and l1, we can conclude ts_1 by the transitivity of \u2264"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    