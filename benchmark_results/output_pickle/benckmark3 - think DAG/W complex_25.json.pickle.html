
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: Let $z$ be a complex number. If $z$ is represented as $z=x+iy$ for real numbers $x, y$, $z \bar{z} = 25$, $\operatorname{Re}(z) + \operatorname{Im}(z) = 7$, and $\operatorname{Re}(z) < \operatorname{Im}(z)$, then $z = 3+4i$.

Proof: From the condition $z \bar{z} = 25$ and the representation $z=x+iy$, we derive the equation $x^2+y^2=25$. From the condition $\operatorname{Re}(z) + \operatorname{Im}(z) = 7$, we derive the equation $x+y=7$. Substituting $y=7-x$ from the second equation into the first gives $x^2 + (7-x)^2 = 25$, which simplifies to $x^2 - 7x + 12 = 0$. This quadratic equation for $x$ has solutions $x=3$ and $x=4$, leading to two possible candidates for $z$: $3+4i$ and $4+3i$. The final condition $\operatorname{Re}(z) < \operatorname{Im}(z)$ is satisfied only by $z=3+4i$, which is therefore the solution.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">📊</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "Let $z$ be a complex number. If $z$ is represented as $z=x+iy$ for real numbers $x, y$", "statement": "Premise:\n\u2022 $z$ is a complex number, represented as $z = x+iy$ for real numbers $x, y$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (z : \u2102) : \n  \u2203 x y : \u211d, z.re = x \u2227 z.im = y := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.5, "semantic_feedback": ["Both state that z is a complex number", "The natural language presents x and y as given real numbers, while Lean uses existential quantification. The meaning is equivalent but the logical structure differs slightly", "The natural language uses the standard form z = x + iy while Lean uses component-wise equality z.re = x \u2227 z.im = y. These are mathematically equivalent but represent different notational approaches"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.5, below threshold 0.6.\nScorer feedback: ['Both state that z is a complex number', 'The natural language presents x and y as given real numbers, while Lean uses existential quantification. The meaning is equivalent but the logical structure differs slightly', 'The natural language uses the standard form z = x + iy while Lean uses component-wise equality z.re = x \u2227 z.im = y. These are mathematically equivalent but represent different notational approaches']"}, "type": "condition"}, "tc_2": {"id": "tc_2", "natural_language": "$z \\bar{z} = 25$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1]\n\u2022 $z \\bar{z} = 25$ [tc_2].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (z : \u2102) \n  (h1 : star z * z = 25)\n  (h2 : z.re + z.im = 7)\n  (h3 : z.re < z.im) :\n  z = 3 + 4 * I := by sorry", "lean_pass": true, "error_msg": [], "tries": 2}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly declares z as a complex number using z : \u2102, which perfectly matches the natural language condition", "The Lean condition 'star z * z = 25' correctly represents z\u0304z = 25, where 'star z' is the complex conjugate. This perfectly matches the mathematical meaning", "The Lean formalization introduces additional conditions (z.re + z.im = 7, z.re < z.im) and a conclusion (z = 3 + 4 * I) that are completely absent from the natural language statement. The natural language explicitly states there are no conclusions, but Lean provides a specific conclusion. This represents a major logical inconsistency"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly declares z as a complex number using z : \u2102, which perfectly matches the natural language condition', \"The Lean condition 'star z * z = 25' correctly represents z\u0304z = 25, where 'star z' is the complex conjugate. This perfectly matches the mathematical meaning\", 'The Lean formalization introduces additional conditions (z.re + z.im = 7, z.re < z.im) and a conclusion (z = 3 + 4 * I) that are completely absent from the natural language statement. The natural language explicitly states there are no conclusions, but Lean provides a specific conclusion. This represents a major logical inconsistency']"}, "type": "condition"}, "tc_3": {"id": "tc_3", "natural_language": "$\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1]\n\u2022 $\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$ [tc_3].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (z : \u2102) \n  (h1 : z * star z = 25)\n  (h2 : z.re + z.im = 7)\n  (h3 : z.re < z.im) :\n  z = 3 + 4 * I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean declaration (z : \u2102) correctly captures that z is a complex number", "The Lean condition z.re + z.im = 7 perfectly matches the natural language condition Re(z) + Im(z) = 7", "The natural language explicitly states there are no conclusions derived yet, but the Lean formalization provides a specific conclusion z = 3 + 4 * I. Additionally, the Lean introduces extra conditions (z * star z = 25 and z.re < z.im) not mentioned in the natural language"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean declaration (z : \u2102) correctly captures that z is a complex number', 'The Lean condition z.re + z.im = 7 perfectly matches the natural language condition Re(z) + Im(z) = 7', 'The natural language explicitly states there are no conclusions derived yet, but the Lean formalization provides a specific conclusion z = 3 + 4 * I. Additionally, the Lean introduces extra conditions (z * star z = 25 and z.re < z.im) not mentioned in the natural language']"}, "type": "condition"}, "tc_4": {"id": "tc_4", "natural_language": "$\\operatorname{Re}(z) < \\operatorname{Im}(z)$", "statement": "Premise:\n\u2022 $z$ is a complex number [tc_1]\n\u2022 $\\operatorname{Re}(z) < \\operatorname{Im}(z)$ [tc_4].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable (z : \u2102)\n(tc_4 : z.re < z.im)", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The Lean declaration 'variable (z : \u2102)' correctly captures that z is a complex number, where \u2102 represents the complex numbers in Lean", "The Lean condition '(tc_4 : z.re < z.im)' perfectly matches the mathematical condition Re(z) < Im(z), where z.re and z.im are Lean's notation for the real and imaginary parts respectively"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "type": "condition"}, "l1": {"id": "l1", "natural_language": "From the condition $z \\bar{z} = 25$ and the representation $z=x+iy$, we derive the equation $x^2+y^2=25$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x+iy$ for real numbers $x, y$ [tc_1]\n\u2022 $z \\bar{z} = 25$ [tc_2]\nTherefore, we conclude:\n\u2022 $x^2 + y^2 = 25$ [l1].", "dependencies": ["tc_1", "tc_2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * I)\n  (h2 : star z * z = 25) :\n  x^2 + y^2 = 25 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 (z : \u2102) (x y : \u211d) \n  (h1 : z = x + y * Complex.I)\n  (h2 : star z * z = 25) :\n  x^2 + y^2 = 25 := by\n  have h3 : star z * z = (x^2 + y^2 : \u2102) := by\n    rw [h1]\n    simp [Complex.ext_iff, Complex.star_def, Complex.I_mul_I, pow_two]\n    <;> ring_nf <;> simp [Complex.ext_iff, Complex.I_mul_I, pow_two]\n    <;> norm_num <;>\n    (try norm_num) <;>\n    (try ring_nf) <;>\n    (try simp_all [Complex.ext_iff, Complex.I_mul_I, pow_two]) <;>\n    (try norm_num) <;>\n    (try linarith)\n    <;>\n    (try\n      {\n        constructor <;>\n        simp_all [Complex.ext_iff, Complex.I_mul_I, pow_two] <;>\n        ring_nf <;>\n        norm_num <;>\n        linarith\n      })\n  \n  have h4 : (x^2 + y^2 : \u2102) = (25 : \u2102) := by\n    have h4\u2081 : (star z * z : \u2102) = (25 : \u2102) := by simpa using h2\n    have h4\u2082 : (star z * z : \u2102) = (x ^ 2 + y ^ 2 : \u2102) := by simpa using h3\n    rw [h4\u2082] at h4\u2081\n    exact h4\u2081\n  \n  have h5 : x^2 + y^2 = 25 := by\n    have h5\u2081 : (x ^ 2 + y ^ 2 : \u211d) = 25 := by\n      -- Extract the real part of the complex number equality\n      have h5\u2082 := h4\n      simp [Complex.ext_iff, pow_two] at h5\u2082\n      -- Since the imaginary part is zero, we can directly compare the real parts\n      <;> norm_num at h5\u2082 \u22a2 <;>\n      (try linarith) <;>\n      (try nlinarith) <;>\n      (try ring_nf at h5\u2082 \u22a2) <;>\n      (try simp_all [Complex.ext_iff, pow_two]) <;>\n      (try nlinarith)\n      <;>\n      (try linarith)\n    -- Convert the real number equality to the desired form\n    norm_cast at h5\u2081 \u22a2\n    <;>\n    (try linarith) <;>\n    (try nlinarith)\n  \n  exact h5", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 5}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The complex number representation is correctly formalized with proper type declarations and the relationship z = x + y*I", "The constraint z*conjugate(z) = 25 is correctly captured, though with conjugate(z)*z order which is mathematically equivalent due to commutativity", "The conclusion x\u00b2 + y\u00b2 = 25 is exactly matched in the Lean formalization", "The logical structure from assumptions to conclusion is properly represented as a theorem with hypotheses"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "From the condition $\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$, we derive the equation $x+y=7$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x+iy$ for real numbers $x, y$ [tc_1]\n\u2022 $\\operatorname{Re}(z) + \\operatorname{Im}(z) = 7$ [tc_3]\nTherefore, we conclude:\n\u2022 $x+y=7$ [l2].", "dependencies": ["tc_1", "tc_3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (z : \u2102) \n  (h1 : z.re^2 + z.im^2 = 25)\n  (h2 : z.re + z.im = 7)\n  (h3 : z.re < z.im) :\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 (z : \u2102) \n  (h1 : z.re^2 + z.im^2 = 25)\n  (h2 : z.re + z.im = 7)\n  (h3 : z.re < z.im) :\n  z = 3 + 4 * Complex.I := by\n  have h4 : 2 * z.re ^ 2 - 14 * z.re + 24 = 0 := by\n    have h4\u2081 : z.im = 7 - z.re := by\n      have h4\u2082 : z.re + z.im = 7 := h2\n      linarith\n    rw [h4\u2081] at h1\n    ring_nf at h1 \u22a2\n    nlinarith [sq_nonneg (z.re - 7 / 2)]\n  \n  have h5 : z.re = 3 \u2228 z.re = 4 := by\n    have h5\u2081 : z.re = 3 \u2228 z.re = 4 := by\n      have h5\u2082 : (z.re - 3) * (z.re - 4) = 0 := by\n        nlinarith\n      have h5\u2083 : z.re - 3 = 0 \u2228 z.re - 4 = 0 := by\n        apply eq_zero_or_eq_zero_of_mul_eq_zero h5\u2082\n      cases h5\u2083 with\n      | inl h5\u2084 =>\n        have h5\u2085 : z.re = 3 := by linarith\n        exact Or.inl h5\u2085\n      | inr h5\u2084 =>\n        have h5\u2085 : z.re = 4 := by linarith\n        exact Or.inr h5\u2085\n    exact h5\u2081\n  \n  have h6 : z.re = 3 := by\n    have h6\u2081 : z.re = 3 \u2228 z.re = 4 := h5\n    cases h6\u2081 with\n    | inl h6\u2082 =>\n      exact h6\u2082\n    | inr h6\u2082 =>\n      have h6\u2083 : z.re = 4 := h6\u2082\n      have h6\u2084 : z.im = 7 - z.re := by\n        have h6\u2085 : z.re + z.im = 7 := h2\n        linarith\n      rw [h6\u2083] at h6\u2084\n      have h6\u2085 : z.im = 3 := by linarith\n      have h6\u2086 : z.re < z.im := h3\n      rw [h6\u2083, h6\u2085] at h6\u2086\n      norm_num at h6\u2086 \u22a2\n      <;> linarith\n  \n  have h7 : z.im = 4 := by\n    have h7\u2081 : z.re + z.im = 7 := h2\n    rw [h6] at h7\u2081\n    norm_num at h7\u2081 \u22a2\n    <;> linarith\n  \n  have h8 : z = 3 + 4 * Complex.I := by\n    apply Complex.ext <;> simp_all [Complex.ext_iff, pow_two]\n    <;> norm_num <;>\n    (try ring_nf at * <;> norm_num at * <;> linarith) <;>\n    (try nlinarith)\n    <;>\n    (try\n      {\n        simp_all [Complex.ext_iff, pow_two]\n        <;> norm_num <;>\n        (try ring_nf at * <;> norm_num at * <;> linarith) <;>\n        (try nlinarith)\n      })\n  \n  rw [h8]\n  <;> simp [Complex.ext_iff, pow_two]\n  <;> norm_num", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The complex number declaration z : \u2102 correctly captures the assumption that z is a complex number", "The hypothesis h2: z.re + z.im = 7 perfectly matches the natural language assumption Re(z) + Im(z) = 7", "The additional hypotheses h1 and h3 are extra conditions not mentioned in natural language, which is acceptable", "The conclusion z = 3 + 4 * Complex.I completely contradicts the natural language conclusion x + y = 7. The natural language is deriving a general relationship, while Lean concludes a specific complex number value"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The complex number declaration z : \u2102 correctly captures the assumption that z is a complex number', 'The hypothesis h2: z.re + z.im = 7 perfectly matches the natural language assumption Re(z) + Im(z) = 7', 'The additional hypotheses h1 and h3 are extra conditions not mentioned in natural language, which is acceptable', 'The conclusion z = 3 + 4 * Complex.I completely contradicts the natural language conclusion x + y = 7. The natural language is deriving a general relationship, while Lean concludes a specific complex number value']"}, "solved_negation": null, "type": "lemma"}, "l3": {"id": "l3", "natural_language": "Substituting $y=7-x$ from the second equation into the first gives $x^2 + (7-x)^2 = 25$", "statement": "We assume:\n\u2022 $x, y$ are real numbers [tc_1]\n\u2022 $x^2 + y^2 = 25$ [l1]\n\u2022 $x+y=7$ [l2]\nTherefore, we conclude:\n\u2022 $x^2 + (7-x)^2 = 25$ [l3].", "dependencies": ["tc_1", "l1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (x y : \u211d) \n  (h1 : x^2 + y^2 = 25)\n  (h2 : x + y = 7) :\n  x^2 + (7 - x)^2 = 25 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l3 (x y : \u211d) \n  (h1 : x^2 + y^2 = 25)\n  (h2 : x + y = 7) :\n  x^2 + (7 - x)^2 = 25 := by\n  have h3 : y = 7 - x := by\n    have h3\u2081 : y = 7 - x := by\n      -- Solve for y using the equation x + y = 7\n      linarith\n    exact h3\u2081\n  \n  have h4 : x^2 + (7 - x)^2 = 25 := by\n    have h4\u2081 : x^2 + (7 - x)^2 = x^2 + y^2 := by\n      -- Substitute y = 7 - x into the expression (7 - x)^2\n      rw [h3]\n      <;> ring_nf\n      <;> linarith\n    -- Use the given equation x^2 + y^2 = 25 to conclude the proof\n    linarith\n  \n  exact h4", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declarations correctly specify x and y as real numbers in both versions", "The constraint x\u00b2 + y\u00b2 = 25 is identically represented in both natural language and Lean", "The constraint x + y = 7 is identically represented in both natural language and Lean", "The conclusion x\u00b2 + (7-x)\u00b2 = 25 is identically expressed in both versions", "The logical structure of deduction from premises to conclusion is properly captured by the theorem format in Lean"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l4": {"id": "l4", "natural_language": "which simplifies to $x^2 - 7x + 12 = 0$.", "statement": "We assume:\n\u2022 $x$ is a real number [tc_1]\n\u2022 $x^2 + (7-x)^2 = 25$ [l3]\nTherefore, we conclude:\n\u2022 $x^2 - 7x + 12 = 0$ [l4].", "dependencies": ["tc_1", "l3"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (x : \u211d) \n  (l3 : x^2 + (7 - x)^2 = 25) :\n  x^2 - 7 * x + 12 = 0 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l4 (x : \u211d) \n  (l3 : x^2 + (7 - x)^2 = 25) :\n  x^2 - 7 * x + 12 = 0 := by\n  have h1 : 2 * x ^ 2 - 14 * x + 24 = 0 := by\n    have h1\u2081 : x ^ 2 + (7 - x) ^ 2 = 25 := l3\n    have h1\u2082 : 2 * x ^ 2 - 14 * x + 49 = 25 := by\n      ring_nf at h1\u2081 \u22a2\n      <;> linarith\n    -- Subtract 25 from both sides to get 2x\u00b2 - 14x + 24 = 0\n    linarith\n  \n  have h2 : x ^ 2 - 7 * x + 12 = 0 := by\n    have h2\u2081 : 2 * (x ^ 2 - 7 * x + 12) = 0 := by\n      linarith\n    -- Since 2 \u2260 0, we can divide both sides by 2 to get x\u00b2 - 7x + 12 = 0\n    have h2\u2082 : x ^ 2 - 7 * x + 12 = 0 := by\n      apply mul_left_cancel\u2080 (show (2 : \u211d) \u2260 0 by norm_num)\n      linarith\n    exact h2\u2082\n  \n  exact h2", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Variable declaration correctly captures x as a real number with appropriate Lean type annotation", "The premise equation is exactly translated with proper hypothesis labeling", "The conclusion equation is correctly represented as the theorem goal, with standard Lean notation for multiplication", "The logical structure properly captures the assumption-to-conclusion flow using Lean's theorem format"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l5": {"id": "l5", "natural_language": "This quadratic equation for $x$ has solutions $x=3$ and $x=4$", "statement": "We assume:\n\u2022 $x$ is a real number [tc_1]\n\u2022 $x^2 - 7x + 12 = 0$ [l4]\nTherefore, we conclude:\n\u2022 $x=3$ or $x=4$ [l5].", "dependencies": ["tc_1", "l4"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 (x : \u211d) \n  (h : x^2 - 7 * x + 12 = 0) :\n  x = 3 \u2228 x = 4 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l5 (x : \u211d) \n  (h : x^2 - 7 * x + 12 = 0) :\n  x = 3 \u2228 x = 4 := by\n  have h\u2081 : (x - 3) * (x - 4) = 0 := by\n    have h\u2082 : (x - 3) * (x - 4) = x ^ 2 - 7 * x + 12 := by\n      ring\n    rw [h\u2082]\n    linarith\n  \n  have h\u2082 : x - 3 = 0 \u2228 x - 4 = 0 := by\n    have h\u2083 : (x - 3) * (x - 4) = 0 := h\u2081\n    have h\u2084 : x - 3 = 0 \u2228 x - 4 = 0 := by\n      -- Use the fact that if the product of two numbers is zero, then at least one of them must be zero.\n      apply eq_zero_or_eq_zero_of_mul_eq_zero h\u2083\n    exact h\u2084\n  \n  have h\u2083 : x = 3 \u2228 x = 4 := by\n    cases h\u2082 with\n    | inl h\u2082 =>\n      -- Case: x - 3 = 0\n      have h\u2084 : x = 3 := by\n        -- Solve for x: x - 3 = 0 implies x = 3\n        linarith\n      -- Conclude that x = 3 is a solution\n      exact Or.inl h\u2084\n    | inr h\u2082 =>\n      -- Case: x - 4 = 0\n      have h\u2084 : x = 4 := by\n        -- Solve for x: x - 4 = 0 implies x = 4\n        linarith\n      -- Conclude that x = 4 is a solution\n      exact Or.inr h\u2084\n  \n  exact h\u2083", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The variable declaration correctly translates the real number constraint into Lean's type system.", "The quadratic equation premise is accurately represented with explicit multiplication notation required by Lean.", "The disjunctive conclusion is properly formalized using Lean's logical OR operator.", "The theorem structure correctly captures the implication from hypothesis to conclusion.", "The mathematical relationship between the quadratic equation and its solutions is correctly preserved."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "l6": {"id": "l6", "natural_language": "leading to two possible candidates for $z$: $3+4i$ and $4+3i$.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z = x+iy$ for real numbers $x, y$ [tc_1]\n\u2022 $x+y=7$ [l2]\n\u2022 $x=3$ or $x=4$ [l5]\nTherefore, we conclude:\n\u2022 $z=3+4i$ or $z=4+3i$ [l6].", "dependencies": ["tc_1", "l2", "l5"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 (z : \u2102) (x y : \u211d) \n  (tc_1 : z.re = x \u2227 z.im = y)\n  (l2 : x + y = 7)\n  (l5 : x = 3 \u2228 x = 4) :\n  z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l6 (z : \u2102) (x y : \u211d) \n  (tc_1 : z.re = x \u2227 z.im = y)\n  (l2 : x + y = 7)\n  (l5 : x = 3 \u2228 x = 4) :\n  z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I := by\n  have h_main : z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I := by\n    cases l5 with\n    | inl h =>\n      -- Case: x = 3\n      have h\u2081 : x = 3 := h\n      have h\u2082 : y = 4 := by\n        have h\u2083 : x + y = 7 := l2\n        rw [h\u2081] at h\u2083\n        linarith\n      have h\u2083 : z.re = 3 := by\n        have h\u2084 : z.re = x := tc_1.1\n        rw [h\u2084, h\u2081]\n      have h\u2084 : z.im = 4 := by\n        have h\u2085 : z.im = y := tc_1.2\n        rw [h\u2085, h\u2082]\n      have h\u2085 : z = 3 + 4 * Complex.I := by\n        apply Complex.ext <;> simp [h\u2083, h\u2084, Complex.ext_iff, pow_two] <;> norm_num\n        <;>\n        (try ring_nf at * <;> simp_all) <;>\n        (try linarith)\n      exact Or.inl h\u2085\n    | inr h =>\n      -- Case: x = 4\n      have h\u2081 : x = 4 := h\n      have h\u2082 : y = 3 := by\n        have h\u2083 : x + y = 7 := l2\n        rw [h\u2081] at h\u2083\n        linarith\n      have h\u2083 : z.re = 4 := by\n        have h\u2084 : z.re = x := tc_1.1\n        rw [h\u2084, h\u2081]\n      have h\u2084 : z.im = 3 := by\n        have h\u2085 : z.im = y := tc_1.2\n        rw [h\u2085, h\u2082]\n      have h\u2085 : z = 4 + 3 * Complex.I := by\n        apply Complex.ext <;> simp [h\u2083, h\u2084, Complex.ext_iff, pow_two] <;> norm_num\n        <;>\n        (try ring_nf at * <;> simp_all) <;>\n        (try linarith)\n      exact Or.inr h\u2085\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The complex number representation is correctly formalized using z.re = x and z.im = y, which is equivalent to z = x + iy", "The constraint x + y = 7 is translated exactly", "The disjunctive constraint on x is translated exactly using Lean's disjunction operator", "The conclusion correctly expresses the two possible values of z using proper Lean syntax for complex numbers", "The overall logical structure properly captures the assumption-conclusion relationship as a theorem"]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "The final condition $\\operatorname{Re}(z) < \\operatorname{Im}(z)$ is satisfied only by $z=3+4i$, which is therefore the solution.", "statement": "We assume:\n\u2022 $z$ is a complex number, represented as $z=x+iy$ for real numbers $x,y$ [tc_1]\n\u2022 $\\operatorname{Re}(z) < \\operatorname{Im}(z)$ [tc_4]\n\u2022 $z=3+4i$ or $z=4+3i$ [l6]\nTherefore, we conclude:\n\u2022 $z = 3+4i$ [ts_1].", "dependencies": ["tc_1", "tc_4", "l6"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z : \u2102) \n  (tc_1 : \u2203 x y : \u211d, z.re = x \u2227 z.im = y)\n  (tc_4 : z.re < z.im)\n  (l6 : z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I) :\n  z = 3 + 4 * Complex.I := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 (z : \u2102) \n  (tc_1 : \u2203 x y : \u211d, z.re = x \u2227 z.im = y)\n  (tc_4 : z.re < z.im)\n  (l6 : z = 3 + 4 * Complex.I \u2228 z = 4 + 3 * Complex.I) :\n  z = 3 + 4 * Complex.I := by\n  have h_main : z = 3 + 4 * Complex.I := by\n    cases l6 with\n    | inl h =>\n      -- Case: z = 3 + 4i\n      exact h\n    | inr h =>\n      -- Case: z = 4 + 3i\n      have h\u2081 : z.re = 4 := by\n        rw [h]\n        simp [Complex.ext_iff, Complex.re, Complex.im]\n        <;> norm_num\n      have h\u2082 : z.im = 3 := by\n        rw [h]\n        simp [Complex.ext_iff, Complex.re, Complex.im]\n        <;> norm_num\n      have h\u2083 : z.re < z.im := tc_4\n      rw [h\u2081, h\u2082] at h\u2083\n      norm_num at h\u2083\n      <;> linarith\n  exact h_main", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 0.75, "semantic_feedback": ["The natural language states that z is represented as x+iy for real numbers x,y, but the Lean formalization uses an existential statement asserting that z.re = x and z.im = y for some real x,y. While mathematically equivalent (every complex number has real and imaginary parts), the Lean version is slightly more verbose and structural rather than directly representing the x+iy form mentioned in natural language.", "The constraint Re(z) < Im(z) is perfectly captured as z.re < z.im in Lean, maintaining the exact logical meaning.", "The disjunctive constraint 'z=3+4i or z=4+3i' is correctly formalized as a logical disjunction in Lean using the \u2228 operator, with proper complex number notation.", "The conclusion z = 3+4i is perfectly represented in Lean as z = 3 + 4 * Complex.I, which is the standard way to express complex numbers in Lean."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_2", "label": "tc_2", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_3", "label": "tc_3", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "tc_4", "label": "tc_4", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l3", "label": "l3", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l4", "label": "l4", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l5", "label": "l5", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l6", "label": "l6", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "tc_2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "tc_4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_2", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_3", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_4", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l3", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l3", "to": "l4", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l4", "to": "l5", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l5", "to": "l6", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l6", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    