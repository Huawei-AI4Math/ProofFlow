
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Proof Graph Visualization</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
                height: 100vh;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                background: #f0f0f0;
            }
            
            #left-panel {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: white;
                border-right: 2px solid #ddd;
                height: 100vh;
                overflow: hidden;
            }
            
            #proof-str-panel {
                background: #f8f9fa;
                border-bottom: 2px solid #ddd;
                padding: 15px;
                height: 200px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            #proof-str-title {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            #proof-str-content {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
                background: white;
                padding: 12px;
                border-radius: 4px;
                border: 1px solid #e2e8f0;
            }
            
            #graph-container {
                flex: 1;
                position: relative;
                background: white;
                min-height: 0;
                overflow: hidden;
            }
            
            #mynetwork {
                width: 100%;
                height: 100%;
            }
            
            #info-panel {
                width: 40%;
                max-width: 600px;
                background: white;
                overflow-y: auto;
                padding: 20px;
                box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            }
            
            #info-panel.hidden {
                display: none;
            }
            
            .info-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            
            .info-header h2 {
                margin: 0;
                font-size: 24px;
            }
            
            .info-header .node-type {
                opacity: 0.9;
                font-size: 14px;
                margin-top: 5px;
            }
            
            .field-group {
                background: #f8f9fa;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 4px;
            }
            
            .field-name {
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 8px;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .field-value {
                color: #4a5568;
                line-height: 1.6;
                white-space: pre-wrap;
                word-wrap: break-word;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 13px;
            }
            
            .field-value.code {
                color: #4a5568;
                padding: 12px;
                border-radius: 4px;
                overflow-x: auto;
            }
            
            .sub-dict {
                background: #ffffff;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
                padding: 10px;
                margin: 8px 0;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            
            .sub-dict-title {
                font-weight: 600;
                color: #4a5568;
                margin-bottom: 8px;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .sub-dict-content {
                color: #2d3748;
                line-height: 1.5;
                font-size: 12px;
            }
            
            .placeholder {
                text-align: center;
                color: #718096;
                padding: 40px;
                font-size: 18px;
            }
            
            .placeholder-icon {
                font-size: 48px;
                margin-bottom: 20px;
                opacity: 0.3;
            }
            
            #toggle-panel {
                position: absolute;
                right: 10px;
                top: 10px;
                z-index: 1000;
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.3s;
            }
            
            #toggle-panel:hover {
                background: #764ba2;
            }
            
            .legend {
                position: absolute;
                top: 20px;
                left: 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                z-index: 100;
                max-width: 300px;
            }
            
            .legend-section {
                margin-bottom: 15px;
            }
            
            .legend-section:last-child {
                margin-bottom: 0;
            }
            
            .legend-title {
                font-weight: 600;
                font-size: 12px;
                color: #2d3748;
                margin-bottom: 8px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
                padding-bottom: 4px;
            }
            
            .legend-item {
                display: flex;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .legend-item:last-child {
                margin-bottom: 0;
            }
            
            .legend-color {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                border-radius: 3px;
            }
            
            .resizer {
                background: #ddd;
                cursor: col-resize;
                width: 4px;
                height: 100%;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 1000;
            }
            
            .resizer:hover {
                background: #bbb;
            }
            
            .resizer-vertical {
                background: #ddd;
                cursor: row-resize;
                height: 4px;
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: 1000;
            }
            
            .resizer-vertical:hover {
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="left-panel">
                <div id="proof-str-panel">
                    <div id="proof-str-title">Informal theorem and proof</div>
                    <div id="proof-str-content">Theorem: If $f$ is differentiable at $\mathbf{X}_0,$ then $f$
is continuous at $\mathbf{X}_0$.

Proof: From \eqref{eq:5.3.19} and Schwarz's inequality,
$$
|L(\mathbf{X}-\mathbf{X}_0)|\le M|\mathbf{X}-\mathbf{X}_0|,
$$
where
$$
M=(m^2_1+m^2_2+\cdots+m^2_n)^{1/2}.
$$
This and \eqref{eq:5.3.20} imply that
$$
|f(\mathbf{X})-f(\mathbf{X}_0)|\le(M+|E(\mathbf{X})|)
|\mathbf{X}-\mathbf{X}_0|,
$$
which, with \eqref{eq:5.3.21}, implies that $f$ is continuous at $\mathbf{X}_0$.
</div>
                    <div class="resizer-vertical" id="vertical-resizer"></div>
                </div>
                <div id="graph-container">
                    <button id="toggle-panel" onclick="togglePanel()">Toggle Info Panel</button>
                    <div class="legend">
                        <div class="legend-section">
                            <div class="legend-title">Node Types</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #eba0a0;"></div>
                                <span>Theorem Conditions (tc)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cfb795 ;"></div>
                                <span>Theorem Definitions (def)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8dafcc;"></div>
                                <span>Lemmas (l)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #a3c2a8;"></div>
                                <span>Theorem Solutions (ts)</span>
                            </div>

                        </div>
                        <div class="legend-section">
                            <div class="legend-title">Verification Status</div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #fa2c07;"></div>
                                <span>Formalization failed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #FFA500;"></div>
                                <span>Formalization passed</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFFFFF; border: 2px solid #00ff00;"></div>
                                <span>Fully verified</span>
                            </div>
                        </div>
                    </div>
                    <div id="mynetwork"></div>
                </div>
            </div>
            
            <div class="resizer" id="horizontal-resizer"></div>
            
            <div id="info-panel">
                <div id="info-content">
                    <div class="placeholder">
                        <div class="placeholder-icon">ðŸ“Š</div>
                        <p>Click on a node to view its details</p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript">
            // Store node information
            var nodeInfo = {"tc_1": {"id": "tc_1", "natural_language": "If $f$ is differentiable at $\\mathbf{X}_0,$", "statement": "Premise:\n\u2022 Let $f: D \\subseteq \\mathbb{R}^n \\to \\mathbb{R}$ be a function, and let $\\mathbf{X}_0$ be an interior point of $D$. $f$ is differentiable at $\\mathbf{X}_0$. By definition, this implies the existence of a vector $\\mathbf{m} = \\nabla f(\\mathbf{X}_0) = (m_1, \\dots, m_n)$, a linear map $L(\\mathbf{H}) = \\mathbf{m} \\cdot \\mathbf{H}$, and a function $E(\\mathbf{X})$ such that for $\\mathbf{X}$ in a neighborhood of $\\mathbf{X}_0$:\n  a) (referred to as eq:5.3.20) $f(\\mathbf{X}) - f(\\mathbf{X}_0) = L(\\mathbf{X}-\\mathbf{X}_0) + E(\\mathbf{X})|\\mathbf{X}-\\mathbf{X}_0|$\n  b) (referred to as eq:5.3.21) $\\lim_{\\mathbf{X} \\to \\mathbf{X}_0} E(\\mathbf{X}) = 0$ [tc_1].", "dependencies": [], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem tc_1 {n : \u2115} (D : Set (Fin n \u2192 \u211d)) (f : (Fin n \u2192 \u211d) \u2192 \u211d) \n  (X\u2080 : Fin n \u2192 \u211d) (hX\u2080 : X\u2080 \u2208 interior D) \n  (m : Fin n \u2192 \u211d) (L : (Fin n \u2192 \u211d) \u2192 \u211d) (E : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hE : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hdiff : \u2200 X \u2208 D, f X - f X\u2080 = L (X - X\u2080) + E X * \u2016X - X\u2080\u2016) :\n  ContinuousAt f X\u2080 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The Lean formalization correctly represents the function type using Fin n \u2192 \u211d for \u211d\u207f, which is standard in Lean", "The Lean formalization correctly captures that X\u2080 is an interior point of D", "The natural language states that f is differentiable at X\u2080 as a condition, but the Lean theorem takes the components of differentiability (m, L, E with their properties) as hypotheses rather than the differentiability itself. This changes the logical structure significantly", "The Lean formalization correctly represents the gradient vector m using Fin n \u2192 \u211d", "The Lean formalization correctly represents the linear map L and its definition as dot product with m using summation", "The Lean formalization correctly represents the existence of function E", "The Lean formalization correctly represents the fundamental equation, using norm notation \u2016X - X\u2080\u2016 which is equivalent to |X - X\u2080|", "The Lean formalization correctly represents the limit condition using the epsilon-delta definition"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The Lean formalization correctly represents the function type using Fin n \u2192 \u211d for \u211d\u207f, which is standard in Lean', 'The Lean formalization correctly captures that X\u2080 is an interior point of D', 'The natural language states that f is differentiable at X\u2080 as a condition, but the Lean theorem takes the components of differentiability (m, L, E with their properties) as hypotheses rather than the differentiability itself. This changes the logical structure significantly', 'The Lean formalization correctly represents the gradient vector m using Fin n \u2192 \u211d', 'The Lean formalization correctly represents the linear map L and its definition as dot product with m using summation', 'The Lean formalization correctly represents the existence of function E', 'The Lean formalization correctly represents the fundamental equation, using norm notation \u2016X - X\u2080\u2016 which is equivalent to |X - X\u2080|', 'The Lean formalization correctly represents the limit condition using the epsilon-delta definition']"}, "type": "condition"}, "def_1": {"id": "def_1", "natural_language": "where\n$$\nM=(m^2_1+m^2_2+\\cdots+m^2_n)^{1/2}.\n$$", "statement": "Definition:\n\u2022 Given the vector $\\mathbf{m} = (m_1, \\dots, m_n) = \\nabla f(\\mathbf{X}_0)$ from the definition of differentiability [tc_1], we define $M = (m_1^2 + m_2^2 + \\cdots + m_n^2)^{1/2}$, which is the Euclidean norm $|\\mathbf{m}|$ [def_1].", "dependencies": ["tc_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\nvariable {n : \u2115} (D : Set (Fin n \u2192 \u211d)) (f : (Fin n \u2192 \u211d) \u2192 \u211d) \n  (X\u2080 : Fin n \u2192 \u211d) (hX\u2080 : X\u2080 \u2208 interior D) \n  (m : Fin n \u2192 \u211d) (L : (Fin n \u2192 \u211d) \u2192 \u211d) (E : (Fin n \u2192 \u211d) \u2192 \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hE : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hdiff : \u2200 X \u2208 D, f X - f X\u2080 = L (X - X\u2080) + E X * \u2016X - X\u2080\u2016)\n\ntheorem def_1 : \n  let M := (\u2211 i, (m i)^2)^(1/2 : \u211d)\n  ContinuousAt f X\u2080 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {}, "score": {"semantic_score": 0.0, "semantic_feedback": ["The condition that m is the gradient of f at X\u2080 is completely missing from the Lean formalization", "The mathematical definition of M as the square root of sum of squares matches perfectly between the natural language and Lean", "The conclusion that M equals the Euclidean norm |m| is not stated in the Lean formalization", "The Lean conclusion 'ContinuousAt f X\u2080' is completely unrelated to the natural language statement, which is about defining a norm, not about continuity"]}, "error_report": {"error_type": "Formalizer", "error_report": "Formalization is likely incorrect: semantic score is 0.0, below threshold 0.6.\nScorer feedback: ['The condition that m is the gradient of f at X\u2080 is completely missing from the Lean formalization', 'The mathematical definition of M as the square root of sum of squares matches perfectly between the natural language and Lean', 'The conclusion that M equals the Euclidean norm |m| is not stated in the Lean formalization', \"The Lean conclusion 'ContinuousAt f X\u2080' is completely unrelated to the natural language statement, which is about defining a norm, not about continuity\"]"}, "type": "definition"}, "l1": {"id": "l1", "natural_language": "From \\eqref{eq:5.3.19} and Schwarz's inequality,\n$$\n|L(\\mathbf{X}-\\mathbf{X}_0)|\\le M|\\mathbf{X}-\\mathbf{X}_0|,\n$$", "statement": "We assume:\n\u2022 The linear map $L$ is defined as $L(\\mathbf{H}) = \\mathbf{m} \\cdot \\mathbf{H}$ [tc_1];\n\u2022 $M = |\\mathbf{m}|$ [def_1].\nTherefore, we conclude:\n\u2022 $|L(\\mathbf{X}-\\mathbf{X}_0)| \\le M|\\mathbf{X}-\\mathbf{X}_0|$ [l1].", "dependencies": ["tc_1", "def_1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 {n : \u2115} (m : Fin n \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d)\n  (L : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hM : M = (\u2211 i, (m i)^2)^(1/2 : \u211d))\n  (X : Fin n \u2192 \u211d) :\n  |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l1 {n : \u2115} (m : Fin n \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d)\n  (L : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hM : M = (\u2211 i, (m i)^2)^(1/2 : \u211d))\n  (X : Fin n \u2192 \u211d) :\n  |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n  have hM_nonneg : M \u2265 0 := by\n    have h\u2081 : M = (\u2211 i : Fin n, (m i) ^ 2) ^ (1 / 2 : \u211d) := by\n      simpa using hM\n    rw [h\u2081]\n    have h\u2082 : (\u2211 i : Fin n, (m i) ^ 2 : \u211d) \u2265 0 := by\n      apply Finset.sum_nonneg\n      intro i _\n      nlinarith\n    have h\u2083 : ((\u2211 i : Fin n, (m i) ^ 2 : \u211d) : \u211d) \u2265 0 := by exact_mod_cast h\u2082\n    have h\u2084 : ((\u2211 i : Fin n, (m i) ^ 2 : \u211d) : \u211d) ^ (1 / 2 : \u211d) \u2265 0 := by\n      apply Real.rpow_nonneg\n      <;> linarith\n    exact_mod_cast h\u2084\n  \n  have h_cauchy_schwarz : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n    have h\u2081 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n      -- Use the Cauchy-Schwarz inequality in the form of sum of products squared less than or equal to product of sums of squares\n      have h\u2082 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n        -- Use the Cauchy-Schwarz inequality for real numbers\n        have h\u2083 : 0 \u2264 \u2211 i : Fin n, (m i)^2 := by\n          apply Finset.sum_nonneg\n          intro i _\n          nlinarith\n        have h\u2084 : 0 \u2264 \u2211 i : Fin n, (X i - X\u2080 i)^2 := by\n          apply Finset.sum_nonneg\n          intro i _\n          nlinarith\n        have h\u2085 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n          -- Use the Cauchy-Schwarz inequality for real numbers\n          calc\n            (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 = (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 := rfl\n            _ \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n              -- Use the Cauchy-Schwarz inequality for real numbers\n              have h\u2086 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n                -- Use the Cauchy-Schwarz inequality for real numbers\n                calc\n                  (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 = (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 := rfl\n                  _ \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n                    -- Use the Cauchy-Schwarz inequality for real numbers\n                    have h\u2087 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n                      -- Use the Cauchy-Schwarz inequality for real numbers\n                      exact\n                        calc\n                          (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n                            -- Use the Cauchy-Schwarz inequality for real numbers\n                            have h\u2088 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n                              -- Use the Cauchy-Schwarz inequality for real numbers\n                              exact\n                                (sq_nonneg (\u2211 i : Fin n, m i * (X i - X\u2080 i))) _\n                            exact h\u2088\n                          _ = (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by rfl\n                    exact h\u2087\n              exact h\u2086\n        exact h\u2085\n      exact h\u2082\n    exact h\u2081\n  \n  have h_norm_sq : \u2016X - X\u2080\u2016 ^ 2 = \u2211 i : Fin n, (X i - X\u2080 i)^2 := by\n    have h\u2081 : \u2016X - X\u2080\u2016 = \u2016X - X\u2080\u2016 := rfl\n    rw [h\u2081]\n    -- Use the property of the norm to expand the square of the norm\n    have h\u2082 : \u2016X - X\u2080\u2016 ^ 2 = \u2211 i : Fin n, (X i - X\u2080 i) ^ 2 := by\n      -- Use the definition of the norm for the space of functions from Fin n to \u211d\n      simp [Pi.norm_def, Real.norm_eq_abs, sq_abs]\n      <;>\n      simp_all [Finset.sum_congr]\n      <;>\n      ring_nf\n      <;>\n      norm_cast\n      <;>\n      simp_all [Finset.sum_congr]\n      <;>\n      linarith\n    -- The result follows directly from the property of the norm\n    rw [h\u2082]\n    <;>\n    simp_all\n  \n  have hM_sq : M ^ 2 = \u2211 i : Fin n, (m i)^2 := by\n    have h\u2081 : M = (\u2211 i : Fin n, (m i) ^ 2) ^ (1 / 2 : \u211d) := by\n      simpa using hM\n    rw [h\u2081]\n    have h\u2082 : ((\u2211 i : Fin n, (m i) ^ 2 : \u211d) : \u211d) \u2265 0 := by\n      apply Finset.sum_nonneg\n      intro i _\n      nlinarith\n    have h\u2083 : (((\u2211 i : Fin n, (m i) ^ 2 : \u211d) : \u211d) ^ (1 / 2 : \u211d)) ^ 2 = (\u2211 i : Fin n, (m i) ^ 2 : \u211d) := by\n      rw [\u2190 Real.rpow_nat_cast]\n      rw [\u2190 Real.rpow_mul] <;> ring_nf <;> norm_num <;>\n      (try positivity) <;>\n      (try linarith)\n      <;>\n      (try\n        {\n          positivity\n        })\n    calc\n      (((\u2211 i : Fin n, (m i) ^ 2 : \u211d) : \u211d) ^ (1 / 2 : \u211d)) ^ 2 = (\u2211 i : Fin n, (m i) ^ 2 : \u211d) := by rw [h\u2083]\n      _ = \u2211 i : Fin n, (m i) ^ 2 := by simp [Finset.sum_congr]\n  \n  have h_L_sq : (L (X - X\u2080))^2 \u2264 M^2 * \u2016X - X\u2080\u2016^2 := by\n    have h\u2081 : (L (X - X\u2080))^2 = (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 := by\n      calc\n        (L (X - X\u2080))^2 = (\u2211 i : Fin n, m i * (X - X\u2080) i)^2 := by\n          have h\u2082 : L (X - X\u2080) = \u2211 i : Fin n, m i * (X - X\u2080) i := by\n            simp [hL]\n          rw [h\u2082]\n          <;>\n          simp [Finset.sum_sub_distrib, Finset.sum_add_distrib]\n        _ = (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 := by\n          simp [Pi.sub_apply]\n          <;>\n          simp_all [Finset.sum_sub_distrib, Finset.sum_add_distrib]\n          <;>\n          ring_nf\n          <;>\n          simp_all [Finset.sum_sub_distrib, Finset.sum_add_distrib]\n          <;>\n          linarith\n    rw [h\u2081]\n    have h\u2082 : (\u2211 i : Fin n, m i * (X i - X\u2080 i))^2 \u2264 (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := h_cauchy_schwarz\n    have h\u2083 : (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) = M^2 * \u2016X - X\u2080\u2016^2 := by\n      calc\n        (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) = (\u2211 i : Fin n, (m i)^2) * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := rfl\n        _ = M ^ 2 * (\u2211 i : Fin n, (X i - X\u2080 i)^2) := by\n          rw [hM_sq]\n          <;> ring_nf\n        _ = M ^ 2 * \u2016X - X\u2080\u2016 ^ 2 := by\n          rw [h_norm_sq]\n          <;> ring_nf\n    nlinarith\n  \n  have h_final : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n    have h\u2081 : 0 \u2264 M := hM_nonneg\n    have h\u2082 : 0 \u2264 \u2016X - X\u2080\u2016 := by positivity\n    have h\u2083 : 0 \u2264 M * \u2016X - X\u2080\u2016 := by positivity\n    have h\u2084 : (L (X - X\u2080))^2 \u2264 (M * \u2016X - X\u2080\u2016)^2 := by\n      calc\n        (L (X - X\u2080))^2 \u2264 M^2 * \u2016X - X\u2080\u2016^2 := h_L_sq\n        _ = (M * \u2016X - X\u2080\u2016)^2 := by ring\n    have h\u2085 : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n      have h\u2085\u2081 : |L (X - X\u2080)| \u2265 0 := abs_nonneg _\n      have h\u2085\u2082 : (M * \u2016X - X\u2080\u2016) \u2265 0 := by positivity\n      have h\u2085\u2083 : (|L (X - X\u2080)| : \u211d) ^ 2 \u2264 (M * \u2016X - X\u2080\u2016 : \u211d) ^ 2 := by\n        calc\n          (|L (X - X\u2080)| : \u211d) ^ 2 = (L (X - X\u2080)) ^ 2 := by\n            simp [sq_abs]\n          _ \u2264 (M * \u2016X - X\u2080\u2016) ^ 2 := by\n            exact h\u2084\n      have h\u2085\u2084 : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n        nlinarith [sq_nonneg (|L (X - X\u2080)| - M * \u2016X - X\u2080\u2016)]\n      exact h\u2085\u2084\n    exact h\u2085\n  \n  exact h_final", "lean_pass": false, "lean_verify": false, "error_msg": [{"line": 58, "column": 32, "endLine": 58, "endColumn": 79, "data": "function expected at\n  sq_nonneg (\u2211 i : Fin n, m i * (X i - X\u2080 i))\nterm has type\n  0 \u2264 (\u2211 i : Fin n, m i * (X i - X\u2080 i)) ^ 2"}, {"line": 83, "column": 6, "endLine": 83, "endColumn": 14, "data": "linarith failed to find a contradiction\ncase h1.h\nn : \u2115\nm X\u2080 : Fin n \u2192 \u211d\nL : (Fin n \u2192 \u211d) \u2192 \u211d\nM : \u211d\nhL : \u2200 (h : Fin n \u2192 \u211d), L h = \u2211 i : Fin n, m i * h i\nX : Fin n \u2192 \u211d\nhM : M = (\u2211 i : Fin n, m i ^ 2) ^ 2\u207b\u00b9\nhM_nonneg : 0 \u2264 (\u2211 i : Fin n, m i ^ 2) ^ 2\u207b\u00b9\nh_cauchy_schwarz : (\u2211 i : Fin n, m i * (X i - X\u2080 i)) ^ 2 \u2264 (\u2211 i : Fin n, m i ^ 2) * \u2211 i : Fin n, (X i - X\u2080 i) ^ 2\na\u271d : \u2191(Finset.univ.sup fun b => \u2016X b - X\u2080 b\u2016\u208a) ^ 2 < \u2211 x : Fin n, (X x - X\u2080 x) ^ 2\n\u22a2 False failed"}], "tries": 5}, "score": {"semantic_score": 0, "semantic_feedback": ["The linear map definition using sum notation in Lean is mathematically equivalent to the dot product notation in natural language", "The explicit Euclidean norm formula in Lean correctly captures the vector magnitude notation from natural language", "The main inequality is preserved exactly, with equivalent norm notations used", "The Lean formalization appropriately specifies the mathematical context as finite-dimensional real vector space", "The tactics contained syntactic mistakes, so final score is 0."]}, "error_report": {"error_type": "Prover", "error_report": "Formalization appears correct (score=1.0 > 0.6), but the prover could neither prove the lemma nor its negation. This may be due to prover limitations, missing lemmas, or incomplete context."}, "solved_negation": {"lean_verify": false, "lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem not_l1 : \u00ac (\u2200 {n : \u2115} (m : Fin n \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d)\n  (L : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hM : M = (\u2211 i, (m i)^2)^(1/2 : \u211d))\n  (X : Fin n \u2192 \u211d), |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016) := by\n  intro h\n  have h\u2081 := h (n := 1) (fun _ => (2 : \u211d)) (fun _ => (0 : \u211d))\n    (fun h : Fin 1 \u2192 \u211d => \u2211 i : Fin 1, (2 : \u211d) * h i) (2 : \u211d)\n    (by\n      intro h\n      simp [Fin.sum_univ_succ]\n      <;> ring_nf\n      <;> norm_num) (by norm_num)\n    (fun _ => (1 : \u211d))\n  norm_num [Fin.sum_univ_succ, Real.norm_eq_abs] at h\u2081\n  <;> simp_all [Fin.forall_fin_one]\n  <;> norm_num at *\n  <;> linarith"}, "type": "lemma"}, "l2": {"id": "l2", "natural_language": "This and \\eqref{eq:5.3.20} imply that\n$$\n|f(\\mathbf{X})-f(\\mathbf{X}_0)|\\le(M+|E(\\mathbf{X})|)\n|\\mathbf{X}-\\mathbf{X}_0|,\n$$", "statement": "We assume:\n\u2022 From the definition of differentiability, $f(\\mathbf{X}) - f(\\mathbf{X}_0) = L(\\mathbf{X}-\\mathbf{X}_0) + E(\\mathbf{X})|\\mathbf{X}-\\mathbf{X}_0|$ [tc_1];\n\u2022 $|L(\\mathbf{X}-\\mathbf{X}_0)| \\le M|\\mathbf{X}-\\mathbf{X}_0|$ [l1].\nTherefore, we conclude:\n\u2022 $|f(\\mathbf{X})-f(\\mathbf{X}_0)| \\le (M+|E(\\mathbf{X})|) |\\mathbf{X}-\\mathbf{X}_0|$ [l2].", "dependencies": ["tc_1", "l1"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 {n : \u2115} (f : (Fin n \u2192 \u211d) \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d) \n  (m : Fin n \u2192 \u211d) (L : (Fin n \u2192 \u211d) \u2192 \u211d) (E : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hM : M = (\u2211 i, (m i)^2)^(1/2 : \u211d))\n  (hE : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hdiff : \u2200 X, f X - f X\u2080 = L (X - X\u2080) + E X * \u2016X - X\u2080\u2016)\n  (hbound : \u2200 X, |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016)\n  (X : Fin n \u2192 \u211d) :\n  |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem l2 {n : \u2115} (f : (Fin n \u2192 \u211d) \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d) \n  (m : Fin n \u2192 \u211d) (L : (Fin n \u2192 \u211d) \u2192 \u211d) (E : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hL : \u2200 h, L h = \u2211 i, m i * h i)\n  (hM : M = (\u2211 i, (m i)^2)^(1/2 : \u211d))\n  (hE : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hdiff : \u2200 X, f X - f X\u2080 = L (X - X\u2080) + E X * \u2016X - X\u2080\u2016)\n  (hbound : \u2200 X, |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016)\n  (X : Fin n \u2192 \u211d) :\n  |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016 := by\n  have h1 : |f X - f X\u2080| = |L (X - X\u2080) + E X * \u2016X - X\u2080\u2016| := by\n    have h1\u2081 : f X - f X\u2080 = L (X - X\u2080) + E X * \u2016X - X\u2080\u2016 := hdiff X\n    rw [h1\u2081]\n    <;> simp [abs_mul]\n    <;>\n    simp_all [norm_sub_rev]\n    <;>\n    ring_nf\n    <;>\n    simp_all [abs_mul]\n  \n  have h2 : |L (X - X\u2080) + E X * \u2016X - X\u2080\u2016| \u2264 |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| := by\n    -- Use the triangle inequality to bound the absolute value of the sum\n    calc\n      |L (X - X\u2080) + E X * \u2016X - X\u2080\u2016| \u2264 |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| := by\n        -- Apply the triangle inequality\n        exact abs_add (L (X - X\u2080)) (E X * \u2016X - X\u2080\u2016)\n      _ = |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| := by rfl\n  \n  have h3 : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := by\n    have h3\u2081 : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := hbound X\n    exact h3\u2081\n  \n  have h4 : |E X * \u2016X - X\u2080\u2016| = |E X| * \u2016X - X\u2080\u2016 := by\n    have h4\u2081 : 0 \u2264 \u2016X - X\u2080\u2016 := norm_nonneg (X - X\u2080)\n    have h4\u2082 : |E X * \u2016X - X\u2080\u2016| = |E X| * \u2016X - X\u2080\u2016 := by\n      calc\n        |E X * \u2016X - X\u2080\u2016| = |E X| * |\u2016X - X\u2080\u2016| := by\n          simp [abs_mul]\n        _ = |E X| * \u2016X - X\u2080\u2016 := by\n          rw [abs_of_nonneg h4\u2081]\n    exact h4\u2082\n  \n  have h5 : |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| \u2264 M * \u2016X - X\u2080\u2016 + |E X| * \u2016X - X\u2080\u2016 := by\n    have h5\u2081 : |L (X - X\u2080)| \u2264 M * \u2016X - X\u2080\u2016 := h3\n    have h5\u2082 : |E X * \u2016X - X\u2080\u2016| = |E X| * \u2016X - X\u2080\u2016 := h4\n    have h5\u2083 : 0 \u2264 |E X| * \u2016X - X\u2080\u2016 := by positivity\n    calc\n      |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| \u2264 M * \u2016X - X\u2080\u2016 + |E X * \u2016X - X\u2080\u2016| := by\n        gcongr\n      _ = M * \u2016X - X\u2080\u2016 + |E X| * \u2016X - X\u2080\u2016 := by\n        rw [h5\u2082]\n        <;>\n        simp_all [abs_mul]\n        <;>\n        ring_nf\n        <;>\n        simp_all [abs_mul]\n  \n  have h6 : M * \u2016X - X\u2080\u2016 + |E X| * \u2016X - X\u2080\u2016 = (M + |E X|) * \u2016X - X\u2080\u2016 := by\n    have h6\u2081 : M * \u2016X - X\u2080\u2016 + |E X| * \u2016X - X\u2080\u2016 = (M + |E X|) * \u2016X - X\u2080\u2016 := by\n      ring_nf\n      <;>\n      simp_all [abs_mul]\n      <;>\n      linarith\n    exact h6\u2081\n  \n  have h7 : |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016 := by\n    calc\n      |f X - f X\u2080| = |L (X - X\u2080) + E X * \u2016X - X\u2080\u2016| := by rw [h1]\n      _ \u2264 |L (X - X\u2080)| + |E X * \u2016X - X\u2080\u2016| := h2\n      _ \u2264 M * \u2016X - X\u2080\u2016 + |E X| * \u2016X - X\u2080\u2016 := h5\n      _ = (M + |E X|) * \u2016X - X\u2080\u2016 := by rw [h6]\n  \n  exact h7", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["The differentiability condition (tc_1) is correctly formalized as hdiff, with proper translation of the equation structure and notation from mathematical symbols to Lean syntax.", "The linear operator bound (l1) is accurately captured as hbound, maintaining the inequality relationship and quantification structure.", "The conclusion (l2) perfectly matches the natural language statement. The Lean formalization includes additional mathematically consistent details (hL, hM, hE) that provide necessary context for the differentiability framework without contradicting the original statement."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "lemma"}, "ts_1": {"id": "ts_1", "natural_language": "which, with \\eqref{eq:5.3.21}, implies that $f$ is continuous at $\\mathbf{X}_0$.", "statement": "We assume:\n\u2022 From the definition of differentiability, $\\lim_{\\mathbf{X} \\to \\mathbf{X}_0} E(\\mathbf{X}) = 0$ [tc_1];\n\u2022 $|f(\\mathbf{X})-f(\\mathbf{X}_0)| \\le (M+|E(\\mathbf{X})|) |\\mathbf{X}-\\mathbf{X}_0|$ [l2].\nTherefore, we conclude:\n\u2022 $f$ is continuous at $\\mathbf{X}_0$ (which is equivalent to showing $\\lim_{\\mathbf{X} \\to \\mathbf{X}_0} |f(\\mathbf{X}) - f(\\mathbf{X}_0)| = 0$) [ts_1].", "dependencies": ["tc_1", "l2"], "formalization": {"lean_code": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  {n : \u2115} (f : (Fin n \u2192 \u211d) \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d)\n  (E : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hE_limit : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hbound : \u2200 X, |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016) :\n  ContinuousAt f X\u2080 := by sorry", "lean_pass": true, "error_msg": [], "tries": 1}, "solved_lemma": {"lean_code": "import Mathlib\nimport Aesop\nset_option maxHeartbeats 0\nopen BigOperators Real Nat Topology Rat Filter\n\ntheorem ts_1 \n  {n : \u2115} (f : (Fin n \u2192 \u211d) \u2192 \u211d) (X\u2080 : Fin n \u2192 \u211d)\n  (E : (Fin n \u2192 \u211d) \u2192 \u211d) (M : \u211d)\n  (hE_limit : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 X, \u2016X - X\u2080\u2016 < \u03b4 \u2192 |E X| < \u03b5)\n  (hbound : \u2200 X, |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016) :\n  ContinuousAt f X\u2080 := by\n  have h_main : \u2200 \u03b5 > 0, \u2203 \u03b4 > 0, \u2200 (X : Fin n \u2192 \u211d), \u2016X - X\u2080\u2016 < \u03b4 \u2192 |f X - f X\u2080| < \u03b5 := by\n    intro \u03b5 h\u03b5\n    -- Step 1: Get \u03b4\u2081 such that \u2016X - X\u2080\u2016 < \u03b4\u2081 implies |E(X)| < 1\n    have h\u2081 : \u2203 \u03b4\u2081 > 0, \u2200 (X : Fin n \u2192 \u211d), \u2016X - X\u2080\u2016 < \u03b4\u2081 \u2192 |E X| < 1 := by\n      obtain \u27e8\u03b4\u2081, h\u03b4\u2081, h\u2082\u27e9 := hE_limit 1 (by norm_num)\n      refine' \u27e8\u03b4\u2081, h\u03b4\u2081, _\u27e9\n      intro X hX\n      exact h\u2082 X hX\n    obtain \u27e8\u03b4\u2081, h\u03b4\u2081_pos, h\u2082\u27e9 := h\u2081\n    -- Step 2: Choose \u03b4 = min(\u03b4\u2081, \u03b5 / (|M| + 1))\n    have h\u2083 : 0 < |M| + 1 := by positivity\n    have h\u2084 : 0 < \u03b5 / (|M| + 1) := by positivity\n    let \u03b4 := min \u03b4\u2081 (\u03b5 / (|M| + 1))\n    have h\u2085 : \u03b4 > 0 := by\n      apply lt_min\n      \u00b7 exact h\u03b4\u2081_pos\n      \u00b7 positivity\n    refine' \u27e8\u03b4, h\u2085, _\u27e9\n    -- Step 3: For \u2016X - X\u2080\u2016 < \u03b4, prove |f(X) - f(X\u2080)| < \u03b5\n    intro X hX\n    have h\u2086 : \u2016X - X\u2080\u2016 < \u03b4\u2081 := by\n      calc\n        \u2016X - X\u2080\u2016 < \u03b4 := hX\n        _ \u2264 \u03b4\u2081 := by apply min_le_left\n    have h\u2087 : |E X| < 1 := h\u2082 X h\u2086\n    have h\u2088 : \u2016X - X\u2080\u2016 < \u03b5 / (|M| + 1) := by\n      calc\n        \u2016X - X\u2080\u2016 < \u03b4 := hX\n        _ \u2264 \u03b5 / (|M| + 1) := by apply min_le_right\n    have h\u2089 : (M + |E X|) * \u2016X - X\u2080\u2016 < \u03b5 := by\n      have h\u2081\u2080 : M + |E X| \u2264 |M| + 1 := by\n        -- Prove that M + |E X| \u2264 |M| + 1\n        cases' abs_cases M with hM hM <;>\n          cases' abs_cases (E X) with hEX hEX <;>\n            linarith [h\u2087]\n      have h\u2081\u2081 : (M + |E X|) * \u2016X - X\u2080\u2016 \u2264 (|M| + 1) * \u2016X - X\u2080\u2016 := by\n        -- Use the fact that M + |E X| \u2264 |M| + 1\n        have h\u2081\u2082 : 0 \u2264 (|M| + 1 : \u211d) := by positivity\n        have h\u2081\u2083 : 0 \u2264 \u2016X - X\u2080\u2016 := norm_nonneg _\n        nlinarith [h\u2081\u2080]\n      have h\u2081\u2084 : (|M| + 1 : \u211d) * \u2016X - X\u2080\u2016 < \u03b5 := by\n        -- Since \u2016X - X\u2080\u2016 < \u03b5 / (|M| + 1)\n        calc\n          (|M| + 1 : \u211d) * \u2016X - X\u2080\u2016 < (|M| + 1 : \u211d) * (\u03b5 / (|M| + 1)) := by\n            gcongr\n          _ = \u03b5 := by\n            field_simp [h\u2083.ne']\n            <;> ring\n            <;> field_simp [h\u2083.ne']\n            <;> linarith\n      -- Combine the inequalities\n      linarith\n    -- Step 4: Use the bound on |f(X) - f(X\u2080)|\n    have h\u2081\u2080 : |f X - f X\u2080| < \u03b5 := by\n      have h\u2081\u2081 : |f X - f X\u2080| \u2264 (M + |E X|) * \u2016X - X\u2080\u2016 := hbound X\n      linarith\n    exact h\u2081\u2080\n  -- Convert the metric space condition to continuity at X\u2080\n  have h_cont : ContinuousAt f X\u2080 := by\n    rw [Metric.continuousAt_iff]\n    exact h_main\n  exact h_cont", "lean_pass": true, "lean_verify": true, "error_msg": [], "tries": 1}, "score": {"semantic_score": 1.0, "semantic_feedback": ["Function and variable declarations correctly represent all mathematical objects from the natural language, with appropriate type specifications for finite-dimensional real vectors.", "The epsilon-delta formalization of the limit condition perfectly captures the mathematical meaning of E approaching 0 as X approaches X\u2080.", "The bound inequality is faithfully translated with correct structure, absolute values, and vector norm notation.", "The continuity conclusion uses the standard mathematical definition, which is equivalent to the limit formulation mentioned in the natural language.", "The overall logical structure correctly captures the implication from the two assumptions to the continuity conclusion."]}, "error_report": {"error_type": null, "error_report": "Natural-language lemma and formalization appear consistent (lean_verify = True)."}, "solved_negation": null, "type": "solution"}};
            
            // Create nodes and edges
            var nodes = new vis.DataSet([{"id": "tc_1", "label": "tc_1", "color": {"background": "#eba0a0", "border": "#00ff00", "highlight": {"background": "#eba0a0", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "def_1", "label": "def_1", "color": {"background": "#cfb795", "border": "#00ff00", "highlight": {"background": "#cfb795", "border": "#00ff00"}}, "shape": "box", "size": 30, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l1", "label": "l1", "color": {"background": "#8dafcc", "border": "#FFA500", "highlight": {"background": "#8dafcc", "border": "#FFA500"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "l2", "label": "l2", "color": {"background": "#8dafcc", "border": "#00ff00", "highlight": {"background": "#8dafcc", "border": "#00ff00"}}, "shape": "dot", "size": 25, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}, {"id": "ts_1", "label": "ts_1", "color": {"background": "#a3c2a8", "border": "#00ff00", "highlight": {"background": "#a3c2a8", "border": "#00ff00"}}, "shape": "star", "size": 40, "font": {"size": 14, "color": "#000000"}, "labelHighlightBold": false, "borderWidth": 3, "chosen": false}]);
            var edges = new vis.DataSet([{"from": "tc_1", "to": "def_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "tc_1", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "def_1", "to": "l1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l1", "to": "l2", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}, {"from": "l2", "to": "ts_1", "arrows": "to", "color": {"color": "#666666", "highlight": "#666666", "hover": "#666666"}, "width": 2}]);
            
            // Create network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            
            var options = {
                physics: {
                    enabled: true,
                    solver: 'hierarchicalRepulsion',
                    hierarchicalRepulsion: {
                        centralGravity: 0.0,
                        springLength: 200,
                        springConstant: 0.01,
                        nodeDistance: 150,
                        damping: 0.09
                    }
                },
                edges: {
                    smooth: {
                        type: 'continuous',
                        forceDirection: 'none'
                    },
                    color: {
                        color: '#666666',
                        highlight: '#666666',
                        hover: '#666666'
                    },
                    width: 2
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 100,
                    navigationButtons: true,
                    keyboard: true
                },
                nodes: {
                    font: {
                        size: 14,
                        color: '#000000'
                    },
                    labelHighlightBold: false,
                    chosen: false,
                    shapeProperties: {
                        useBorderWithImage: false
                    },
                    scaling: {
                        label: {
                            enabled: true,
                            min: 8,
                            max: 20,
                            maxVisible: 20,
                            drawThreshold: 5
                        }
                    }
                }
            };
            
            var network = new vis.Network(container, data, options);
            
            // Format field value for display
            function formatFieldValue(value, fieldName) {
                if (value === null || value === undefined) {
                    return 'N/A';
                }
                
                // Handle objects (dictionaries) as sub-boxes
                if (typeof value === 'object' && !Array.isArray(value)) {
                    var html = '';
                    for (var key in value) {
                        if (value.hasOwnProperty(key)) {
                            var subValue = value[key];
                            var subValueStr = '';
                            
                            if (typeof subValue === 'object' &&
                                    !Array.isArray(subValue)) {
                                // Nested object - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else if (Array.isArray(subValue)) {
                                // Array - show as JSON
                                subValueStr = JSON.stringify(subValue, null, 2);
                            } else {
                                // Primitive value
                                subValueStr = String(subValue);
                            }
                            
                            // Replace escaped newlines and tabs with actual characters
                            subValueStr = subValueStr.replace(/\\n/g, '\n');
                            subValueStr = subValueStr.replace(/\\t/g, '\t');
                            subValueStr = subValueStr.replace(/\t/g, '\t');
                            
                            html += '<div class="sub-dict">';
                            html += '<div class="sub-dict-title">' + key + '</div>';
                            html += '<div class="sub-dict-content">' + subValueStr + '</div>';
                            html += '</div>';
                        }
                    }
                    return html;
                }
                
                // Convert to string for primitive values and arrays
                var strValue = String(value);
                
                // Handle arrays
                if (Array.isArray(value)) {
                    strValue = JSON.stringify(value, null, 2);
                }
                
                // Replace escaped newlines and tabs with actual characters
                strValue = strValue.replace(/\\n/g, '\n');
                strValue = strValue.replace(/\\t/g, '\t');
                strValue = strValue.replace(/\t/g, '\t');
                
                return strValue;
            }
            
            // Handle node click events
            network.on("click", function(params) {
                if (params.nodes.length > 0) {
                    var nodeId = params.nodes[0];
                    var info = nodeInfo[nodeId];
                    
                    if (info) {
                        var html = '<div class="info-header">';
                        html += '<h2>' + nodeId + '</h2>';
                        var nodeType = info.type || 'unknown';
                        var capitalizedType = nodeType.charAt(0).toUpperCase() +
                            nodeType.slice(1);
                        html += '<div class="node-type">Type: ' + capitalizedType +
                            '</div>';
                        html += '</div>';
                        
                        // Add all fields
                        for (var key in info) {
                            if (key === 'type' || key === 'id') continue;
                            
                            var fieldName = key.replace(/_/g, ' ')
                                .replace(/\b\w/g, function(l) {
                                    return l.toUpperCase();
                                });
                            var fieldValue = formatFieldValue(info[key], fieldName);
                            
                            if (fieldValue && fieldValue !== 'N/A') {
                                // Special formatting for code fields
                                var isCode = key.includes('code') ||
                                    key.includes('lean') ||
                                    key.includes('statement');
                                
                                html += '<div class="field-group">';
                                html += '<div class="field-name">' + fieldName +
                                    '</div>';
                                html += '<div class="field-value' +
                                    (isCode ? ' code' : '') + '">' +
                                    fieldValue + '</div>';
                                html += '</div>';
                            }
                        }
                        
                        document.getElementById('info-content')
                            .innerHTML = html;
                    }
                }
            });
            
            // Toggle panel function
            function togglePanel() {
                var panel = document.getElementById('info-panel');
                panel.classList.toggle('hidden');
                
                // Resize network when panel is toggled
                setTimeout(function() {
                    network.fit();
                }, 300);
            }
            
            // Initial network fit
            network.once('stabilized', function() {
                network.fit();
            });
            
            // Resizable panels functionality
            function makeResizable() {
                const verticalResizer = document.getElementById('vertical-resizer');
                const horizontalResizer = document.getElementById('horizontal-resizer');
                const proofPanel = document.getElementById('proof-str-panel');
                const graphContainer = document.getElementById('graph-container');
                const infoPanel = document.getElementById('info-panel');
                const leftPanel = document.getElementById('left-panel');
                
                let isVerticalResizing = false;
                let isHorizontalResizing = false;
                
                // Vertical resizer (between proof panel and graph)
                verticalResizer.addEventListener('mousedown', function(e) {
                    isVerticalResizing = true;
                    document.addEventListener('mousemove', verticalResize);
                    document.addEventListener('mouseup', stopVerticalResize);
                    e.preventDefault();
                });
                
                function verticalResize(e) {
                    if (!isVerticalResizing) return;
                    
                    const containerHeight = leftPanel.offsetHeight;
                    const newHeight = e.clientY - leftPanel.offsetTop;
                    const minHeight = 100;
                    const maxHeight = containerHeight - 100;
                    
                    if (newHeight >= minHeight && newHeight <= maxHeight) {
                        proofPanel.style.height = newHeight + 'px';
                        graphContainer.style.height = (containerHeight - newHeight) + 'px';
                        network.fit();
                    }
                }
                
                function stopVerticalResize() {
                    isVerticalResizing = false;
                    document.removeEventListener('mousemove', verticalResize);
                    document.removeEventListener('mouseup', stopVerticalResize);
                }
                
                // Horizontal resizer (between left and right panels)
                horizontalResizer.addEventListener('mousedown', function(e) {
                    isHorizontalResizing = true;
                    document.addEventListener('mousemove', horizontalResize);
                    document.addEventListener('mouseup', stopHorizontalResize);
                    e.preventDefault();
                });
                
                function horizontalResize(e) {
                    if (!isHorizontalResizing) return;
                    
                    const containerWidth = document.querySelector('.container').offsetWidth;
                    const newWidth = e.clientX - leftPanel.offsetLeft;
                    const minWidth = 300;
                    const maxWidth = containerWidth - 300;
                    
                    if (newWidth >= minWidth && newWidth <= maxWidth) {
                        leftPanel.style.flex = 'none';
                        leftPanel.style.width = newWidth + 'px';
                        infoPanel.style.width = (containerWidth - newWidth) + 'px';
                        network.fit();
                    }
                }
                
                function stopHorizontalResize() {
                    isHorizontalResizing = false;
                    document.removeEventListener('mousemove', horizontalResize);
                    document.removeEventListener('mouseup', stopHorizontalResize);
                }
            }
            
            // Initialize resizable panels
            makeResizable();
        </script>
    </body>
    </html>
    